{"meta":{"title":"ITæŠ€æœ¯åšå®¢","subtitle":"ä¸€ä¸ªæŠ€æœ¯äººçš„å®éªŒå®¤","description":"å…¨æ ˆå·¥ç¨‹å¸ˆ/äº§å“ç»ç†/æ¸¸æˆå¼€å‘","author":"éƒ­æ–¹è¶…","url":"http://www.guofangchao.com"},"pages":[{"title":"å¸®åŠ©","date":"2018-03-14T14:42:32.000Z","updated":"2018-03-14T14:43:24.718Z","comments":true,"path":"help/index.html","permalink":"http://www.guofangchao.com/help/index.html","excerpt":"","text":"æœ‰é—®é¢˜å¯ä»¥åœ¨è¿™ä¸ªä¸‹é¢ç•™è¨€ã€‚","keywords":null},{"title":"å‹æƒ…é“¾æ¥","date":"2018-03-14T14:44:49.000Z","updated":"2018-03-14T14:45:25.610Z","comments":true,"path":"links/index.html","permalink":"http://www.guofangchao.com/links/index.html","excerpt":"","text":"ä¸ªäººåšå®¢","keywords":null},{"title":"æ ‡ç­¾","date":"2016-11-15T11:10:05.000Z","updated":"2018-03-21T11:27:30.193Z","comments":true,"path":"tags/index.html","permalink":"http://www.guofangchao.com/tags/index.html","excerpt":"","text":""},{"title":"åˆ†ç±»","date":"2016-11-15T11:11:13.000Z","updated":"2018-03-21T11:26:06.964Z","comments":true,"path":"categories/index.html","permalink":"http://www.guofangchao.com/categories/index.html","excerpt":"","text":""},{"title":"å…³äºæˆ‘","date":"2018-03-14T07:30:30.000Z","updated":"2018-03-21T14:51:42.904Z","comments":true,"path":"about/index.html","permalink":"http://www.guofangchao.com/about/index.html","excerpt":"","text":"éƒ­æ–¹è¶…,ç”Ÿäº1986å¹´. 2012å¹´-2015å¹´,åœ¨æ³½æ—­æ‹…ä»»æŠ€æœ¯å·¥ç¨‹å¸ˆ. 2015å¹´-2016å¹´,åœ¨ç‘æ ¼ä¼ æ’­æ‹…ä»»é¡¹ç›®ç»ç†. 2016å¹´-2017å¹´,åœ¨æ¥å§æ—…è¡Œç½‘æ‹…ä»»å‰ç«¯æ¶æ„å¸ˆ. 2017å¹´-2018å¹´,åœ¨è¾¾ä»¤æ‹…ä»»å‰ç«¯æ¶æ„å¸ˆ. æƒ³åŠ å‹é“¾çš„å¯ä»¥åœ¨ä¸‹é¢ç•™è¨€ï¼Œè¯·å…ˆåŠ å¥½å†ç”³è¯·ã€‚","keywords":null}],"posts":[{"title":"ReactNativeçƒ­æ›´æ–°ç³»ç»Ÿ","slug":"ReactNativeçƒ­æ›´æ–°ç³»ç»Ÿ","date":"2019-08-21T08:48:00.000Z","updated":"2019-08-21T08:48:27.328Z","comments":true,"path":"2019/08/21/ReactNativeçƒ­æ›´æ–°ç³»ç»Ÿ/","link":"","permalink":"http://www.guofangchao.com/2019/08/21/ReactNativeçƒ­æ›´æ–°ç³»ç»Ÿ/","excerpt":"","text":"çƒ­æ›´æ–°æ˜¯ä¸€ä¸ªéå¸¸æ–¹ä¾¿çš„æ–¹æ¡ˆã€‚åœ¨åº”å¯¹å¤§é‡ç”¨æˆ·å’Œæ·±åº¦å®šåˆ¶çš„æ—¶å€™ä¸€å®šä¸èƒ½ä½¿ç”¨å¼€æºçš„æ–¹æ¡ˆã€‚ä¸€èˆ¬ç¬¬ä¸‰æ–¹çš„è¿™ç§æ–¹æ¡ˆï¼ŒæœåŠ¡å™¨å¸¦å®½è¾ƒå°ï¼Œæˆ–è€…ä¸å¤Ÿçµæ´»ï¼Œä¸èƒ½æ»¡è¶³è‡ªå·±çš„æƒ³æ³•ã€‚è¿™é‡Œæ¨èè‡ªå·±å®ç°å¯¹åº”çš„çƒ­æ›´æ–°æ–¹æ¡ˆã€‚åªéœ€è¦å°‘é‡ä»£ç å³å¯æ”¯æŒã€‚ä¸‹é¢æ¨èä¸€ç§çµæ´»çš„çƒ­æ›´æ–°æ–¹æ¡ˆã€‚åŒ…æ‹¬å®¢æˆ·ç«¯çš„æ”¹é€ ã€æ¥å£è®¾è®¡ã€ç•Œé¢å¼€å‘ï¼ŒåŒæ—¶æ˜¯å¼€æºçš„ï¼å¯ä»¥è‡ªç”±æ”¹é€ ã€‚ ä½“éªŒåœ°å€ï¼šdemo ç”¨æˆ·åå¯†ç éƒ½æ˜¯ï¼šadmin åŸºç¡€æ•°æ®çš„å‡†å¤‡å’Œå®ç°é¦–å…ˆç¬¬ä¸€ç‚¹ï¼Œä¸€ä¸ªAPPå¦‚æœè¦æ”¯æŒçƒ­æ›´æ–°ï¼Œéœ€è¦åœ¨æ‰“å¼€APPï¼ˆæˆ–è€…å…¶ä»–è¿›å…¥RNé¡µé¢ä¹‹å‰ï¼‰å°±è¦åˆ¤æ–­æ˜¯å¦éœ€è¦æ›´æ–°bundleæ–‡ä»¶ã€‚è¿™é‡Œå°±æ˜¯æˆ‘ä»¬å®ç°çƒ­æ›´æ–°çš„èŠ‚ç‚¹ã€‚ä¸€æ—¦éœ€è¦çƒ­æ›´æ–°å°±å¼€å§‹ä¸‹è½½æ–‡ä»¶ï¼Œè€Œåˆ¤æ–­çš„æ¥å£å°±æ˜¯æˆ‘ä»¬è¿™æ¬¡æ–‡ç« çš„æ ¸å¿ƒå†…å®¹ã€‚è¿™é‡Œç®€å•è´´å‡ºå®‰å“å’Œiosä¸¤ç«¯çš„ä¸‹è½½é€»è¾‘ã€‚ è¯·æ±‚ä¹‹å‰éœ€è¦åœ¨headä¸­é™„å¸¦ä¸Šå®¢æˆ·ç«¯çš„å‡ ä¸ªé‡è¦ä¿¡æ¯ã€‚å®¢æˆ·ç«¯ç‰ˆæœ¬å·versionã€å®¢æˆ·ç«¯å”¯ä¸€id:clientidã€å®¢æˆ·ç«¯ç±»å‹platformã€å®¢æˆ·ç«¯å“ç‰Œbrandã€‚ iosä¸‹è½½çš„ä¾‹å­1234567891011121314151617181920212223242526272829303132333435363738394041424344-(void)doCheckUpdate&#123; self.upView.viewButtonStart.hidden = YES; if ([XCUploadManager isFileExist:[XCUploadManager bundlePathUrl].path]) &#123;//æ²™ç›’é‡Œå·²ç»æœ‰äº†ä¸‹è½½å¥½çš„jsbundleï¼Œä»¥æ²™ç›’æ–‡ä»¶ä¼˜å…ˆ self.oldSign = [FileHash md5HashOfFileAtPath:[XCUploadManager bundlePathUrl].path]; &#125;else &#123;//çœŸæœºè®¡ç®—å‡ºçš„åŒ…å†…bundlemd5æœ‰å˜åŒ–ï¼Œå¯èƒ½æ˜¯å‹ç¼©äº†ï¼Œæ‰€ä»¥è¿™é‡Œå†™æ­»åˆå§‹åŒ–çš„md5 // NSString *ipPath = [[NSBundle mainBundle] pathForResource:@\"main\" ofType:@\"jsbundle\"]; // self.oldSign = [FileHash md5HashOfFileAtPath:ipPath]; self.oldSign = projectBundleMd5; &#125; AFHTTPSessionManager *_sharedClient = [[AFHTTPSessionManager alloc] initWithBaseURL:[NSURL URLWithString:@\"http://test.com\"]]; [self initAFNetClient:_sharedClient]; [_sharedClient GET:@\"api/check\" parameters:nil progress:nil success:^(NSURLSessionDataTask * __unused task, id JSON) &#123; NSDictionary *dic = [JSON valueForKeyPath:@\"data\"]; BOOL isNeedLoadBundle = YES; if ([dic isKindOfClass:[NSDictionary class]]) &#123; self.updateSign = [dic stringForKey:@\"sign\"]; self.downLoadUrl = [dic stringForKey:@\"downloadUrl\"]; if(self.updateSign.length &amp;&amp; self.oldSign.length &amp;&amp; (![self.updateSign isEqualToString:self.oldSign])) &#123; //éœ€è¦æ›´æ–°bundleæ–‡ä»¶äº† self.upView.viewUpdate.hidden = NO; [self updateBundleNow]; isNeedLoadBundle = NO; &#125;else &#123; //ä¸éœ€è¦æ›´æ–°bundleæ–‡ä»¶ï¼Œå†å¤„ç†è·³è¿‡æŒ‰é’®æ˜¾ç¤ºé€»è¾‘ [self.upView showSkipButtonOrNot]; &#125; &#125; if (isNeedLoadBundle) &#123; [self loadBundle]; &#125; &#125; failure:^(NSURLSessionDataTask *__unused task, NSError *error) &#123; [self loadBundle]; &#125;];&#125; å®‰å“ä¸‹è½½çš„ä¾‹å­1234567891011121314151617181920212223242526272829303132333435363738private void requestData() &#123; subscribe = DalingNetwork .getDalingApi() .getBundleVersion() .subscribeOn(Schedulers.io()) .observeOn(AndroidSchedulers.mainThread()) .subscribe(new BaseSubscriber&lt;BundleVersionResponse&gt;() &#123; @Override public void onError(Throwable e) &#123; startMainActivity(); e.printStackTrace(); &#125; @Override public void onNext(final BundleVersionResponse response) &#123; isJSNeedUpdate = false; if (response.status == 0) &#123; if (response.data != null) &#123; if (MainApplication.getApplication().getBundleMD5().equalsIgnoreCase(response.data.sign)) &#123; //å’Œæœ¬åœ°ç‰ˆæœ¬ç›¸åŒï¼Œç›´æ¥è¿›å…¥ä¸»é¡µ isJSNeedUpdate = false; tv_skip.setVisibility(View.VISIBLE); startMainActivity(); &#125; else &#123; //ä¸‹è½½å‡çº§ isJSNeedUpdate = true; downloadSign = response.data.sign; downloadUrl = response.data.downloadUrl; downLoad(response.data.downloadUrl, response.data.sign); &#125; &#125; &#125; else &#123; startMainActivity(); &#125; &#125; &#125;); &#125; ç³»ç»Ÿè®¾è®¡æ–¹æ¡ˆé¦–å…ˆæ¥çœ‹ä¸€ä¸‹æˆ‘ä»¬æ˜¯æ€æ ·è®¾è®¡å®¢æˆ·ç«¯è·å–æ›´æ–°é€»è¾‘çš„ã€‚ å®¢æˆ·ç«¯è¯·æ±‚çš„æ—¶å€™ä¼šå¸¦ä¸Šç‰ˆæœ¬å·ã€å¹³å°2ä¸ªé‡è¦ä¿¡æ¯ã€‚ æ¥å£æ‹¿åˆ°è¯·æ±‚ä¹‹åæŸ¥è¯¢å¯¹åº”çš„æœ¬åœ°ç¼“å­˜ï¼Œæ²¡æœ‰åˆ™å»æ•°æ®åº“æŸ¥è¯¢ã€‚ ä»æŸ¥è¯¢ç»“æœä¸­ç­›æŸ¥å¯¹åº”çš„3æ®µæ•°æ®ï¼šç™½åå•ã€ç°åº¦ã€å…¨é‡ï¼Œåˆ¤æ–­é¡ºåºä»å·¦åˆ°å³ã€‚ è¿”å›æŸ¥è¯¢ä¹‹åå¯¹åº”çš„ç»“æœã€‚ æ•°æ®åº“ç­‰è®¾è®¡ä¸Šé¢çš„è®¾è®¡æ˜¯åŸºç¡€çš„é€»è¾‘ï¼Œä¸‹é¢æˆ‘ä»¬ç»§ç»­ç»†åŒ–é€»è¾‘ã€‚å…¶ä¸­ä¸ºäº†æ”¯æŒæ›´å¥½çš„æ€§èƒ½å’Œåˆ†å¸ƒå¼åšäº†ä¸€äº›å…¶ä»–çš„æ–¹æ¡ˆè®¾è®¡ã€‚ æ ¹æ®é€»è¾‘è‡ªè¡Œè®¾è®¡æ˜¯å®Œå…¨å¯ä»¥çš„ğŸ˜ æ•°æ®åº“è®¾è®¡æˆ‘ä»¬é€‰æ‹©MySQLä½œä¸ºåŸºç¡€æ•°æ®åº“ï¼Œè´Ÿè´£å­˜å‚¨æ¯æ¬¡å‘å¸ƒä¹‹åçš„æ•°æ®ä¿å­˜ã€‚fe_bundleè¡¨å­˜å‚¨çš„æ˜¯æ¯æ¬¡å‘å¸ƒçš„bundleä¿¡æ¯ï¼Œä¸»è¦åˆ†3ä¸ªéƒ¨åˆ†ï¼š è¡¨æœ¬èº«éœ€è¦çš„æ•°æ®ã€‚idã€çŠ¶æ€ã€æ“ä½œäººã€å‘å¸ƒè¯´æ˜ã€‚ åˆ¤æ–­æ˜¯å¦æ›´æ–°çš„ä¾æ®å­—æ®µã€‚ç‰ˆæœ¬å·ã€å¹³å°ã€å®¢æˆ·ç«¯idã€bundleçš„ç­¾åã€åœ°å€ã€å‹ç¼©åŒ…çš„åœ°å€ã€‚ ä½œä¸ºé™„åŠ æ•°æ®åœ¨æ¥å£è¿”å›çš„ã€‚æ ‡ç­¾idã€æ ‡ç­¾å†…å®¹ã€‚ fe_labelsè¡¨å°±æ˜¯ä½œä¸ºé™„åŠ æ•°æ®å­˜å‚¨çš„ã€‚å¦‚æœæƒ³è¦åœ¨æ¥å£ä¸Šè¿”å›ä¸€äº›å¤æ‚çš„æ“ä½œï¼Œæ¯”å¦‚æ˜¾ç¤ºéšè—æŸä¸ªç•Œé¢ã€æ˜¯å¦åŠ è½½æŸä¸ªbundleã€æ˜¯å¦å¼ºåˆ¶æ›´æ–°ç­‰ï¼Œéƒ½å¯ä»¥åœ¨è¿™é‡Œè®¾ç½®ã€‚è¿™ä¸ªè¡¨æœ¬èº«åªæ”¯æŒæ·»åŠ å’Œæ˜¯å¦å¯ç”¨ï¼Œä¸æ”¯æŒåˆ é™¤ï¼Œé˜²æ­¢è¯¯æ“ä½œã€‚ æ ¹æ®å®é™…æƒ…å†µå‡å°‘å­—æ®µçš„é•¿åº¦å¯ä»¥ä¼˜åŒ–æ•°æ®åº“çš„æŸ¥è¯¢æ€§èƒ½ã€‚æ¯”å¦‚æ˜µç§°çš„é•¿åº¦ä¸ä¼šè¶…è¿‡10ä¸ªå­—ç¬¦ã€‚å¤§é‡æ•°æ®çš„æƒ…å†µä¸‹æ·»åŠ ç´¢å¼•ä¹Ÿä¼šæé«˜æ•°æ®åº“æ€§èƒ½ã€‚æŸ¥è¯¢çš„æ—¶å€™åªæŸ¥è¯¢éœ€è¦çš„å­—æ®µä¹Ÿå¯ä»¥å‡å°‘æŸ¥è¯¢çš„æ—¶é—´ã€‚ å‘å¸ƒè®¢é˜…è®¾è®¡ä½¿ç”¨å‘å¸ƒè®¢é˜…æ¨¡å¼ä¸»è¦æ˜¯ä¸ºäº†åŒæ­¥æ¯æ¬¡å‘å¸ƒçš„ç»“æœã€‚è¿™æ ·åšå¯ä»¥è§£è€¦å‘å¸ƒå’Œæœ¬åœ°ç¼“å­˜æ›´æ–°ï¼Œå¤šä¸ªæœåŠ¡å™¨æ”¯æŒä¹Ÿä¸ä¼šå‡ºç°èµ„æºäº‰å¤ºæˆ–è€…æ›´æ–°ä¸åŠæ—¶çš„æƒ…å†µã€‚ è¿™é‡Œä½¿ç”¨çš„æ˜¯redisçš„å‘å¸ƒè®¢é˜…æ¨¡å¼ï¼Œå¯ä»¥é€‰çš„å…¶ä»–æ–¹æ¡ˆæœ‰MQçš„æ¶ˆæ¯é˜Ÿåˆ—ç­‰æ–¹å¼ã€‚åœ¨æ”¶åˆ°æ¶ˆæ¯çš„æ—¶å€™ä¸»åŠ¨æ›´æ–°æœ¬åœ°ç¼“å­˜ã€‚ æœ¬åœ°ç¼“å­˜è®¾è®¡æ¥å£å“åº”é€Ÿåº¦å¿«ä¸å¿«çš„å…³é”®å°±æ˜¯åœ¨æœ¬åœ°ç¼“å­˜è¿™é‡Œäº†ã€‚æ¯•ç«Ÿåœ¨ç”¨æˆ·å¤§é‡è®¿é—®çš„æƒ…å†µä¸‹ï¼Œä¸€ä¸ªæ•°æ®åº“æ˜¯éå¸¸éš¾æ”¯æ’‘çš„ã€‚è¿™é‡Œåˆ©ç”¨æœ¬åœ°ç¼“å­˜å‡å°‘æ•°æ®åº“çš„æŸ¥è¯¢ï¼Œä¸ç®¡æ˜¯é¢å¯¹å¤šå°‘ç”¨æˆ·ï¼Œå®é™…åœ¨å·¥ä½œçš„å°±åªæœ‰æ¥å£æ‰€åœ¨çš„æœåŠ¡å™¨çº¿ç¨‹ã€‚è€Œä¸”è¿™é‡Œåˆ©ç”¨äº†nodejsçš„é«˜å¹¶å‘ä¼˜åŠ¿ï¼Œåªè¦æœºå™¨æŠ—çš„ä½ï¼Œæˆ‘ä»¬çš„æœåŠ¡å°±ä¸ä¼šå¡é¡¿æˆ–è€…æŒ‚æ‰ã€‚æœåŠ¡èƒ½æ”¯æŒçš„å¹¶å‘æ•°å‡ ä¹ç­‰äºæœºå™¨æ”¯æŒçš„å¹¶å‘æ•°ã€‚ æœ¬åœ°ç¼“å­˜çš„ä¼˜ç‚¹å°±æ˜¯æŸ¥è¯¢é€Ÿåº¦å¿«ï¼Œæ²¡æœ‰ç½‘ç»œè¯·æ±‚çš„æ¶ˆè€—ã€‚ åœ¨é‡åˆ°ç¼“å­˜æ²¡æœ‰çš„æƒ…å†µä¸‹ï¼Œå»æ•°æ®åº“è¯»å–æ•°æ®å¹¶ç¼“å­˜åœ¨æœ¬åœ°ã€‚ ä½¿ç”¨åŒç¼“å­˜ï¼Œé¿å…å¤šä¸ªè¯·æ±‚æ¥ä¸´çš„æƒ…å†µä¸‹å¹¶å‘æ‰“å®æ•°æ®åº“ã€‚ åŒç¼“å­˜åªæ˜¯åº”å¯¹ç‰¹æ®Šæƒ…å†µï¼Œæ¯”å¦‚æœ¬åœ°ç¼“å­˜å¤±æ•ˆã€æœåŠ¡å™¨é‡å¯ç­‰æƒ…å†µä¸‹çš„å¤§é‡è¯·æ±‚ã€‚æ­£å¸¸æƒ…å†µä¸‹å‘å¸ƒè®¢é˜…å·²ç»è§£å†³äº†æœ¬åœ°ç¼“å­˜çš„é—®é¢˜ã€‚ å‰å°ç•Œé¢å¼€å‘å‰å°ç•Œé¢ä½¿ç”¨React+Mobx+ElementUIå®ç°ã€‚è¿™é‡Œé€‰æ‹©è¿™ä¸ªæŠ€æœ¯æ ˆä¸»è¦æ˜¯ä¸ºäº†æ–¹ä¾¿ï¼Œæ¯•ç«Ÿä¼šRNçš„å¼€å‘è€…å¤§æ¦‚ç‡æ˜¯å¯ä»¥å¾ˆå¿«ä¸Šæ‰‹Reactçš„ã€‚ Reactä½œä¸ºåŸºç¡€æ¡†æ¶ï¼Œåˆ©ç”¨æ¡†æ¶çš„ä¼˜åŠ¿å¿«é€Ÿå¼€å‘ã€‚ Mobxä½œä¸ºçŠ¶æ€ç®¡ç†ï¼Œè¿™æ¬¡é¡¹ç›®ä¸­åªåˆ©ç”¨åˆ°äº†ç”¨æˆ·ä¿¡æ¯çš„å…¨å±€ç®¡ç†ã€‚ ElementUIçš„å‡ ä¸ªUIè¿˜ä¸é”™ï¼Œè¿™é‡Œåˆ©ç”¨ç°æˆçš„UIå¼€å‘ï¼Œå‰©ä¸‹å¤§é‡çš„è®¾è®¡ç²¾åŠ›ã€‚ ç™»å½•ç•Œé¢ç™»å½•åªéœ€è¦ç®€å•çš„ä¸€ä¸ªèƒŒæ™¯+ç™»å½•ä¿¡æ¯è¾“å…¥æ¡†å³å¯ã€‚æœ‰å…´è¶£çš„å¯ä»¥ä¼˜åŒ–ä¸€ä¸‹ï¼Œè®©ç•Œé¢æ›´å¥½çœ‹ã€‚è¿™é‡Œåˆ©ç”¨Mobxå°†ç”¨æˆ·çš„ç™»å½•ä¿¡æ¯ä¿å­˜åœ¨å…¨å±€ç¼“å­˜ä¸­ã€‚è¿™ä¸ªè®¾è®¡æ¯”è¾ƒç®€é™‹ï¼Œåœ¨å…¬å¸å†…éƒ¨ç”¨ä¸€ä¸‹è¿˜å¯ä»¥äº†ã€‚å¦‚æœæ˜¯å¼€å‘ç»™æ›´å¤šäººç”¨ä¸€å®šè¦å®Œå–„ä¸€ä¸‹ï¼ŒæŠŠç”¨æˆ·é‰´æƒåšçš„æ›´å®‰å…¨ä¸€äº›ã€‚ bundleç®¡ç†ç•Œé¢åˆ—è¡¨ç®¡ç†åªéœ€è¦æ˜¾ç¤ºå…³é”®ä¿¡æ¯å³å¯ã€‚åˆ—å‡ºæŸ¥è¯¢çš„å‡ ä¸ªå‚æ•°ï¼Œæ–¹ä¾¿æŸ¥è¯¢ã€‚åœ¨ç‚¹å‡»åˆ é™¤çš„æ—¶å€™è¦å¼¹å‡ºæ˜¯å¦åˆ é™¤çš„æç¤ºï¼Œç‚¹å‡»å‘å¸ƒçš„æ—¶å€™ä¹Ÿéœ€è¦å¼¹å‡ºæç¤ºã€‚ç¼–è¾‘çš„æ—¶å€™ç»™å‡ºå‡ ä¸ªå›ºå®šé€‰é¡¹ã€‚å¦‚æœæ˜¯ç°åº¦çš„æ—¶å€™è¿˜èƒ½å¤Ÿé€‰æ‹©ä¸åŒçš„æ‰‹æœºå“ç‰Œã€ç°åº¦çš„æ¯”ä¾‹ã€‚å¦‚æœæ˜¯ç™½åå•æ¨¡å¼ï¼Œéœ€è¦å¡«å…¥ç™½åå•å¯¹åº”çš„clientidã€‚ æ ‡ç­¾ç®¡ç†æ ‡ç­¾çš„æ ¸å¿ƒå°±æ˜¯æ·»åŠ å’Œä½¿ç”¨ã€‚åœ¨æ·»åŠ çš„æ—¶å€™å®šä¹‰å¥½æ·»åŠ çš„å­—æ®µå’Œå€¼ç±»å‹ã€‚åªéœ€è¦ä¸€æ¬¡æ·»åŠ å³å¯å®Œæˆã€‚å®¢æˆ·ç«¯å…¼å®¹ğŸˆšï¸å€¼æƒ…å†µä¸‹çš„å…¼å®¹å°±å¥½äº†ã€‚ åç«¯æ¥å£å¼€å‘æ¥å£åˆ†2ä¸ªéƒ¨åˆ†ï¼Œä¸€éƒ¨åˆ†æ˜¯åº”å¯¹åå°çš„ç¼–è¾‘åˆ—è¡¨ç­‰æ¥å£ï¼Œå¦å¤–ä¸€ä¸ªéƒ¨åˆ†æ˜¯åº”å¯¹å¤§é‡ç”¨æˆ·çš„æŸ¥è¯¢æ¥å£ã€‚ ç¼–è¾‘æŸ¥è¯¢æ¥å£æ¥å£å¼€å‘å…¶å®éå¸¸ç®€å•ï¼Œå¦‚æœå¯¹æ•°æ®åº“ä½¿ç”¨ä¸ç†Ÿç»ƒçš„å¯ä»¥çœ‹çœ‹ç›¸åº”çš„æ–‡æ¡£æˆ–è€…æ•™ç¨‹ã€‚sequelizeç®€å•æ•™ç¨‹ æ¥å£å¼€å‘3ä¸ªæ­¥éª¤ï¼š è·å–è¯·æ±‚çš„å‚æ•°ã€‚è¿™é‡Œæœ€å¥½æ·»åŠ é»˜è®¤å€¼å¤„ç†ï¼Œå¼‚å¸¸æ ¡éªŒã€‚ æŸ¥è¯¢æ•°æ®åº“ã€‚å¤„ç†æ­£å¸¸è¿”å›å’ŒcatchæŠ¥é”™çš„2ç§æƒ…å†µã€‚ æŒ‰ç…§çº¦å®šçš„è§„èŒƒè¿”å›å…·ä½“çš„å†…å®¹ã€‚ è¿™é‡Œçº¦å®šï¼Œè¿”å›status=0æ˜¯æŸ¥è¯¢æˆåŠŸï¼Œæ‰€æœ‰æ•°æ®æ”¾åœ¨dataå­—æ®µé‡Œã€‚è¿”å›status=1ä»£è¡¨æŸ¥è¯¢å¤±è´¥ï¼Œé”™è¯¯ä¿¡æ¯æ”¾åœ¨msgå­—æ®µé‡Œã€‚ æŸ¥è¯¢æ¥å£æŸ¥è¯¢æ¥å£åˆ†2ä¸ªçº¿ç¨‹ï¼Œä¸€ä¸ªçº¿ç¨‹æ˜¯ç½‘ç»œè¯·æ±‚çº¿ç¨‹ï¼Œç®¡ç†æ¥è®¿çš„ç½‘ç»œè¯·æ±‚å’Œç­›é€‰è¿”å›ã€‚å¦å¤–ä¸€ä¸ªçº¿ç¨‹ç®¡ç†æœ¬åœ°æ›´æ–°ï¼Œé€šè¿‡redisçš„è®¢é˜…æ¨¡å¼è§¦å‘å¯¹åº”çš„æ•°æ®æ›´æ–°ã€‚ ç¼“å­˜æ›´æ–°å½“redisé€šçŸ¥åˆ°éœ€è¦æ›´æ–°çš„æ—¶å€™ä¼šå¸¦ä¸Šç‰ˆæœ¬å·ã€å¹³å°çš„æ•°æ®åº“ã€‚æˆ‘ä»¬æœ¬åœ°ç¼“å­˜ä¹Ÿæ˜¯ç”±è¿™2ä¸ªå­—æ®µä½œä¸ºkeyç¼“å­˜çš„ã€‚searchFromServiceè¿™ä¸ªæ–¹æ³•ä¸»è¦æ˜¯ä»æ•°æ®åº“æ‹¿å¯¹åº”çš„æ•°æ®åˆ—è¡¨ï¼Œå¹¶ä¸”åœ¨æ‹¿åˆ°æ•°æ®ä¹‹åæ‰‹å·¥æŠŠæ•°æ®åˆ†ä¸º3ä¸ªéƒ¨åˆ†ï¼Œåˆ†åˆ«ç”¨æ¥å¤„ç†ç™½åå•ã€ç°åº¦ã€å…¨é‡çš„æ•°æ®ã€‚ä»–ä»¬å¯¹åº”çš„è¿”å›ä¹Ÿæ˜¯Nä¸ªç™½åå•ã€Nä¸ªç°åº¦ã€1ä¸ªå…¨é‡æ•°æ®ã€‚ ç½‘ç»œè¯·æ±‚ç½‘ç»œè¯·æ±‚é€»è¾‘è¾ƒå¤æ‚ï¼Œéœ€è¦é¦–å…ˆä»ç¼“å­˜ä¸­æ‹¿æ•°æ®ï¼ŒåŒæ—¶å¯èƒ½è§¦å‘æ•°æ®åº“æ‹¿æ•°æ®å¹¶å¤„ç†åˆ°ç¼“å­˜ä¸­ï¼Œå¤‡ä»½ç¼“å­˜æ‹¿æ•°æ®å¹¶è¿”å›ã€‚æ•°æ®æ¥æºç¡®å®šä¹‹åå°±å¼€å§‹åˆ†é˜¶æ®µç­›é€‰ã€‚ ç­›é€‰æ˜¯å¦å­˜åœ¨åˆé€‚çš„ç™½åå•æ•°æ®ã€‚ ç­›é€‰æ˜¯å¦å­˜åœ¨åˆé€‚çš„ç°åº¦æ•°æ® åˆ¤æ–­å¯¹åº”çš„å…¨é‡æ•°æ®æ˜¯å¦å­˜åœ¨ã€‚ ä»¥ä¸Šåˆ¤æ–­å…¨éƒ¨å®Œæˆä¹‹åå°±å¯ä»¥çŸ¥é“æœ¬æ¬¡è¯·æ±‚æ˜¯å¦æœ‰åˆé€‚çš„bundleäº†ã€‚æ²¡æœ‰çš„è¯å®¢æˆ·ç«¯ä¹Ÿä¸éœ€è¦æ›´æ–°ã€‚ç”¨æˆ·å¯ä»¥æ­£å¸¸æ‰“å¼€å¹¶æµè§ˆã€‚ åˆ¤æ–­ç°åº¦çš„æ—¶å€™clientidä¸­å¯èƒ½ä¼šå¸¦å­—æ¯ã€‚è¿™æƒ…å†µä¸‹éœ€è¦å°†å­—æ¯è½¬ä¸ºæ•°æ®å†åˆ¤æ–­ã€‚è¿™é‡Œçš„è½¬åŒ–æ˜¯ç®€å•çš„å­—æ¯æ•°å­—å¯¹åº”ï¼Œå…·ä½“è¡¨ç°å°±æ˜¯ç™¾åˆ†æ¯”å‰ç§»ã€‚å‰60%çš„ç”¨æˆ·é‡ä¼šå¤§äºå40%çš„ç”¨æˆ·é‡ã€‚å¦‚æœå¯¹è¿™ä¸ªæœ‰è¦æ±‚çš„å¯ä»¥æŒ‰ç…§26è¿›åˆ¶è½¬10è¿›åˆ¶çš„æ–¹å¼è½¬åŒ–æ•°æ®ã€‚æ‹¿åˆ°çš„å°±æ˜¯çœŸå®çš„ç™¾åˆ†æ¯”äº†ã€‚ æºä»£ç åœ°å€å‰å°é¡µé¢åœ°å€ï¼šå‰å°ä»£ç  åå°æ¥å£åœ°å€ï¼šåå°ä»£ç  æ•°æ®åº“åœ°å€ï¼šæ•°æ®åº“ä»£ç ","categories":[{"name":"å‰ç«¯","slug":"big-front-end","permalink":"http://www.guofangchao.com/categories/big-front-end/"}],"tags":[{"name":"reactnatiev","slug":"reactnatiev","permalink":"http://www.guofangchao.com/tags/reactnatiev/"}],"keywords":[{"name":"å‰ç«¯","slug":"big-front-end","permalink":"http://www.guofangchao.com/categories/big-front-end/"}]},{"title":"è·å–gitå½“å‰åˆ†æ”¯å","slug":"è·å–gitå½“å‰åˆ†æ”¯å","date":"2019-05-05T04:16:00.000Z","updated":"2019-05-05T07:11:35.493Z","comments":true,"path":"2019/05/05/è·å–gitå½“å‰åˆ†æ”¯å/","link":"","permalink":"http://www.guofangchao.com/2019/05/05/è·å–gitå½“å‰åˆ†æ”¯å/","excerpt":"","text":"ä½¿ç”¨gitè·å–åˆ†æ”¯åæœ‰ä¸¤ç§æ–¹å¼ã€‚ 12345678910const child_process = require(&apos;child_process&apos;);let res = child_process.execSync(&apos;git symbolic-ref --short -q HEAD&apos;, &#123; encoding: &apos;utf8&apos;&#125;);let res2 = child_process.execSync(&apos;git branch | grep &quot;*&quot;&apos;, &#123; encoding: &apos;utf8&apos;&#125;);console.log(res, res2) å¦‚æœæ²¡æœ‰æäº¤æ–°åˆ†æ”¯ï¼Œä½¿ç”¨ç¬¬äºŒç§è·å–ä¸åˆ°åˆ†æ”¯åã€‚ 123456const fs = require(&quot;fs&quot;);const path = require(&quot;path&quot;);let str = fs.readFileSync(path.resolve(&apos;/Users/mac/space/xc_app_rn&apos;, &apos;.git/HEAD&apos;), &#123; encoding: &apos;utf8&apos; &#125;);console.log(str.replace(&apos;ref: refs/heads/&apos;, &apos;&apos;))","categories":[{"name":"git","slug":"git","permalink":"http://www.guofangchao.com/categories/git/"}],"tags":[{"name":"node","slug":"node","permalink":"http://www.guofangchao.com/tags/node/"}],"keywords":[{"name":"git","slug":"git","permalink":"http://www.guofangchao.com/categories/git/"}]},{"title":"æµå¼ç¼–ç¨‹ï¼šè®©é¡µé¢é£èµ·æ¥","slug":"æµå¼ç¼–ç¨‹ï¼šè®©é¡µé¢é£èµ·æ¥","date":"2019-04-18T15:39:00.000Z","updated":"2019-04-18T15:39:50.933Z","comments":true,"path":"2019/04/18/æµå¼ç¼–ç¨‹ï¼šè®©é¡µé¢é£èµ·æ¥/","link":"","permalink":"http://www.guofangchao.com/2019/04/18/æµå¼ç¼–ç¨‹ï¼šè®©é¡µé¢é£èµ·æ¥/","excerpt":"","text":"æœ‰æ—¶å€™ä¹Ÿå¯ä»¥æˆä¸ºå‡½æ•°å¼ç¼–ç¨‹ã€‚å®ƒçš„ä¸»è¦ç›®çš„æ˜¯åœ¨æ•°æ®æ‹‰å–çš„è¿‡ç¨‹ä¸­æ¸²æŸ“é¡µé¢ï¼Œå³è¾¹å¤„ç†æ•°æ®è¾¹æ¸²æŸ“é¡µé¢ã€‚ ç±»ä¼¼æ¦‚å¿µï¼š æµå¼åº”ç”¨ï¼šRxjs æµå¼åˆ—è¡¨ æµå¼å¤„ç†ï¼šå¤§æ•°æ®ã€å®æ—¶è®¡ç®— æ–‡ä»¶å¤„ç†ã€å­—èŠ‚æµã€åŠ å¯†ã€ç½‘ç»œ æµå¼åº”ç”¨ ç€‘å¸ƒæµ å®æ—¶è®¡ç®— æµå¤„ç† æ¥æºå’Œç»“è®ºé¡µé¢ç»“æ„åŸå§‹é¡µé¢æ˜¯åµŒå¥—çš„ï¼Œä½†æ˜¯å»æ‰åµŒå¥—æ¥çœ‹ï¼Œæ•´ä¸ªé¡µé¢æ˜¯ä¸€ä¸ªä»ä¸Šåˆ°ä¸‹çš„æ¸²æŸ“è¿‡ç¨‹ã€‚åœ¨æ¸²æŸ“çš„è¿‡ç¨‹ä¸­å¦‚æœè§¦å‘é¡µé¢é‡ç»˜ï¼Œä¹Ÿå°±æ˜¯å‡ºç°è„±ç¦»æ–‡æ¡£æµçš„æ ·å¼ï¼Œæ•´ä¸ªé¡µé¢çš„æ€§èƒ½å°±ä¼šä¸‹é™ã€‚ä»è¿™ä¸ªæ–¹é¢è®²ï¼Œå‰ç«¯ç»“æ„æ˜¯éœ€è¦å°½é‡æµå¼çš„å±•ç¤ºçš„ã€‚ æ¥å£è¯·æ±‚æ‰“å¼€é¡µé¢ç”šè‡³åœ¨é¡µé¢ä»€ä¹ˆä¹Ÿæ²¡æœ‰å±•ç¤ºçš„æ—¶å€™ï¼Œæ¥å£å°±ä¼šè¯·æ±‚æ•°æ®ã€‚ æœ‰çš„è¯·æ±‚3ã€5ä¸ªï¼Œæœ‰çš„è¯·æ±‚10å¤šä¸ªã€‚ä»æ•´ä½“ä¸Šçœ‹ï¼Œå¤§å¤šæ•°æ¥å£æ˜¯ä¸€ä¸ªé¡ºåºè¯·æ±‚çš„è¿‡ç¨‹ã€‚å®ƒæ”¶åˆ°é¡µé¢ç»“æ„çš„å½±å“ï¼Œè¿‡å¿«çš„è¯·æ±‚åè€Œæ¸²æŸ“çš„ä¸æ˜¯æ‰€éœ€è¦çš„åœ°æ–¹ã€‚ å¹¶è¡Œçš„è¯·æ±‚é¡ºåºå°±å¯ä»¥çœ‹åšæ˜¯ä¸€ä¸ªæµå¼çš„è¿‡ç¨‹ã€‚ tips:æœ‰äº›æ¥å£å¯ä»¥åŒæ—¶å¼‚æ­¥æ‰§è¡Œï¼Œä½¿ç”¨å¹¶è¡Œè¯·æ±‚ï¼Œå°†é¡µé¢æ¸²æŸ“åˆ†ç¦»ï¼Œå¯ä»¥åŠ é€Ÿé¡µé¢çš„å‘ˆç°ã€‚tips:å¤šæ¬¡è¯·æ±‚éœ€è¦å¤šæ¬¡æ¡æ‰‹ï¼Œä½¿ç”¨http2.0å¯ä»¥åŠ é€Ÿè¿™ä¸ªæ—¶é—´ã€‚åˆå¹¶æ¥å£å¯ä»¥ç›´æ¥å»æ‰å¤šä½™æ—¶é—´ã€‚ ä¼˜åŒ–é¡ºåº æŒ‰ç…§é¡µé¢æ¸²æŸ“é¡ºåºåšå¼€å‘ã€‚æ²¡å¿…è¦å‘ˆç°çš„åæ¸²æŸ“ï¼Œå¯ä»¥åŠ é€Ÿé¡µé¢å±•ç¤ºã€‚ å¤šä½™æ¥å£åè¯·æ±‚ï¼Œä¼˜å…ˆæ¸²æŸ“ç¬¬ä¸€å±ã€‚ ä»ç»“æ„ä¸Šä¼˜åŒ–ã€‚å…ˆåŠ è½½çš„å…ˆè¯·æ±‚ï¼Œå…ˆå‘ˆç°çš„å…ˆè®¡ç®—ï¼ŒååŠ è½½çš„æ’é˜Ÿæ¥ï¼Œåå‘ˆç°çš„å åŠ è®¡ç®—ã€‚ å®ä¾‹åˆ†æå•æ¥å£æƒ…å†µå•æ¥å£çš„æ—¶å€™ä¼šé‡åˆ°æ•°æ®é‡å¤§ï¼Œç»“æ„å¤æ‚ã€‚é¡µé¢ç»“æ„ä¹Ÿä¼šç›¸åº”çš„å¢é•¿å¤æ‚åº¦ã€‚ åŠ é€Ÿæ¥å£è¿”å›é€Ÿåº¦ã€‚è¿™ä¸ªå¾€å¾€æ¯”è¾ƒå®¹æ˜“ã€‚ ä½¿ç”¨é€‚é…å™¨æ¨¡å¼å°†æ¥å£è½¬åŒ–æˆåˆé€‚çš„ç»“æ„ã€‚æ¥å£è¿”å›çš„æ•°æ®å¾€å¾€æ›´å€¾å‘äºæ¥å£ç†Ÿæ‚‰çš„æ¨¡å¼ï¼Œå¦‚æœæ¥å£çš„ç»“æ„æ— æ³•æ”¹å˜ï¼Œå°±éœ€è¦è‡ªå·±åšäºŒæ¬¡å¤„ç†ã€‚è¿™é‡Œæ³¨æ„ä¸è¦æ±¡æŸ“æ•°æ®ï¼Œå¤šæ¬¡å¼•ç”¨å®¹æ˜“é€ æˆä¸å¿…è¦çš„é—®é¢˜ã€‚ é¡µé¢å°½é‡ç»„ä»¶åŒ–ï¼Œä¸å®¹çš„ç»„ä»¶ä½¿ç”¨ä¸åŒçš„æ•°æ®ã€‚å¦‚æœé¡µé¢è¾ƒå¤§ï¼Œå¯ä»¥åˆ†æ‰¹æ¸²æŸ“ã€‚ å¤šæ¥å£å¤šæ¥å£çš„æƒ…å†µå¾€å¾€æ˜¯éœ€è¦å¹¶è¡Œçš„å’Œéœ€è¦å¹¶å‘çš„æ¥å£é½ä¸Šé˜µï¼Œä¸€ä¸æ³¨æ„å°±é€ æˆæ¥å£é˜»å¡ã€‚ æ¢³ç†æ¥å£é¡ºåºã€‚å°†ä¼˜å…ˆæ¸²æŸ“çš„æ•°æ®ä¼˜å…ˆè¯·æ±‚ï¼Œåé¢çš„æ’é˜Ÿæ¥ã€‚ ä¼˜å…ˆè¯·æ±‚çš„æ•°æ®å¼‚æ­¥æ‰§è¡Œï¼Œä¸è¦æ’é˜Ÿç­‰å¾…æ¥å£è¿”å›ã€‚ å…ˆè¿”å›çš„æ•°æ®çº¿æ¸²æŸ“ï¼Œåè¿”å›çš„æ•°æ®åæ¸²æŸ“ã€‚å¤šç§æ¸²æŸ“ä½¿ç”¨ç»„ä»¶åˆ†ç¦»ã€‚ å®æ—¶+è§¦å‘è¯·æ±‚æ¥å£çš„è¿‡ç¨‹ä¸­ä¸æ–­æœ‰ç‚¹å‡»åŠ è½½çš„æƒ…å†µã€‚å¦‚æœç‚¹å‡»æ¯”è¾ƒé¢‘ç¹ï¼Œå°±éœ€è¦é’ˆå¯¹æ€§ä¼˜åŒ– å¤šæ¬¡è§¦å‘çš„æƒ…å†µä¸‹å–æ¶ˆå‰ä¸€æ¬¡è¯·æ±‚ã€‚ å¤šæ¬¡æ¸²æŸ“çš„æƒ…å†µä¸‹ï¼Œç¼“å­˜æ¸²æŸ“ç»“æœã€‚ å¤æ‚é¡µé¢å¤æ‚ç»“æ„é¡µé¢ï¼Œåˆå¹¶ä¸Šé¢çš„ä¾‹å­ æ€»ç»“æµå¼ç¼–ç¨‹å°†é¡µé¢ç»“æ„çœ‹åšæ•°æ®ï¼Œå¤šä¸ªæ•°æ®å¹¶è¡Œå±•ç¤ºçœ‹åšä¸€ä¸ªæ•´ä½“ã€‚é€šè¿‡è¿™æ ·å®è§‚çš„æŠ½è±¡æ•´ç†ï¼Œå°†é¡µé¢å˜æˆäº†ä¸€ä¸ªæµåŠ¨çš„å¯¹è±¡ã€‚ä»æ ¹æœ¬ä¸Šæ”¹å˜äº†å¼€å‘çš„å½¢æ€ã€‚ åœ¨å®é™…å¼€å‘ä¸­ä½¿ç”¨æµå¼ç¼–ç¨‹æ€æƒ³å¯ä»¥å¾ˆå®¹æ˜“çš„å¼€å‘å‡ºé«˜æ€§èƒ½çš„é¡µé¢ã€‚é¡µé¢æ¸²æŸ“æ›´å¿«ï¼Œå±•ç¤ºæ›´åˆç†ã€‚åŒæ—¶åè¿‡æ¥åŠ é€Ÿäº†ä»£ç ç»“æ„çš„è¿›åŒ–ï¼Œä¿ƒè¿›å¼€å‘è€…æ€è€ƒå’Œæˆé•¿ã€‚","categories":[{"name":"å‰ç«¯","slug":"big-front-end","permalink":"http://www.guofangchao.com/categories/big-front-end/"}],"tags":[{"name":"å‰ç«¯","slug":"å‰ç«¯","permalink":"http://www.guofangchao.com/tags/å‰ç«¯/"}],"keywords":[{"name":"å‰ç«¯","slug":"big-front-end","permalink":"http://www.guofangchao.com/categories/big-front-end/"}]},{"title":"ç§æœ‰åº“ä½¿ç”¨æŒ‡å—","slug":"ç§æœ‰åº“ä½¿ç”¨æŒ‡å—","date":"2019-04-18T12:31:00.000Z","updated":"2019-04-18T12:31:30.152Z","comments":true,"path":"2019/04/18/ç§æœ‰åº“ä½¿ç”¨æŒ‡å—/","link":"","permalink":"http://www.guofangchao.com/2019/04/18/ç§æœ‰åº“ä½¿ç”¨æŒ‡å—/","excerpt":"","text":"npmç§æœ‰ä»“åº“çš„ä½¿ç”¨åˆ‡æ¢åº“åˆ°ç§æœ‰åº“ å…¨å±€å®‰è£…åˆ‡æ¢åº“ä½¿ç”¨çš„å·¥å…·npm i -g nrm æŠŠç§æœ‰åº“æ³¨å†Œåˆ°æœ¬åœ°ç”µè„‘nrm add daling http://npm-registry.corp.daling.com,åé¢å¡«çš„å°±æ˜¯ç§æœ‰åº“åœ°å€ å°†åº“åˆ‡æ¢åˆ°è¾¾ä»¤å®¶ç§æœ‰åº“npm use daling å¦‚æœéœ€è¦ï¼Œåˆ‡æ¢åˆ°å…¬æœ‰åº“npm use npm æ³¨å†Œç™»å½•ç§æœ‰åº“ æŸ¥è¯¢å½“å‰ç”¨æˆ·npm whoami æŸ¥è¯¢ä¸åˆ°çš„éœ€è¦ç™»å½•æˆ–è€…æ³¨å†Œï¼Œç™»å½•è‡ªåŠ¨æ³¨å†Œï¼Œå·²æ³¨å†Œçš„éœ€è¦ä½¿ç”¨è®¾ç½®çš„è´¦æˆ·å¯†ç ç™»å½•npm login å‘å¸ƒæ–°åº“ åœ¨package.jsonä¸­è®¾ç½®åº“çš„åç§°ã€‚ä¿®æ”¹nameå­—æ®µä¸º@dal/testã€‚å…¶ä¸­@æ˜¯å¿…é¡»è¦æœ‰çš„ï¼Œåé¢è·Ÿéƒ¨é—¨å›ºå®šçš„åç§°ï¼Œæ–œæ†åé¢æ˜¯å…·ä½“çš„é¡¹ç›®åã€‚ ä½¿ç”¨npmå‘å¸ƒåº“åˆ°ç§æœ‰åº“ä¸­npm publishï¼Œæ³¨æ„ç‰ˆæœ¬å·ä¸è¦é‡å¤ã€‚ ä¸‹è½½æ–°åº“ï¼Œä½¿ç”¨npm install --save @dal/test","categories":[{"name":"å‰ç«¯","slug":"big-front-end","permalink":"http://www.guofangchao.com/categories/big-front-end/"}],"tags":[{"name":"npm","slug":"npm","permalink":"http://www.guofangchao.com/tags/npm/"}],"keywords":[{"name":"å‰ç«¯","slug":"big-front-end","permalink":"http://www.guofangchao.com/categories/big-front-end/"}]},{"title":"å¾®ä¿¡æœºå™¨äºº","slug":"å¾®ä¿¡æœºå™¨äºº","date":"2019-04-03T12:38:00.000Z","updated":"2019-04-03T12:38:34.460Z","comments":true,"path":"2019/04/03/å¾®ä¿¡æœºå™¨äºº/","link":"","permalink":"http://www.guofangchao.com/2019/04/03/å¾®ä¿¡æœºå™¨äºº/","excerpt":"","text":"æŠ€æœ¯é€‰å‹ electron react ç»“æ„è®¾è®¡ é€šè®¯æ–¹å¼ æ–‡ä»¶ç»“æ„ build dist public react_config scripts server src test app.js wechat.memory-card.json å¼€å‘æ–¹å¼ å¼€å‘ç¯å¢ƒ ç”Ÿæˆç¯å¢ƒ å…¶ä»– ä½¿ç”¨electron-builderæ‰“åŒ…å‘å¸ƒåº”ç”¨ ä¿®æ”¹react_configæ˜¯ä¸ºäº†ç»™æ•´ä¸ªåº”ç”¨çš„é…ç½®æ–‡ä»¶ä¿ç•™ä½ç½®","categories":[{"name":"å‰ç«¯","slug":"big-front-end","permalink":"http://www.guofangchao.com/categories/big-front-end/"}],"tags":[{"name":"nodejs","slug":"nodejs","permalink":"http://www.guofangchao.com/tags/nodejs/"}],"keywords":[{"name":"å‰ç«¯","slug":"big-front-end","permalink":"http://www.guofangchao.com/categories/big-front-end/"}]},{"title":"vueé¢è¯•é¢˜","slug":"vueé¢è¯•é¢˜","date":"2019-03-25T09:51:00.000Z","updated":"2019-03-25T09:51:30.205Z","comments":true,"path":"2019/03/25/vueé¢è¯•é¢˜/","link":"","permalink":"http://www.guofangchao.com/2019/03/25/vueé¢è¯•é¢˜/","excerpt":"","text":"vueé¢è¯•é¢˜ v-show ä¸ v-if åŒºåˆ« åŠ¨æ€ç»‘å®šclassçš„æ–¹æ³• è®¡ç®—å±æ€§å’Œ watch çš„åŒºåˆ« æ€æ ·ç†è§£å•å‘æ•°æ®æµ keep-alive è‡ªå®šä¹‰ç»„ä»¶çš„è¯­æ³•ç³– v-model æ˜¯æ€æ ·å®ç°çš„ ç”Ÿå‘½å‘¨æœŸ ç»„ä»¶é€šä¿¡ è·¯ç”±è·³è½¬ vue-router æœ‰å“ªå‡ ç§å¯¼èˆªé’©å­ Vue.js 2.x åŒå‘ç»‘å®šåŸç† ä»€ä¹ˆæ˜¯ MVVMï¼Œä¸ MVC æœ‰ä»€ä¹ˆåŒºåˆ« vuex this.$nextTick() v-show ä¸ v-if åŒºåˆ« v-hsowå’Œv-ifçš„åŒºåˆ«ï¼šv-showæ˜¯cssåˆ‡æ¢ï¼Œv-ifæ˜¯å®Œæ•´çš„é”€æ¯å’Œé‡æ–°åˆ›å»ºã€‚ ä½¿ç”¨é¢‘ç¹åˆ‡æ¢æ—¶ç”¨v-showï¼Œè¿è¡Œæ—¶è¾ƒå°‘æ”¹å˜æ—¶ç”¨v-if v-if=â€˜falseâ€™ v-ifæ˜¯æ¡ä»¶æ¸²æŸ“ï¼Œå½“falseçš„æ—¶å€™ä¸ä¼šæ¸²æŸ“ç»‘å®š class çš„æ•°ç»„ç”¨æ³• å¯¹è±¡æ–¹æ³• v-bind:class=â€{â€˜orangeâ€™: isRipe, â€˜greenâ€™: isNotRipe}â€ æ•°ç»„æ–¹æ³•v-bind:class=â€[class1, class2]â€ è¡Œå†… v-bind:style=â€{color: color, fontSize: fontSize+â€™pxâ€™ }â€ è®¡ç®—å±æ€§å’Œ watch çš„åŒºåˆ«è®¡ç®—å±æ€§æ˜¯è‡ªåŠ¨ç›‘å¬ä¾èµ–å€¼çš„å˜åŒ–ï¼Œä»è€ŒåŠ¨æ€è¿”å›å†…å®¹ï¼Œç›‘å¬æ˜¯ä¸€ä¸ªè¿‡ç¨‹ï¼Œåœ¨ç›‘å¬çš„å€¼å˜åŒ–æ—¶ï¼Œå¯ä»¥è§¦å‘ä¸€ä¸ªå›è°ƒï¼Œå¹¶åšä¸€äº›äº‹æƒ…ã€‚ æ‰€ä»¥åŒºåˆ«æ¥æºäºç”¨æ³•ï¼Œåªæ˜¯éœ€è¦åŠ¨æ€å€¼ï¼Œé‚£å°±ç”¨è®¡ç®—å±æ€§ï¼›éœ€è¦çŸ¥é“å€¼çš„æ”¹å˜åæ‰§è¡Œä¸šåŠ¡é€»è¾‘ï¼Œæ‰ç”¨ watchï¼Œç”¨åæˆ–æ··ç”¨è™½ç„¶å¯è¡Œï¼Œä½†éƒ½æ˜¯ä¸æ­£ç¡®çš„ç”¨æ³•ã€‚ è¯´å‡ºä¸€ä¸‹åŒºåˆ«ä¼šåŠ åˆ†computed æ˜¯ä¸€ä¸ªå¯¹è±¡æ—¶ï¼Œå®ƒæœ‰å“ªäº›é€‰é¡¹ï¼Ÿcomputed å’Œ methods æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿcomputed æ˜¯å¦èƒ½ä¾èµ–å…¶å®ƒç»„ä»¶çš„æ•°æ®ï¼Ÿwatch æ˜¯ä¸€ä¸ªå¯¹è±¡æ—¶ï¼Œå®ƒæœ‰å“ªäº›é€‰é¡¹ï¼Ÿ æœ‰getå’Œsetä¸¤ä¸ªé€‰é¡¹ methodsæ˜¯ä¸€ä¸ªæ–¹æ³•ï¼Œå®ƒå¯ä»¥æ¥å—å‚æ•°ï¼Œè€Œcomputedä¸èƒ½ï¼Œcomputedæ˜¯å¯ä»¥ç¼“å­˜çš„ï¼Œmethodsä¸ä¼šã€‚ computedå¯ä»¥ä¾èµ–å…¶ä»–computedï¼Œç”šè‡³æ˜¯å…¶ä»–ç»„ä»¶çš„data watch é…ç½®handlerdeep æ˜¯å¦æ·±åº¦immeditate æ˜¯å¦ç«‹å³æ‰§è¡Œ æ€»ç»“å½“æœ‰ä¸€äº›æ•°æ®éœ€è¦éšç€å¦å¤–ä¸€äº›æ•°æ®å˜åŒ–æ—¶ï¼Œå»ºè®®ä½¿ç”¨computedã€‚å½“æœ‰ä¸€ä¸ªé€šç”¨çš„å“åº”æ•°æ®å˜åŒ–çš„æ—¶å€™ï¼Œè¦æ‰§è¡Œä¸€äº›ä¸šåŠ¡é€»è¾‘æˆ–å¼‚æ­¥æ“ä½œçš„æ—¶å€™å»ºè®®ä½¿ç”¨watcher äº‹ä»¶ä¿®é¥°ç¬¦ ç»‘å®šä¸€ä¸ªåŸç”Ÿçš„clickäº‹ä»¶ï¼Œ åŠ nativeï¼Œ å…¶ä»–äº‹ä»¶ä¿®é¥°ç¬¦ stop prevent self ç»„åˆé”® click.ctrl.exact åªæœ‰ctrlè¢«æŒ‰ä¸‹çš„æ—¶å€™æ‰è§¦å‘ ç»„ä»¶ä¸­ data ä¸ºä»€ä¹ˆæ˜¯å‡½æ•° ä¸ºä»€ä¹ˆç»„ä»¶ä¸­çš„ data å¿…é¡»æ˜¯ä¸€ä¸ªå‡½æ•°ï¼Œç„¶å return ä¸€ä¸ªå¯¹è±¡ï¼Œè€Œ new Vue å®ä¾‹é‡Œï¼Œdata å¯ä»¥ç›´æ¥æ˜¯ä¸€ä¸ªå¯¹è±¡ï¼Ÿ å› ä¸ºç»„ä»¶æ˜¯ç”¨æ¥å¤ç”¨çš„ï¼ŒJS é‡Œå¯¹è±¡æ˜¯å¼•ç”¨å…³ç³»ï¼Œè¿™æ ·ä½œç”¨åŸŸæ²¡æœ‰éš”ç¦»ï¼Œè€Œ new Vue çš„å®ä¾‹ï¼Œæ˜¯ä¸ä¼šè¢«å¤ç”¨çš„ï¼Œå› æ­¤ä¸å­˜åœ¨å¼•ç”¨å¯¹è±¡çš„é—®é¢˜ã€‚ keep-alivevueå®˜æ–¹è§£é‡Š è‡ªå®šä¹‰ç»„ä»¶çš„è¯­æ³•ç³– v-model æ˜¯æ€æ ·å®ç°çš„åšå®¢ä»‹ç» æ ¹æ®å®˜æ–¹æ–‡æ¡£ä»‹ç»ï¼Œv-modelæœ¬è´¨ä¸Šå°±æ˜¯è¯­æ³•ç³–ï¼Œå³åˆ©ç”¨v-modelç»‘å®šæ•°æ®åï¼Œå…¶å®å°±æ˜¯æ—¢ç»‘å®šäº†æ•°æ®ï¼Œåˆæ·»åŠ äº†ä¸€ä¸ªinputäº‹ä»¶ç›‘å¬ Render å‡½æ•°æ€æ ·ç†è§£å•å‘æ•°æ®æµè¿™ä¸ªæ¦‚å¿µå‡ºç°åœ¨ç»„ä»¶é€šä¿¡ã€‚çˆ¶ç»„ä»¶æ˜¯é€šè¿‡ prop æŠŠæ•°æ®ä¼ é€’åˆ°å­ç»„ä»¶çš„ï¼Œä½†æ˜¯è¿™ä¸ª prop åªèƒ½ç”±çˆ¶ç»„ä»¶ä¿®æ”¹ï¼Œå­ç»„ä»¶ä¸èƒ½ä¿®æ”¹ï¼Œå¦åˆ™ä¼šæŠ¥é”™ã€‚å­ç»„ä»¶æƒ³ä¿®æ”¹æ—¶ï¼Œåªèƒ½é€šè¿‡ $emit æ´¾å‘ä¸€ä¸ªè‡ªå®šä¹‰äº‹ä»¶ï¼Œçˆ¶ç»„ä»¶æ¥æ”¶åˆ°åï¼Œç”±çˆ¶ç»„ä»¶ä¿®æ”¹ã€‚ ä¸€èˆ¬æ¥è¯´ï¼Œå¯¹äºå­ç»„ä»¶æƒ³è¦æ›´æ”¹çˆ¶ç»„ä»¶çŠ¶æ€çš„åœºæ™¯ï¼Œå¯ä»¥æœ‰ä¸¤ç§æ–¹æ¡ˆï¼š åœ¨å­ç»„ä»¶çš„ data ä¸­æ‹·è´ä¸€ä»½ propï¼Œdata æ˜¯å¯ä»¥ä¿®æ”¹çš„ï¼Œä½† prop ä¸èƒ½ï¼š12345678910export default &#123; props: &#123; value: String &#125;, data () &#123; return &#123; currentValue: this.value &#125; &#125;&#125; å¦‚æœæ˜¯å¯¹ prop å€¼çš„è½¬æ¢ï¼Œå¯ä»¥ä½¿ç”¨è®¡ç®—å±æ€§ï¼š12345678export default &#123; props: [&apos;size&apos;], computed: &#123; normalizedSize: function () &#123; return this.size.trim().toLowerCase(); &#125; &#125;&#125; ç”Ÿå‘½å‘¨æœŸ åˆ›å»ºå‰å beforeCreate/created åœ¨beforeCreate é˜¶æ®µï¼Œvueå®ä¾‹çš„æŒ‚è½½å…ƒç´ elå’Œæ•°æ®å¯¹è±¡dataéƒ½ä¸ºundefinedï¼Œè¿˜æœªåˆå§‹åŒ–ã€‚åœ¨createdé˜¶æ®µï¼Œvueå®ä¾‹çš„æ•°æ®å¯¹è±¡æœ‰äº†ï¼Œelè¿˜æ²¡æœ‰ã€‚ è½½å…¥å‰å beforeMount/mounted åœ¨beforeMounté˜¶æ®µï¼Œvueå®ä¾‹çš„$elå’Œdataéƒ½åˆå§‹åŒ–äº†ï¼Œä½†è¿˜æ˜¯æŒ‚è½½ä¹‹å‰æœªè™šæ‹Ÿçš„DOMèŠ‚ç‚¹ï¼Œdataå°šæœªæ›¿æ¢ã€‚åœ¨mountedé˜¶æ®µï¼Œvueå®ä¾‹æŒ‚è½½å®Œæˆï¼ŒdataæˆåŠŸæ¸²æŸ“ã€‚ æ›´æ–°å‰å beforeUpdate/updated å½“dataå˜åŒ–æ—¶ï¼Œä¼šè§¦å‘beforeUpdateå’Œupdatedæ–¹æ³•ã€‚è¿™ä¸¤ä¸ªä¸å¸¸ç”¨ï¼Œä¸æ¨èä½¿ç”¨ã€‚ é”€æ¯å‰åbeforeDestory/destoryed beforeDestoryæ˜¯åœ¨vueå®ä¾‹é”€æ¯å‰è§¦å‘ï¼Œä¸€èˆ¬åœ¨è¿™é‡Œè¦é€šè¿‡removeEventListenerè§£é™¤æ‰‹åŠ¨ç»‘å®šçš„äº‹ä»¶ã€‚å®ä¾‹é”€æ¯åï¼Œè§¦å‘çš„destroyedã€‚ ç»„ä»¶é—´çš„é€šä¿¡ çˆ¶å­ props/event $parent/$children ref provide/inject å…„å¼Ÿ bus vuex è·¨çº§ bus vuex provide.inject è·¯ç”±çš„è·³è½¬æ–¹å¼ä¸€èˆ¬æœ‰ä¸¤ç§ router-linkæ ‡ç­¾ä¼šæ¸²æŸ“ä¸ºæ ‡ç­¾ï¼Œå’‹å¡«templateä¸­çš„è·³è½¬éƒ½æ˜¯è¿™ç§ï¼› å¦ä¸€ç§æ˜¯ç¼–ç¨‹æ˜¯å¯¼èˆª ä¹Ÿå°±æ˜¯é€šè¿‡jsè·³è½¬ æ¯”å¦‚ router.push(â€˜/homeâ€™) Vue.js 2.x åŒå‘ç»‘å®šåŸç†è¿™ä¸ªé—®é¢˜å‡ ä¹æ˜¯é¢è¯•å¿…é—®çš„ï¼Œå›ç­”ä¹Ÿæ˜¯æœ‰æ·±æœ‰æµ…ã€‚åŸºæœ¬ä¸Šè¦çŸ¥é“æ ¸å¿ƒçš„ API æ˜¯é€šè¿‡ Object.defineProperty() æ¥åŠ«æŒå„ä¸ªå±æ€§çš„ setter / getterï¼Œåœ¨æ•°æ®å˜åŠ¨æ—¶å‘å¸ƒæ¶ˆæ¯ç»™è®¢é˜…è€…ï¼Œè§¦å‘ç›¸åº”çš„ç›‘å¬å›è°ƒï¼Œè¿™ä¹Ÿæ˜¯ä¸ºä»€ä¹ˆ Vue.js 2.x ä¸æ”¯æŒ IE8 çš„åŸå› ï¼ˆIE 8 ä¸æ”¯æŒæ­¤ APIï¼Œä¸”æ— æ³•é€šè¿‡ polyfill å®ç°ï¼‰ã€‚å®˜æ–¹è§£é‡Š ä»€ä¹ˆæ˜¯ MVVMï¼Œä¸ MVC æœ‰ä»€ä¹ˆåŒºåˆ«åšå®¢è§£é‡Š nextTick()åœ¨ä¸‹æ¬¡ DOM æ›´æ–°å¾ªç¯ç»“æŸä¹‹åæ‰§è¡Œå»¶è¿Ÿå›è°ƒã€‚åœ¨ä¿®æ”¹æ•°æ®ä¹‹åï¼Œç«‹å³ä½¿ç”¨è¿™ä¸ªå›è°ƒå‡½æ•°ï¼Œè·å–æ›´æ–°åçš„ DOMã€‚123456// ä¿®æ”¹æ•°æ®vm.msg = &apos;Hello&apos;// DOM è¿˜æœªæ›´æ–°Vue.nextTick(function () &#123; // DOM æ›´æ–°&#125;)","categories":[{"name":"å‰ç«¯","slug":"big-front-end","permalink":"http://www.guofangchao.com/categories/big-front-end/"}],"tags":[{"name":"vue","slug":"vue","permalink":"http://www.guofangchao.com/tags/vue/"}],"keywords":[{"name":"å‰ç«¯","slug":"big-front-end","permalink":"http://www.guofangchao.com/categories/big-front-end/"}]},{"title":"react-nativeä¸­ç”ŸæˆäºŒç»´ç å’Œåˆ†äº«å›¾ç‰‡","slug":"react-nativeä¸­ç”ŸæˆäºŒç»´ç å’Œåˆ†äº«å›¾ç‰‡","date":"2018-12-06T04:15:00.000Z","updated":"2018-12-06T04:16:02.368Z","comments":true,"path":"2018/12/06/react-nativeä¸­ç”ŸæˆäºŒç»´ç å’Œåˆ†äº«å›¾ç‰‡/","link":"","permalink":"http://www.guofangchao.com/2018/12/06/react-nativeä¸­ç”ŸæˆäºŒç»´ç å’Œåˆ†äº«å›¾ç‰‡/","excerpt":"","text":"åœ¨react-nativeä¸­å±•ç¤ºäºŒç»´ç æ˜¯ä¸€ä¸ªéå¸¸éº»çƒ¦çš„è¿‡ç¨‹ã€‚ æœ€å¥½çš„æ–¹æ³•è«è¿‡äºåŸç”Ÿæ”¯æŒç”»äºŒç»´ç ã€‚ä½†æ˜¯è¿™æœ‰ä¸€ä¸ªå‰¯ä½œç”¨ï¼Œéœ€è¦åœ¨åŸç”Ÿä¸­æ·»åŠ æ–°çš„ä»£ç ã€‚å¯¹äºä¸æ‰“ç®—å¾ˆå¿«å‡çº§çš„é¡¹ç›®æ˜¯ä¸€ä¸ªå¾ˆé€šè¿‡çš„é€‰æ‹©ã€‚ è¿™é‡Œæˆ‘ä»‹ç»ä¸€ç§ä¸ä½¿ç”¨åŸç”Ÿçš„æ–¹å¼æ¥ç”ŸæˆäºŒç»´ç ï¼Œå‰¯ä½œç”¨ä»…ä»…æ˜¯éœ€è¦è”ç½‘ä¸‹è½½ä¸€ä¸ªjsæ–‡ä»¶ã€‚å½“ç„¶å¯ä»¥ä½¿ç”¨æœ¬åœ°ç¼“å­˜äº†ï¼Œè¿™æ ·å°±å’ŒåŸç”Ÿå‡ ä¹ä¸€è‡´äº†ã€‚ npmåœ°å€ å®ç°è‡ªå®šä¹‰äºŒç»´ç ä¸æ·»åŠ åŸç”Ÿä»£ç çš„æƒ…å†µä¸‹å®ç°react-nativeä¸­å±•ç¤ºäºŒç»´ç ï¼Œå…¶å®åˆ©ç”¨çš„æ­£æ˜¯WebViewç»„ä»¶ã€‚ åœ¨å‰ç«¯å¼€å‘çš„è¿‡ç¨‹ä¸­å·²ç»æœ‰å¤§ç¥å®ç°äº†jsç”ŸæˆäºŒç»´ç çš„åŠŸèƒ½ã€‚å®ƒå°±æ˜¯qrcode.jsï¼Œç†Ÿæ‚‰çš„äººå·²ç»å¯ä»¥å¾ˆå¿«æƒ³åˆ°å®ç°æ–¹å¼äº†ã€‚ å¦‚æœå°†WebViewçœ‹åšä¸€ä¸ªç±»ä¼¼Viewçš„ç»„ä»¶ï¼Œé‚£ä¹ˆåœ¨WebViewåŠ è½½å®Œæˆä¹‹åå®ƒå°±å·²ç»åœ¨å±•ç°ä¸Šä¸æ™®é€šç»„ä»¶æ²¡æœ‰ä»€ä¹ˆåŒºåˆ«äº†ã€‚åœ¨è¿™ä¸ªæ—¶å€™å°±å¯ä»¥çœ‹åšå·²ç»å®Œæˆäº†äºŒç»´ç çš„ç”Ÿæˆã€‚ 1234567891011121314&lt;WebView automaticallyAdjustContentInsets=&#123;false&#125; scalesPageToFit=&#123;Platform.OS === 'android'&#125; contentInset=&#123;&#123; top: 0, right: 0, bottom: 0, left: 0 &#125;&#125; source=&#123;&#123; html: this.html() &#125;&#125; opaque=&#123;false&#125; underlayColor=&#123;'transparent'&#125; style=&#123;&#123; height: size, width: size &#125;&#125; javaScriptEnabled=&#123;true&#125; scrollEnabled=&#123;false&#125; onLoad=&#123;this.props.onLoad&#125; onLoadEnd=&#123;this.props.onLoadEnd&#125; originWhitelist=&#123;['*']&#125;/&gt; å…¶ä¸­çš„htmlæ–¹æ³•å…¶å®å°±æ˜¯åœ¨ç”Ÿæˆæˆ‘ä»¬éœ€è¦çš„htmlä»£ç ã€‚ æˆ‘ä»¬å†è¿™é‡Œå®šä¹‰å‡ ä¸ªå‚æ•°ï¼Œæ–¹ä¾¿æˆ‘ä»¬ä½¿ç”¨12345678static defaultProps = &#123; value: \"\", size: 100, bgColor: \"#fff\", fgColor: \"#000\", onLoad: () =&gt; &#123; &#125;, onLoadEnd: () =&gt; &#123; &#125;, &#125; æœ€ç»ˆæ•ˆæœå¦‚ä¸‹ï¼š äº§ç”Ÿç»„ä»¶å¿«ç…§å¾ˆå¤šæ—¶å€™æˆ‘ä»¬è¿˜æ˜¯éœ€è¦å°†APPä¸­çš„æŸä¸ªéƒ¨åˆ†æˆªå›¾ä¿å­˜çš„ã€‚ åœ¨react-nativeä¸­ï¼Œæˆ‘ä»¬å¯ä»¥åˆ©ç”¨takeSnapshotæ–¹æ³•ï¼Œå°†ç»„ä»¶ä¿å­˜åœ¨ä¸´æ—¶ç›®å½•ä¸­ï¼ŒåŒæ—¶ä½¿ç”¨CameraRoll.saveToCameraRollæ–¹æ³•å°†å›¾ç‰‡æ”¾å…¥ç›¸å†Œä¸­ã€‚ æœ‰æ²¡æœ‰æƒ³åˆ°ä»€ä¹ˆï¼Ÿ æ˜¯çš„ï¼Œæˆ‘ä»¬å¯ä»¥åœ¨å®¢æˆ·ç«¯è‡ªå·±ç”Ÿæˆåˆ†äº«å›¾ç‰‡ã€‚ å¦‚æœä½ çš„åˆ†äº«å›¾ç‰‡ç”¨åˆ°äº†å¾ˆå¤šåŠ¨æ€æ•°æ®ã€‚æ¯”å¦‚ï¼šç”¨æˆ·ä¸åŒå›¾ç‰‡ä¸åŒï¼Œäº§å“æˆ–è€…æ¸ é“ä¸åŒå›¾ç‰‡ä¹Ÿä¸åŒã€‚è¿™ä¸ªæ—¶å€™æœåŠ¡ç«¯ç”Ÿæˆå›¾ç‰‡ä¼šéå¸¸çš„è€—èµ„æºã€‚åŒæ—¶ç”¨æˆ·åœ¨ç­‰å¾…å›¾ç‰‡ç”Ÿæˆçš„è¿‡ç¨‹ä¸­ä¹Ÿä¼šæœ‰å¾ˆå¤§çš„å»¶è¿Ÿã€‚ è¿™ä¸ªæ—¶å€™å¦‚æœå›¾ç‰‡èƒ½å¤Ÿåœ¨å®¢æˆ·ç«¯ä¸­ç”Ÿæˆå²‚ä¸æ˜¯éå¸¸çš„å¥½ã€‚é€Ÿåº¦åˆå¿«ï¼Œæ•ˆæœåˆå¥½ã€‚ åˆ©ç”¨ä¸Šé¢çš„äºŒä¸ªç»„ä»¶ï¼Œæˆ‘ä»¬å°±å¯ä»¥è‡ªå®šä¹‰åˆ†äº«å›¾ç‰‡å¹¶ä¸‹è½½åˆ°ç”¨æˆ·çš„ç›¸å†Œä¸­ã€‚ npmåœ°å€æºä»£ç åœ°å€","categories":[{"name":"react-native","slug":"react-native","permalink":"http://www.guofangchao.com/categories/react-native/"}],"tags":[{"name":"react-native","slug":"react-native","permalink":"http://www.guofangchao.com/tags/react-native/"},{"name":"qrcode","slug":"qrcode","permalink":"http://www.guofangchao.com/tags/qrcode/"}],"keywords":[{"name":"react-native","slug":"react-native","permalink":"http://www.guofangchao.com/categories/react-native/"}]},{"title":"react-nativeä¸­å›¾ç‰‡åŠ è½½å˜é»‘","slug":"react-nativeä¸­å›¾ç‰‡åŠ è½½å˜é»‘","date":"2018-11-28T08:56:00.000Z","updated":"2018-11-28T08:57:40.351Z","comments":true,"path":"2018/11/28/react-nativeä¸­å›¾ç‰‡åŠ è½½å˜é»‘/","link":"","permalink":"http://www.guofangchao.com/2018/11/28/react-nativeä¸­å›¾ç‰‡åŠ è½½å˜é»‘/","excerpt":"","text":"å›¾ç‰‡å¦‚æœåœ¨åŠ è½½å®Œå›¾ç‰‡ä¹‹åå˜é»‘ï¼ŒåŸºæœ¬å’Œå›¾ç‰‡çš„æ ·å¼æœ‰å…³ã€‚ é¦–å…ˆæ£€æŸ¥å›¾ç‰‡æ˜¯å¦ä½¿ç”¨åˆ°äº†è¾¹æ¡†ã€åœ†è§’ç­‰å±æ€§ã€‚å¦‚æœæœ‰å°±å–æ¶ˆå¹¶ä½¿ç”¨å…¶ä»–æ–¹å¼å®ç°ã€‚ å…¶æ¬¡æ£€æŸ¥å›¾ç‰‡çš„resizeModeå±æ€§ã€‚è°ƒæ•´åˆ°coverä¹‹ç±»çš„å±æ€§ä¸Šã€‚","categories":[{"name":"react-native","slug":"react-native","permalink":"http://www.guofangchao.com/categories/react-native/"}],"tags":[{"name":"image","slug":"image","permalink":"http://www.guofangchao.com/tags/image/"}],"keywords":[{"name":"react-native","slug":"react-native","permalink":"http://www.guofangchao.com/categories/react-native/"}]},{"title":"è½»é‡çº§é…ç½®ä¸­å¿ƒ","slug":"è½»é‡çº§é…ç½®ä¸­å¿ƒ","date":"2018-11-20T04:59:00.000Z","updated":"2018-11-20T05:00:15.476Z","comments":true,"path":"2018/11/20/è½»é‡çº§é…ç½®ä¸­å¿ƒ/","link":"","permalink":"http://www.guofangchao.com/2018/11/20/è½»é‡çº§é…ç½®ä¸­å¿ƒ/","excerpt":"","text":"é¡¹ç›®åœ°å€ å•é¡¹ç›®çš„æ—¶å€™åªéœ€è¦ä¸€ä¸ªç®€å•çš„é…ç½®æ–‡ä»¶å³å¯å®Œæˆé…ç½®ç®¡ç†ã€‚å‡å¦‚å¤šä¸ªé¡¹ç›®å¤šä¸ªç¯å¢ƒåŒæ—¶é…ç½®å°±ä¼šäº§ç”Ÿéå¸¸å¤æ‚çš„é…ç½®ç®¡ç†æƒ…å†µã€‚ è¿™ä¸ªæ—¶å€™å°±éœ€è¦ç”¨åˆ°é…ç½®ä¸­å¿ƒäº†ï¼Œå®ƒçš„åŸç†å…¶å®ç±»ä¼¼äºredisç¼“å­˜è¿™ç§ã€‚ä¸åŒä¹‹å¤„åœ¨äºé…ç½®ä¸­å¿ƒåªå…³æ³¨é…ç½®ï¼Œå¹¶ä¸”æœ‰æ›´å¤šçš„æœ‰åˆ©äºé…ç½®çš„åŠŸèƒ½ã€‚å¤§æ¦‚çš„åŠŸèƒ½å¦‚ä¸‹ï¼š åŒæ—¶è¿™äº›åŠŸèƒ½ä¹Ÿæ˜¯è¿™æ¬¡è¦å¼€å‘çš„é…ç½®ä¸­å¿ƒéœ€è¦åŒ…å«çš„åŠŸèƒ½ã€‚ æœ¬æ¬¡å¼€å‘çš„é…ç½®ä¸­å¿ƒæ˜¯åŸºäºnodejsçš„ç‰ˆæœ¬ã€‚å®¢æˆ·ç«¯è·å–é…ç½®çš„æ–¹å¼å¯ä»¥å‚è€ƒåè®®æ¥å¼€å‘å±äºè‡ªå·±çš„å®¢æˆ·ç«¯SDKã€‚ç›®å‰å·²ç»æä¾›çš„æ˜¯javascriptç‰ˆæœ¬ã€‚ åŠŸèƒ½è®¾è®¡é…ç½®ä¸­å¿ƒçš„å¼€å‘æ˜¯åŸºäºnodejsçš„ï¼Œè¿™é‡Œå…ˆçœ‹ä¸€ä¸‹å¤§ä½“çš„æµç¨‹ã€‚ ä»ä¸Šé¢å¯ä»¥çœ‹åˆ°ï¼Œä¸€ä¸ªé…ç½®ä¸­å¿ƒæœ€ä¸»è¦çš„åŠŸèƒ½åŒ…æ‹¬ï¼š æ•°æ®å­˜å‚¨ã€‚è¿™é‡Œä½¿ç”¨å­˜å‚¨åè®®åŒ¹é…å¤šç§å­˜å‚¨å½¢å¼ã€‚ å®šæ—¶ä»»åŠ¡ã€‚è¿™é‡ŒåŒ…å«äº†å®šæ—¶å­˜å‚¨å’Œè‡ªå®šä¹‰çš„å®šæ—¶æ›´æ–°ä»»åŠ¡ã€‚ webç«™ç‚¹ã€‚ä¸»è¦æ˜¯æä¾›ä¸€ä¸ªç®€å•å¿«é€Ÿçš„è®¾ç½®é…ç½®çš„æ–¹å¼ã€‚ å¿ƒè·³æ£€æµ‹ã€‚ä½¿ç”¨TCPåè®®å°†å®¢æˆ·ç«¯å’Œé…ç½®ä¸­å¿ƒç›¸è¿ï¼Œå¯ä»¥ç›‘å¬åˆ°é…ç½®çš„æ”¹åŠ¨ï¼ŒåŠæ—¶è·å–æœ€æ–°çš„é…ç½®å†…å®¹ã€‚ å¼€å‘åŠŸèƒ½è½å®åˆ°å…·ä½“çš„å¼€å‘ä¸Šé¢å…¶å®éå¸¸ç®€å•ï¼Œå¾ˆå¤šæ—¶å€™å¯èƒ½åªéœ€è¦ä¸€ä¸ªäº†è§£å’Œå®è·µçš„è¿‡ç¨‹ã€‚è¿™é‡Œæˆ‘æŠŠå¤§æ¦‚çš„æ€è·¯è·Ÿå¤§å®¶æ‹ä¸€ä¸‹ã€‚ æ•°æ®å­˜å‚¨å­˜å‚¨çš„ç›®çš„åªæœ‰2ä¸ªï¼š å­˜å‚¨ç”¨åˆ°çš„é…ç½®ã€‚è¿™é‡Œåªæ˜¯ç®€å•çš„å®ç°äº†åˆ—è¡¨ã€å­˜ã€å–çš„åŠŸèƒ½ ç”¨æˆ·ç™»å½•ã€‚ æœ¬æ•™ç¨‹ç›®å‰åªå®ç°äº†æœ¬åœ°jsonæ–‡ä»¶çš„è¯»å†™ï¼Œå¦‚æœæƒ³è¦ä½¿ç”¨MySQLæˆ–è€…Redisç­‰å¯ä»¥è‡ªå·±æŒ‰ç…§ä¸‹é¢çš„åè®®å®ç°ã€‚ init()ï¼Œå­˜å‚¨åº“çš„åˆå§‹åŒ–æ–¹æ³•ã€‚åœ¨é¡¹ç›®å¯åŠ¨çš„æ—¶å€™ä¼šç¬¬ä¸€æ—¶é—´è°ƒç”¨ã€‚ list()ï¼Œè·å–å‘½åç©ºé—´åˆ—è¡¨ã€‚è¿™é‡Œä½¿ç”¨å‘½åç©ºé—´åŒºåˆ†ä¸åŒçš„é…ç½®æ–‡ä»¶ã€‚è¿™é‡Œé»˜è®¤ä½¿ç”¨defæ¥ä¿å­˜ç¬¬ä¸€ä¸ªæ–‡ä»¶ã€‚ all(namespace = &quot;def&quot;)ï¼Œè·å–å¯¹åº”å‘½åç©ºé—´ä¸‹çš„é…ç½®å†…å®¹ã€‚ update(namespace, txt)ï¼Œæ›´æ–°ä¸€ä¸ªå‘½åç©ºé—´çš„æ‰€æœ‰é…ç½®ã€‚è¿™é‡Œä¼ å…¥çš„æ˜¯å­—ç¬¦ä¸²ï¼Œä¿å­˜çš„ä¹Ÿæ˜¯å­—ç¬¦ä¸²ã€‚ get(key, namespace = &quot;def&quot;)ï¼Œè·å–å¯¹åº”å‘½åç©ºé—´ä¸‹çš„æŸä¸ªå­—æ®µçš„å†…å®¹ã€‚è¿™é‡Œéœ€è¦è­¦æƒ•ï¼Œé…ç½®ä¸ä¸€å®šæ˜¯jsonå¯¹è±¡çš„ã€‚ set(key, val, namespace = &quot;def&quot;)ï¼Œè®¾ç½®å¯¹åº”å‘½åç©ºé—´ä¸‹çš„æŸä¸ªå­—æ®µçš„å€¼ã€‚ login(user, pwd)ï¼Œç™»å½•åˆ¤æ–­ï¼Œç›®å‰è¿”å›trueæˆ–è€…falseå°±å¯ä»¥äº†ã€‚ åªè¦æ˜¯å®ç°äº†ä¸Šé¢åè®®çš„å­˜å‚¨åº“å°±å¯ä»¥æ— ç—•æ›¿æ¢æ‰é¡¹ç›®çš„å­˜å‚¨æ–¹å¼ã€‚ å®šæ—¶ä»»åŠ¡å›ºå®šçš„å®šæ—¶ä»»åŠ¡åªæœ‰å®šæ—¶å­˜å‚¨å½“å‰ç¼“å­˜çš„é…ç½®æ•°æ®ã€‚è¿™é‡Œä¸€ä¸ªæ˜¯ä¸ºäº†é¡¹ç›®é‡å¯çš„æ—¶å€™èƒ½å¤Ÿè·å¾—ä¸Šæ¬¡ä¿å­˜çš„é…ç½®å†…å®¹ï¼Œå¦å¤–ä¸€ä¸ªä¹Ÿæ˜¯ä¸ºäº†é˜²æ­¢ç¨‹åºå´©æºƒçš„æƒ…å†µä¸‹èƒ½å¤Ÿä¸ä¸¢å¤±å·²ç»ä¿å­˜çš„æ•°æ®ã€‚ ç¨‹åºå†…å®¹è®¾å®šäº†ä¸€ä¸ªçŠ¶æ€å˜é‡changedï¼Œå¦‚æœæœ‰å¯¹åº”çš„é…ç½®å˜åŠ¨äº†ï¼Œå°±ä¼šå°†å…¶çš„çŠ¶æ€å˜æ›´ä¸ºtrueã€‚å®šæ—¶ä¿å­˜ä»»åŠ¡å°±ä¼šåœ¨å¯åŠ¨çš„æ—¶å€™è®²æ•°æ®ä¿å­˜åœ¨å­˜å‚¨åº“ä¸­ã€‚ è‡ªå®šä¹‰å®šæ—¶ä»»åŠ¡çš„ç›®çš„åœ¨äºè®¾ç½®ä¸€ä¸ªé…ç½®ç»“æœå’Œå®šæ—¶æ—¶é—´ï¼Œå½“æ—¶é—´åˆ°äº†çš„æ—¶å€™å°±è§¦å‘ä¸€æ¬¡æ›´æ–°æ“ä½œã€‚è¿™ä¸ªåŠŸèƒ½å®ç°éå¸¸ç®€å•ï¼Œä½†æ˜¯å¯¹äºä½¿ç”¨çš„äººæ¥è¯´æ˜¯ä¸€ä¸ªéå¸¸å¥½ç”¨çš„åŠŸèƒ½ã€‚ä¾‹å¦‚ï¼šåŠå¤œ2ç‚¹å®šæ—¶ä¸Šçº¿æŸäº›äº§å“ä»€ä¹ˆçš„ã€‚ã€‚ã€‚ã€‚åœ¨ä¹Ÿä¸éœ€è¦ç†¬å¤œç­‰äº†ã€‚ è¿™æ¬¡åˆ†äº«çš„é¡¹ç›®è¿˜æ²¡æœ‰å®ç°è¿™ä¸ªè‡ªå®šä¹‰å®šæ—¶æ›´æ–°åŠŸèƒ½ã€‚åœ¨åç»­çš„æ›´æ–°ä¸­ä¼šé€æ­¥å®Œå–„è¿™ä¸ªåŠŸèƒ½ã€‚ webç«™ç‚¹webç«™ç‚¹å°±æ˜¯æ“ä½œé…ç½®çš„åœ°æ–¹ã€‚é¡¹ç›®é»˜è®¤æä¾›äº†å‡ ä¸ªæ¥å£ç”¨æ¥è·å–å’Œæ›´æ–°é…ç½®ã€‚ ç›®å‰ä½¿ç”¨jQueryå®ç°ï¼Œç•Œé¢æ¯”è¾ƒç®€é™‹ï¼ŒåŸºç¡€åŠŸèƒ½å·²ç»å®ç°äº†ã€‚ è¿™é‡Œå¯ä»¥çœ‹åˆ°æœ€ä¸Šé¢æ˜¯å‘½åç©ºé—´çš„æ ‡ç­¾ã€‚ä¸‹é¢æ˜¯æ·»åŠ å‘½åç©ºé—´ã€‚å†å¾€ä¸‹æ˜¯æ˜¾ç¤ºå’Œç¼–è¾‘é…ç½®çš„åœ°æ–¹ã€‚ å¿ƒè·³æ£€æµ‹å¿ƒè·³å…¶å®æ‰æ˜¯é…ç½®ä¸­å¿ƒçš„æ ¸å¿ƒå†…å®¹ã€‚å®ƒä¸»è¦çš„ä»»åŠ¡å°±æ˜¯åŠæ—¶å¹¶ä¸”å¿«é€Ÿçš„é€šçŸ¥åˆ°å®¢æˆ·ç«¯é…ç½®æœ‰æ›´æ–°ï¼Œéœ€è¦ä½¿ç”¨æœ€æ–°çš„é…ç½®ã€‚ æœåŠ¡ç«¯ä½¿ç”¨nodejsçš„net.createServeræ–¹æ³•åˆ›å»ºä¸€ä¸ªTCPçš„ç›‘å¬æœåŠ¡ï¼Œå¦‚æœå®¢æˆ·ç«¯è¿æ¥å°±ä¼šå°†å®¢æˆ·ç«¯çš„è¿æ¥å¯¹è±¡æ”¾å…¥å¯¹è±¡ç¼“å­˜æ± ã€‚ åœ¨è¿æ¥çš„æ—¶å€™è¿™é‡Œåšäº†2ä»¶äº‹ï¼š ç»™è¿æ¥å¯¹è±¡æ·»åŠ äº†ä¸€ä¸ªuuidï¼Œæ–¹ä¾¿è¾¨è®¤ä¸åŒçš„å®¢æˆ·ç«¯ã€‚ é€šçŸ¥å®¢æˆ·ç«¯å‘é€éªŒè¯ä»¤ç‰Œã€‚è¿™é‡Œçš„é€»è¾‘æ¯”è¾ƒç®€é™‹ï¼Œåªæ˜¯ç®€å•çš„éªŒè¯ä¸€ä¸‹ã€‚ åœ¨è¿æ¥ä¹‹åå°±æ˜¯å¿ƒè·³æ£€æµ‹çš„è¿‡ç¨‹äº†ã€‚å®¢æˆ·ç«¯éœ€è¦å®šæ—¶å»æ›´æ–°è‡ªå·±çš„çŠ¶æ€ï¼ŒæœåŠ¡ç«¯æ ¹æ®è¿™ä¸ªè¯·æ±‚æ¥æ›´æ–°å®¢æˆ·ç«¯çš„æœ€åå­˜åœ¨æ—¶é—´ï¼ŒåŠ å…¥è¶…æ—¶æˆ–è€…æ–­å¼€è¿æ¥å°±ä»£è¡¨å®¢æˆ·ç«¯æ–­çº¿ï¼Œå°±ä¼šå°†å®¢æˆ·ç«¯ä»å¯¹è±¡ç¼“å­˜æ± ä¸­ç§»é™¤ã€‚ å¦‚æœwebç«™ç‚¹æ›´æ–°äº†å¯¹åº”çš„é…ç½®ï¼ŒæœåŠ¡ç«¯ä¼šä¸»åŠ¨å‘é€å‘½ååˆ°å®¢æˆ·ç«¯ã€‚å‘½ä»¤ç±»ä¼¼äºæ“ä½œ|å‘½åç©ºé—´|æ›´æ”¹å€¼ï¼Œå®¢æˆ·ç«¯æ ¹æ®æ”¶åˆ°çš„å‘½ä»¤è§¦å‘å®¢æˆ·ç«¯çš„é…ç½®æ›´æ–°ç›‘å¬å¹¶ä¸”ä½¿ç”¨è¿œç¨‹apiæ›´æ–°å®¢æˆ·ç«¯çš„ç¼“å­˜é…ç½®ã€‚ å®¢æˆ·ç«¯æœ¬èº«ä¼šè‡ªåŠ¨æ›´æ–°é…ç½®å†…å®¹ï¼ŒåŒæ—¶æä¾›äº†ä¸€ä¸ªç›‘å¬æ–¹æ³•ä¾¿äºç›‘å¬é…ç½®çš„æ›´æ”¹ã€‚ å¤šç¯å¢ƒé…ç½®åœ¨æœåŠ¡ç«¯æ ¹ç›®å½•ä¸‹æœ‰ä¸€ä¸ªconfigç›®å½•ï¼Œè¿™é‡Œå°±æ˜¯ç»™æœåŠ¡ç«¯å¤šç¯å¢ƒæä¾›çš„é…ç½®ã€‚ åªéœ€è¦æ ¹æ®NODE_ENVçš„å€¼åˆ›å»ºå¯¹åº”çš„æ–‡ä»¶å³å¯ã€‚é¡¹ç›®å¯åŠ¨çš„æ—¶å€™ä¼šè‡ªåŠ¨æ ¹æ®ç¯å¢ƒå‚æ•°ä½¿ç”¨å¯¹åº”æ–‡ä»¶çš„é…ç½®ã€‚ å¦‚æœä½ è¦é—®å®¢æˆ·ç«¯çš„å¤šç¯å¢ƒï¼Ÿå‘½åç©ºé—´å·²ç»å®Œå…¨å¯ä»¥å®ç°äº†ã€‚å¦‚æœè¦æ·»åŠ æ›´å¤šçº§çš„ç¯å¢ƒå‚æ•°å¯ä»¥è‡ªå®šä¹‰å‘½åç©ºé—´çš„å‘½ååè®®ï¼Œæ¯”å¦‚ï¼štest.conf1è¿™æ ·çš„æ–¹å¼å³å¯åœ¨ä¸æ›´æ”¹ä¸»ä½“ç¨‹åºçš„æƒ…å†µä¸‹å®ç°å¤šçº§é…ç½®ç¯å¢ƒã€‚ä»£ä»·æ˜¯éœ€è¦ä¿®æ”¹webç«™ç‚¹çš„ç•Œé¢ã€‚ã€‚ã€‚ã€‚ ç»“æŸè¯­åˆ°æ­¤ä¸€ä¸ªnodejsç‰ˆæœ¬çš„è½»é‡çº§é…ç½®ä¸­å¿ƒå·²ç»å¼€å‘å®Œæˆã€‚å¦‚æœå°†ä¸Šé¢æœ€å¼€å§‹æåˆ°çš„åŠŸèƒ½å…¨éƒ¨å®Œæˆï¼Œè¿™ä¸ªé¡¹ç›®ä¹Ÿå°±ä¸ä»…ä»…æ˜¯ä¸€ä¸ªè½»é‡çº§çš„é…ç½®ä¸­å¿ƒã€‚å®ƒçš„åŠŸèƒ½å·²ç»å®Œå…¨ä¸äºšäºå…¶ä»–çš„å¼€æºé…ç½®ä¸­å¿ƒäº†ã€‚ æœ‰å…´è¶£çš„å¯ä»¥å‚ä¸è¿›æ¥ä¸€èµ·æ›´æ–°æœ€å¥½ç”¨çš„é…ç½®ä¸­å¿ƒã€‚ é¡¹ç›®åœ°å€","categories":[{"name":"nodejs","slug":"nodejs","permalink":"http://www.guofangchao.com/categories/nodejs/"}],"tags":[{"name":"å‰ç«¯","slug":"å‰ç«¯","permalink":"http://www.guofangchao.com/tags/å‰ç«¯/"},{"name":"nodejs","slug":"nodejs","permalink":"http://www.guofangchao.com/tags/nodejs/"},{"name":"é…ç½®ä¸­å¿ƒ","slug":"é…ç½®ä¸­å¿ƒ","permalink":"http://www.guofangchao.com/tags/é…ç½®ä¸­å¿ƒ/"}],"keywords":[{"name":"nodejs","slug":"nodejs","permalink":"http://www.guofangchao.com/categories/nodejs/"}]},{"title":"centoså®‰è£…Rabbitmq3.7.7","slug":"centoså®‰è£…Rabbitmq3-7-7","date":"2018-11-01T09:56:00.000Z","updated":"2018-11-01T09:57:33.667Z","comments":true,"path":"2018/11/01/centoså®‰è£…Rabbitmq3-7-7/","link":"","permalink":"http://www.guofangchao.com/2018/11/01/centoså®‰è£…Rabbitmq3-7-7/","excerpt":"","text":"å®‰è£…erlangå®‰è£…æ•™ç¨‹ å®‰è£…ä¸‹é¢çš„æç¤ºæ–°å»ºä¸€ä¸ªæ–‡ä»¶ï¼Œå†…å®¹å°±æ˜¯ä»£ç ã€‚ To use Erlang 21.x on CentOS 7:12345678# In /etc/yum.repos.d/rabbitmq-erlang.repo[rabbitmq-erlang]name=rabbitmq-erlangbaseurl=https://dl.bintray.com/rabbitmq/rpm/erlang/21/el/7gpgcheck=1gpgkey=https://dl.bintray.com/rabbitmq/Keys/rabbitmq-release-signing-key.ascrepo_gpgcheck=0enabled=1 To use Erlang 21.x on CentOS 6:12345678# In /etc/yum.repos.d/rabbitmq-erlang.repo[rabbitmq-erlang]name=rabbitmq-erlangbaseurl=https://dl.bintray.com/rabbitmq/rpm/erlang/21/el/6gpgcheck=1gpgkey=https://dl.bintray.com/rabbitmq/Keys/rabbitmq-release-signing-key.ascrepo_gpgcheck=0enabled=1 æ‰§è¡Œå®‰è£…å‘½ä»¤yum install erlang å®‰è£…å®Œæˆä¹‹åç”¨å‘½ä»¤æ£€æŸ¥ä¸€ä¸‹erl å®‰è£…socat123wget -O /etc/yum.repos.d/epel.repo http://mirrors.aliyun.com/repo/epel-6.repoyum -y install socat å®‰è£…rabbitmqå®˜æ–¹ä¸‹è½½ 12345678910111213141516171819202122# å¯åŠ¨service rabbitmq-server start# åœæ­¢service rabbitmq-server stop# é‡å¯service rabbitmq-server restart# å¼€æœºè‡ªå¯chkconfig rabbitmq-server on# å¯ç”¨ç›‘æ§æ’ä»¶rabbitmq-plugins enable rabbitmq_management# ä¿®æ”¹é˜²ç«å¢™vim /etc/sysconfig/iptables# å¼€æ”¾ç«¯å£15672 å’Œ 5672-A INPUT -m state --state NEW -m tcp -p tcp --dport 15672 -j ACCEPT-A INPUT -m state --state NEW -m tcp -p tcp --dport 5672 -j ACCEPT# é‡å¯é˜²ç«å¢™service iptables restart 12345678910111213141516171819202122232425# æ·»åŠ ç”¨æˆ·admin,å¯†ç ä¸º123456rabbitmqctl add_user admin 123456# ç»™ç”¨æˆ·æ·»åŠ ç®¡ç†å‘˜è§’è‰²rabbitmqctl set_user_tags admin administrator# æŸ¥çœ‹æ‰€æœ‰ç”¨æˆ·rabbitmqctl list_users# æŸ¥çœ‹adminæ‰€æœ‰æƒé™rabbitmqctl list_user_permissions admin# æ¸…é™¤adminæƒé™[æŒ‡å®šæƒé™]rabbitmqctl clear_permissions [-p VHostPath] admin# æŸ¥çœ‹æ‰€æœ‰æƒé™[-p test_vhosts] æˆ–æŒ‡å®šæƒé™rabbitmqctl list_permissions [-p VHostPath]# è®¾ç½®adminåœ¨VHostPathä¸‹çš„æƒé™rabbitmqctl set_permissions -p VHostPath admin ConfP WriteP ReadP# åˆ é™¤adminç”¨æˆ·rabbitmqctl delete_user admin# ä¿®æ”¹adminçš„å¯†ç ä¸º123456rabbitmqctl change_password admin 123456# å¯ç”¨ç›‘æ§æ’ä»¶rabbitmq-plugins enable rabbitmq_management# å…³é—­ç›‘æ§æ’ä»¶rabbitmq-plugins disable rabbitmq_management tips: æ–°å¯åŠ¨çš„ç®¡ç†ç•Œé¢åªæ”¯æŒæœ¬æœºè®¿é—®ï¼Œè®¾ç½®è¿œç¨‹æ“ä½œç­‰éƒ½éœ€è¦å…ˆåœ¨æœ¬æœºè®¾ç½®ã€‚å¯ä»¥ä½¿ç”¨nginxä»£ç†åˆ°ä¸€ä¸ªåŸŸåä¹‹ç±»çš„æ¥æ“ä½œï¼Œä¹Ÿå¯ä»¥å¼€å¯è¿œç¨‹è®¿é—®ï¼šï¼‰","categories":[{"name":"è¿ç»´","slug":"è¿ç»´","permalink":"http://www.guofangchao.com/categories/è¿ç»´/"}],"tags":[{"name":"RabbitMQ","slug":"RabbitMQ","permalink":"http://www.guofangchao.com/tags/RabbitMQ/"},{"name":"CentOS7","slug":"CentOS7","permalink":"http://www.guofangchao.com/tags/CentOS7/"}],"keywords":[{"name":"è¿ç»´","slug":"è¿ç»´","permalink":"http://www.guofangchao.com/categories/è¿ç»´/"}]},{"title":"ç”Ÿæˆè‡ªç­¾åè¯ä¹¦x509","slug":"ç”Ÿæˆè‡ªç­¾åè¯ä¹¦x509","date":"2018-09-28T10:53:00.000Z","updated":"2018-09-28T10:55:30.695Z","comments":true,"path":"2018/09/28/ç”Ÿæˆè‡ªç­¾åè¯ä¹¦x509/","link":"","permalink":"http://www.guofangchao.com/2018/09/28/ç”Ÿæˆè‡ªç­¾åè¯ä¹¦x509/","excerpt":"","text":"ç¬¬1æ­¥ï¼šç”Ÿæˆç§é’¥openssl genrsa -des3 -out server.key 2048 ç¬¬2æ­¥ï¼šç”ŸæˆCSRï¼ˆè¯ä¹¦ç­¾åè¯·æ±‚ï¼‰openssl req -new -key server.key -out server.csr è®°å¾—Common NameæŒ‡çš„æ˜¯æœåŠ¡å™¨å½“å‰çš„åŸŸåæˆ–è€…ip ç¬¬3æ­¥ï¼šåˆ é™¤ç§é’¥ä¸­çš„å¯†ç 12cp server.key server.key.org openssl rsa -in server.key.org -out server.key ç¬¬4æ­¥ï¼šç”Ÿæˆè‡ªç­¾åè¯ä¹¦openssl x509 -req -days 365 -in server.csr -signkey server.key -out server.crt","categories":[{"name":"æœåŠ¡å™¨","slug":"æœåŠ¡å™¨","permalink":"http://www.guofangchao.com/categories/æœåŠ¡å™¨/"}],"tags":[{"name":"è¯ä¹¦","slug":"è¯ä¹¦","permalink":"http://www.guofangchao.com/tags/è¯ä¹¦/"}],"keywords":[{"name":"æœåŠ¡å™¨","slug":"æœåŠ¡å™¨","permalink":"http://www.guofangchao.com/categories/æœåŠ¡å™¨/"}]},{"title":"vscodeæ’ä»¶æ”¶é›†","slug":"vscodeæ’ä»¶æ”¶é›†","date":"2018-08-24T03:44:00.000Z","updated":"2018-08-24T03:44:51.502Z","comments":true,"path":"2018/08/24/vscodeæ’ä»¶æ”¶é›†/","link":"","permalink":"http://www.guofangchao.com/2018/08/24/vscodeæ’ä»¶æ”¶é›†/","excerpt":"","text":"Quokka.jsQuokka.js æ˜¯ä¸€ä¸ªç”¨äº JavaScript å’Œ TypeScript çš„å®æ—¶è¿è¡Œä»£ç å¹³å°ã€‚ è¿™æ„å‘³ç€å®ƒä¼šåœ¨ä½ è¾“å…¥åç«‹å³è¿è¡Œæ‚¨çš„ä»£ç ï¼Œå¹¶åœ¨æ‚¨çš„ä»£ç ç¼–è¾‘å™¨ä¸­æ˜¾ç¤ºå„ç§æ‰§è¡Œç»“æœã€‚ å»ºè®®ä½ äº²è‡ªå°è¯•ä¸€ä¸‹ã€‚ å®‰è£…æ­¤æ‰©å±•åï¼Œå¯ä»¥æŒ‰ Ctrl/Cmd(âŒ˜) + Shift + P æ˜¾ç¤ºç¼–è¾‘å™¨çš„å‘½ä»¤é€‰é¡¹é¢æ¿ï¼Œç„¶åé”®å…¥ Quokka ä»¥æŸ¥çœ‹å¯ç”¨å‘½ä»¤çš„åˆ—è¡¨ã€‚ é€‰æ‹©å¹¶è¿è¡Œ â€œæ–°å»ºJavaScriptæ–‡ä»¶â€ å‘½ä»¤ã€‚ æ‚¨ä¹Ÿå¯ä»¥æŒ‰ï¼ˆâŒ˜ + K + Jï¼‰ç›´æ¥æ‰“å¼€æ–‡ä»¶ã€‚ æ‚¨åœ¨æ­¤æ–‡ä»¶ä¸­é”®å…¥çš„ä»»ä½•å†…å®¹éƒ½ä¼šç«‹å³æ‰§è¡Œã€‚ ç±»ä¼¼çš„æ‰©å±• â€“ Code Runner â€“ æ”¯æŒå¤šç§è¯­è¨€ï¼Œå¦‚Cï¼ŒC ++ï¼ŒJavaï¼ŒJavaScriptï¼ŒPHPï¼ŒPythonï¼ŒPerlï¼ŒPerl 6ç­‰ã€‚ Runner æ‹¬å·é…å¯¹ç€è‰²(Bracket Pair Colorizer) å’Œ å½©è™¹ç¼©è¿›(Indent Rainbow)èŠ±æ‹¬å·å’Œå›­æ‹¬å·æ˜¯è®¸å¤šç¼–ç¨‹è¯­è¨€ä¸å¯åˆ†å‰²çš„éƒ¨åˆ†ã€‚åœ¨ JavaScript ç­‰è¯­è¨€ä¸­ï¼Œåœ¨ä¸€å±ä»£ç ä¸­èŠ±æ‹¬å·å’Œå›­æ‹¬å·å¯èƒ½æœ‰å¤šå±‚åµŒå¥—ï¼Œç„¶è€Œç¼ºæ²¡æœ‰ç®€å•çš„æœºåˆ¶æ¥è¯†åˆ«è¿™äº›æ‹¬å·ä»å“ªé‡Œå¼€å§‹ï¼Œåˆåœ¨å“ªé‡Œç»“æŸå¯¹ã€‚æ¬¢è¿ä½¿ç”¨ æ‹¬å·é…å¯¹ç€è‰²(Bracket Pair Colorizer) å’Œ å½©è™¹ç¼©è¿›(Indent Rainbow)ã€‚è¿™æ˜¯ä¸¤ä¸ªä¸åŒçš„æ‰©å±•ã€‚ç„¶è€Œï¼Œä»–ä»¬å°±åƒæ˜¯ä¸€å¯¹æƒ…ä¾£ï¼Œå¯ä»¥å®Œç¾çš„é…åˆä½¿ç”¨ã€‚è¿™äº›æ‰©å±•å°†ä¸ºæ‚¨çš„ç¼–è¾‘å™¨æ·»åŠ ä¸€ç³»åˆ—é¢œè‰²ï¼Œå¹¶ä½¿ä»£ç å—æ˜“äºè¾¨åˆ«å’Œä»¤äººæ„‰æ‚¦ã€‚ä¸€æ—¦ä½ ä¹ æƒ¯äº†å®ƒä»¬ï¼Œå¦‚æœ VSCode æ²¡æœ‰å®ƒä»¬å°±ä¼šè®©äººè§‰å¾—å¾ˆå¹³æ·¡ã€‚ æ„šäººç å¤´æ³¨ï¼šå½©è™¹ç¼©è¿›(Indent Rainbow)æ‰©å±•ä¸ºæ¯ä¸ªç¼©è¿›å±‚çº§ç”¨å››ç§ä¸åŒé¢œè‰²äº¤æ›¿ç€è‰²ã€‚ TODOé«˜äº®é€šå¸¸åœ¨è¿›è¡Œç¼–ç æ—¶ï¼Œä½ è®¤ä¸ºå¯èƒ½æœ‰æ›´å¥½çš„æ–¹æ³•æ¥æ‰§è¡Œç›¸åŒçš„æ“ä½œã€‚ è¿™æ—¶ä½ ç•™ä¸‹æ³¨é‡Š // TODO: éœ€è¦é‡æ„ æˆ–å…¶ä»–ç›¸å…³çš„ä¸œè¥¿ã€‚ ä½†æ˜¯ä½ å¾ˆå®¹æ˜“å¿˜è®°äº†è¿™ä¸ªæ³¨é‡Šï¼Œå¹¶å°†ä½ çš„ä»£ç æ¨é€åˆ°ä¸»ç‰ˆæœ¬åº“(master) æˆ–è€…ç”Ÿäº§ç¯å¢ƒ(production)ã€‚ ä½†æ˜¯ä½ å¦‚æœä½¿ç”¨ Todo Highlighterï¼ˆé«˜äº®ï¼‰ï¼Œè¿™é’Ÿè¯·å®¢å°±ä¸ä¼šå‘ç”Ÿã€‚ å®ƒä»¥é²œè‰³çš„é¢œè‰²çªæ˜¾æ‚¨çš„ â€œTODOâ€ / â€œFIXMEâ€ æˆ–ä»£ç ä¸­çš„ä»»ä½•å…¶ä»–æ³¨é‡Šï¼Œå› æ­¤å®ƒå§‹ç»ˆæ¸…æ™°å¯è§ã€‚ å¦å¤–è¿˜æœ‰ä¸€ä¸ªå¾ˆå¥½çš„åŠŸèƒ½æ˜¯ List Highlighted annotations ã€‚ å®ƒä¼šåœ¨æ§åˆ¶å°ä¸­åˆ—å‡ºäº†æ‰€æœ‰ TODO ã€‚ æ³¨é‡Šé«˜äº® Better Commentsæ”¯æŒå„ç§è¯­è¨€ Import Cost(èŠ±é”€)Import Cost å…è®¸æ‚¨æŸ¥çœ‹å¯¼å…¥æ¨¡å—çš„å¤§å°ã€‚ è¿™å¯¹ Webpack ç­‰æ‰“åŒ…å·¥å…·æ¥è¯´æ˜¯ä¸€ä¸ªå·¨å¤§çš„å¸®åŠ©ã€‚ æ‚¨å¯ä»¥æŸ¥çœ‹æ˜¯å¯¼å…¥æ•´ä¸ªåº“è¿˜æ˜¯ä»…å¯¼å…¥ç‰¹å®šå®ç”¨ç¨‹åºã€‚ ä¸è¶³ä¹‹å¤„æ˜¯å®ƒä¸æ˜¾ç¤ºè‡ªå®šä¹‰æ–‡ä»¶æˆ–æ¨¡å—çš„èŠ±é”€ã€‚ REST Clientä½œä¸ºWebå¼€å‘äººå‘˜ï¼Œæˆ‘ä»¬ç»å¸¸éœ€è¦ä½¿ç”¨ REST APIã€‚ä¸ºäº†æ£€æŸ¥URLå¹¶æ£€æŸ¥å“åº”ï¼Œä½¿ç”¨ Postman ç­‰å·¥å…·ã€‚ä½†æ˜¯ï¼Œå½“ç¼–è¾‘å™¨å¯ä»¥è½»æ¾å®Œæˆç›¸åŒçš„ä»»åŠ¡æ—¶ï¼Œä¸ºä»€ä¹ˆè¿˜è¦ä½¿ç”¨ä¸åŒçš„åº”ç”¨ç¨‹åºå‘¢ã€‚æ¬¢è¿ä½¿ç”¨ REST Clientã€‚å®ƒå…è®¸æ‚¨åœ¨Visual Studio Codeä¸­ç›´æ¥å‘é€ HTTP è¯·æ±‚å¹¶æŸ¥çœ‹å“åº”ã€‚ è‡ªåŠ¨é—­åˆæ ‡è®°(Auto Close Tag)å’Œè‡ªåŠ¨é‡å‘½åæ ‡è®°(Auto Rename Tag)è‡ªä» React é—®ä¸–ä»¥åŠå®ƒåœ¨è¿‡å»å‡ å¹´ä¸­è·å¾—çš„å…³æ³¨åº¦ï¼Œç±» HTML çš„ JSX è¯­æ³•ç°åœ¨å¾ˆé£é¡ã€‚æˆ‘ä»¬å†æ¬¡åœ¨ JavaScript ä»£ç ä¸­ä½¿ç”¨ä½¿ç”¨æ ‡è®°ã€‚ä»»ä½• Web å¼€å‘äººå‘˜éƒ½ä¼šå‘Šè¯‰æ‚¨è¾“å…¥æ ‡è®°å¾ˆéº»çƒ¦ã€‚åœ¨å¤§å¤šæ•°æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬éœ€è¦ä¸€ç§èƒ½å¤Ÿå¿«é€Ÿè½»æ¾åœ°ç”Ÿæˆæ ‡ç­¾åŠå…¶å­ä»£çš„å·¥å…·ã€‚VSCode ä¸­å†…ç½®çš„ Emmet å°±æ˜¯ä¸€ä¸ªéå¸¸å¥½çš„ä¾‹å­ã€‚ä½†æ˜¯ï¼Œæœ‰æ—¶å€™ï¼Œä½ åªæƒ³è¦ä¸€äº›ç®€å•è€Œç®€æ´çš„ä¸œè¥¿ã€‚ä¾‹å¦‚è‡ªåŠ¨æ›´æ–°æ ‡è®°ï¼Œå®ƒåœ¨æ‚¨é”®å…¥å¼€å§‹æ ‡è®°æ—¶è‡ªåŠ¨ç”Ÿæˆç»“æŸæ ‡è®°ã€‚å½“æ‚¨æ›´æ”¹åŒä¸€ä¸ªæ ‡è®°å¯¹æ—¶ï¼Œç»“æŸæ ‡è®°ä¼šè‡ªåŠ¨æ›´æ”¹ã€‚ è¿™ä¸¤ä¸ªæ‰©å±•å°±æ˜¯è¿™æ ·åšçš„ã€‚ å®ƒè¿˜é€‚ç”¨äºJSXå’Œè®¸å¤šå…¶ä»–è¯­è¨€ï¼Œå¦‚XMLï¼ŒPHPï¼ŒVueï¼ŒJavaScriptï¼ŒTypeScriptï¼ŒTSXã€‚ GitLensæ­£å¦‚å…¶ä½œè€…æ‰€è¯´ï¼ŒGitLenså¢å¼ºäº†Visual Studio Codeä¸­å†…ç½®çš„GitåŠŸèƒ½ã€‚ å®ƒåŒ…å«äº†è®¸å¤šå¼ºå¤§çš„åŠŸèƒ½ï¼Œä¾‹å¦‚é€šè¿‡è·Ÿè¸ªä»£ç æ˜¾ç¤ºçš„ä»£ç ä½œè€…ï¼Œæäº¤æœç´¢ï¼Œå†å²è®°å½•å’ŒGitLensèµ„æºç®¡ç†å™¨ã€‚ æ‚¨å¯ä»¥åœ¨ æ­¤å¤„ é˜…è¯»è¿™äº›åŠŸèƒ½çš„å®Œæ•´è¯´æ˜ã€‚ æˆ‘åªæƒ³è¯´ä½ åº”è¯¥å®‰è£…è¿™ä¸ªæ’ä»¶ï¼Œå¦‚æœä½ ä½¿ç”¨gitåšä»»ä½•äº‹æƒ…çš„è¯ã€‚ Indenticator(ç¼©è¿›æŒ‡ç¤ºå™¨)Indenticator(ç¼©è¿›æŒ‡ç¤ºå™¨) åœ¨è§†è§‰ä¸Šçªå‡ºæ˜¾ç¤ºå½“å‰çš„ç¼©è¿›æ·±åº¦ã€‚å› æ­¤ï¼Œç°åœ¨æ‚¨å¯ä»¥è½»æ¾åŒºåˆ†åœ¨ä¸åŒå±‚æ¬¡ç¼©è¿›çš„å„ç§ä»£ç å—ã€‚ VSCode Icons Beautifyä»£ç ç¾åŒ–/æ ¼å¼åŒ–æ’ä»¶ å¤‡é€‰,Prettier â€” ä¸€ä¸ªä»£ç æ ¼å¼åŒ–å·¥å…·","categories":[{"name":"å·¥å…·","slug":"å·¥å…·","permalink":"http://www.guofangchao.com/categories/å·¥å…·/"}],"tags":[{"name":"æ’ä»¶","slug":"æ’ä»¶","permalink":"http://www.guofangchao.com/tags/æ’ä»¶/"}],"keywords":[{"name":"å·¥å…·","slug":"å·¥å…·","permalink":"http://www.guofangchao.com/categories/å·¥å…·/"}]},{"title":"macä¸‹å®‰è£…item2","slug":"macä¸‹å®‰è£…item2","date":"2018-08-17T06:50:00.000Z","updated":"2018-08-17T06:50:20.846Z","comments":true,"path":"2018/08/17/macä¸‹å®‰è£…item2/","link":"","permalink":"http://www.guofangchao.com/2018/08/17/macä¸‹å®‰è£…item2/","excerpt":"","text":"å®‰è£…é¦–å…ˆæˆ‘ä»¬ä¸‹è½½çš„ iTem2 è¿™ä¸ªè½¯ä»¶ï¼Œæ¯”Macè‡ªå¸¦çš„ç»ˆç«¯æ›´åŠ å¼ºå¤§ã€‚ç›´æ¥å®˜ç½‘ http://iterm2.com/ ä¸‹è½½å¹¶å®‰è£…å³å¯ã€‚ å®‰è£…oh-my-zshgithubè¿æ¥ï¼šhttps://github.com/robbyrussell/oh-my-zsh ä½¿ç”¨ crul å®‰è£…ï¼š1sh -c &quot;$(curl -fsSL https://raw.github.com/robbyrussell/oh-my-zsh/master/tools/install.sh)&quot; æˆ–ä½¿ç”¨wgetï¼š1sh -c &quot;$(wget https://raw.githubusercontent.com/robbyrussell/oh-my-zsh/master/tools/install.sh -O -)&quot; ä¸»é¢˜å®‰è£…æˆåŠŸåï¼Œç”¨vimæ‰“å¼€éšè—æ–‡ä»¶ .zshrc ï¼Œä¿®æ”¹ä¸»é¢˜ä¸º agnosterï¼š1ZSH_THEME=&quot;agnoster&quot; åº”ç”¨è¿™ä¸ªä¸»é¢˜éœ€è¦ç‰¹æ®Šçš„å­—ä½“æ”¯æŒï¼Œå¦åˆ™ä¼šå‡ºç°ä¹±ç æƒ…å†µï¼Œè¿™æ—¶æˆ‘ä»¬æ¥é…ç½®å­—ä½“ï¼š ä½¿ç”¨ Meslo å­—ä½“ï¼Œç‚¹å¼€è¿æ¥ç‚¹å‡» view raw ä¸‹è½½å­—ä½“ã€‚ å®‰è£…å­—ä½“åˆ°ç³»ç»Ÿå­—ä½“å†Œã€‚ åº”ç”¨å­—ä½“åˆ°iTerm2ä¸‹ï¼Œæˆ‘è‡ªå·±å–œæ¬¢å°†å­—å·è®¾ç½®ä¸º14pxï¼Œçœ‹ç€èˆ’æœï¼ˆiTerm -&gt; Preferences -&gt; Profiles -&gt; Text -&gt; Change Fontï¼‰ã€‚ é‡æ–°æ‰“å¼€iTerm2çª—å£ï¼Œè¿™æ—¶ä¾¿å¯ä»¥çœ‹åˆ°æ•ˆæœäº†ã€‚ è‡ªåŠ¨æç¤ºå‘½ä»¤å½“æˆ‘ä»¬è¾“å…¥å‘½ä»¤æ—¶ï¼Œç»ˆç«¯ä¼šè‡ªåŠ¨æç¤ºä½ æ¥ä¸‹æ¥å¯èƒ½è¦è¾“å…¥çš„å‘½ä»¤ï¼Œè¿™æ—¶æŒ‰ â†’ ä¾¿å¯è¾“å‡ºè¿™äº›å‘½ä»¤ï¼Œéå¸¸æ–¹ä¾¿ã€‚ è®¾ç½®å¦‚ä¸‹ï¼š å…‹éš†ä»“åº“åˆ°æœ¬åœ° ~/.oh-my-zsh/custom/plugins è·¯å¾„ä¸‹ 1git clone git://github.com/zsh-users/zsh-autosuggestions $ZSH_CUSTOM/plugins/zsh-autosuggestions ç”¨ vim æ‰“å¼€ .zshrc æ–‡ä»¶ï¼Œæ‰¾åˆ°æ’ä»¶è®¾ç½®å‘½ä»¤ï¼Œé»˜è®¤æ˜¯ plugins=(git) ï¼Œæˆ‘ä»¬æŠŠå®ƒä¿®æ”¹ä¸º 1plugins=(zsh-autosuggestions git) è¯­æ³•é«˜äº® ä½¿ç”¨homebrewå®‰è£… zsh-syntax-highlighting æ’ä»¶ã€‚ é…ç½®.zshrcæ–‡ä»¶ï¼Œæ’å…¥ä¸€è¡Œã€‚ è¾“å…¥å‘½ä»¤ã€‚ 12345brew install zsh-syntax-highlightingsource /usr/local/share/zsh-syntax-highlighting/zsh-syntax-highlighting.zshsource ~/.zshrc","categories":[{"name":"å·¥å…·","slug":"å·¥å…·","permalink":"http://www.guofangchao.com/categories/å·¥å…·/"}],"tags":[{"name":"iterm2","slug":"iterm2","permalink":"http://www.guofangchao.com/tags/iterm2/"}],"keywords":[{"name":"å·¥å…·","slug":"å·¥å…·","permalink":"http://www.guofangchao.com/categories/å·¥å…·/"}]},{"title":"ç”¨nodeåˆ›å»ºhttpsæœåŠ¡","slug":"ç”¨nodeåˆ›å»ºhttpsæœåŠ¡","date":"2018-08-14T08:30:00.000Z","updated":"2018-08-14T08:30:55.276Z","comments":true,"path":"2018/08/14/ç”¨nodeåˆ›å»ºhttpsæœåŠ¡/","link":"","permalink":"http://www.guofangchao.com/2018/08/14/ç”¨nodeåˆ›å»ºhttpsæœåŠ¡/","excerpt":"","text":"ç”¨Node.jsåˆ›å»ºè‡ªç­¾åçš„HTTPSæœåŠ¡å™¨ åˆ›å»ºè‡ªå·±çš„CAæœºæ„ åˆ›å»ºæœåŠ¡å™¨ç«¯è¯ä¹¦ åˆ›å»ºå®¢æˆ·ç«¯è¯ä¹¦ å°†è¯ä¹¦æ‰“åŒ…åˆ›å»ºè‡ªå·±çš„CAæœºæ„ ä¸ºCAç”Ÿæˆç§é’¥ genrsa -out ca-key.pem -des 1024```1234- é€šè¿‡CAç§é’¥ç”ŸæˆCSR ```javascript openssl req -new -key ca-key.pem -out ca-csr.pem é€šè¿‡CSRæ–‡ä»¶å’Œç§é’¥ç”ŸæˆCAè¯ä¹¦ 1openssl x509 -req -in ca-csr.pem -signkey ca-key.pem -out ca-cert.pem å¯èƒ½ä¼šé‡åˆ°çš„é—®é¢˜ ä½ éœ€è¦rootæˆ–è€…adminçš„æƒé™Unable to load config info from /user/local/ssl/openssl.cnfå¯¹äºè¿™ä¸ªé—®é¢˜ï¼Œä½ å¯ä»¥ä»ç½‘ä¸Šä¸‹è½½ä¸€ä»½æ­£ç¡®çš„openssl.cnfæ–‡ä»¶ï¼Œç„¶åset OPENSSL_CONF=openssl.cnfæ–‡ä»¶çš„æœ¬åœ°è·¯å¾„ åˆ›å»ºæœåŠ¡å™¨ç«¯è¯ä¹¦ ä¸ºæœåŠ¡å™¨ç”Ÿæˆç§é’¥openssl genrsa -out server-key.pem 1024 åˆ©ç”¨æœåŠ¡å™¨ç§é’¥æ–‡ä»¶æœåŠ¡å™¨ç”ŸæˆCSRopenssl req -new -key server-key.pem -config openssl.cnf -out server-csr.pem è¿™ä¸€æ­¥éå¸¸å…³é”®ï¼Œä½ éœ€è¦æŒ‡å®šä¸€ä»½openssl.cnfæ–‡ä»¶ã€‚å¯ä»¥ç”¨è¿™ä¸ª12345678910111213141516171819202122232425[req] distinguished_name = req_distinguished_name req_extensions = v3_req [req_distinguished_name] countryName = Country Name (2 letter code) countryName_default = CN stateOrProvinceName = State or Province Name (full name) stateOrProvinceName_default = BeiJing localityName = Locality Name (eg, city) localityName_default = YaYunCun organizationalUnitName = Organizational Unit Name (eg, section) organizationalUnitName_default = Domain Control Validated commonName = Internet Widgits Ltd commonName_max = 64 [ v3_req ] # Extensions to add to a certificate request basicConstraints = CA:FALSE keyUsage = nonRepudiation, digitalSignature, keyEncipherment subjectAltName = @alt_names [alt_names] #æ³¨æ„è¿™ä¸ªIP.1çš„è®¾ç½®ï¼ŒIPåœ°å€éœ€è¦å’Œä½ çš„æœåŠ¡å™¨çš„ç›‘å¬åœ°å€ä¸€æ · IP.1 = 127.0.0.1 é€šè¿‡æœåŠ¡å™¨ç§é’¥æ–‡ä»¶å’ŒCSRæ–‡ä»¶ç”ŸæˆæœåŠ¡å™¨è¯ä¹¦openssl x509 -req -CA ca-cert.pem -CAkey ca-key.pem -CAcreateserial -in server-csr.pem -out server-cert.pem -extensions v3_req -extfile openssl.cnf åˆ›å»ºå®¢æˆ·ç«¯è¯ä¹¦ ç”Ÿæˆå®¢æˆ·ç«¯ç§é’¥openssl genrsa -out client-key.pem åˆ©ç”¨ç§é’¥ç”ŸæˆCSRopenssl req -new -key client-key.pem -out client-csr.pem ç”Ÿæˆå®¢æˆ·ç«¯è¯ä¹¦openssl x509 -req -CA ca-cert.pem -CAkey ca-key.pem -CAcreateserial -in client-csr.pem -out client-cert.pem HTTPS æœåŠ¡å™¨ä»£ç 12345678910111213var https = require('https');var fs = require('fs');var options = &#123; key: fs.readFileSync('./keys/server-key.pem'), ca: [fs.readFileSync('./keys/ca-cert.pem')], cert: fs.readFileSync('./keys/server-cert.pem')&#125;;https.createServer(options,function(req,res)&#123; res.writeHead(200); res.end('hello world\\n');&#125;).listen(3000,'127.0.0.1'); HTTPS å®¢æˆ·ç«¯ä»£ç 1234567891011121314151617181920212223242526272829var https = require('https');var fs = require('fs');var options = &#123; hostname:'127.0.0.1', port:3000, path:'/', method:'GET', key:fs.readFileSync('./keys/client-key.pem'), cert:fs.readFileSync('./keys/client-cert.pem'), ca: [fs.readFileSync('./keys/ca-cert.pem')], agent:false&#125;;options.agent = new https.Agent(options);var req = https.request(options,function(res)&#123;console.log(\"statusCode: \", res.statusCode); console.log(\"headers: \", res.headers); res.setEncoding('utf-8'); res.on('data',function(d)&#123; console.log(d); &#125;)&#125;);req.end();req.on('error',function(e)&#123; console.log(e);&#125;) å°†è¯ä¹¦æ‰“åŒ… æ‰“åŒ…æœåŠ¡å™¨ç«¯è¯ä¹¦openssl pkcs12 -export -in server-cert.pem -inkey server-key.pem -certfile ca-cert.pem -out server.pfx æ‰“åŒ…å®¢æˆ·ç«¯è¯ä¹¦openssl pkcs12 -export -in client-cert.pem -inkey client-key.pem -certfile ca-cert.pem -out client.pfx æœåŠ¡å™¨ç«¯ä»£ç 123456789101112var https = require('https');var fs = require('fs');var options = &#123; pfx:fs.readFileSync('./keys/server.pfx'), passphrase:'your password'&#125;;https.createServer(options,function(req,res)&#123; res.writeHead(200); res.end('hello world\\n');&#125;).listen(3000,'127.0.0.1'); å®¢æˆ·ç«¯ä»£ç 12345678910111213141516171819202122232425262728var https = require('https');var fs = require('fs');var options = &#123; hostname:'127.0.0.1', port:3000, path:'/', method:'GET', pfx:fs.readFileSync('./keys/server.pfx'), passphrase:'your password', agent:false&#125;;options.agent = new https.Agent(options);var req = https.request(options,function(res)&#123;console.log(\"statusCode: \", res.statusCode); console.log(\"headers: \", res.headers); res.setEncoding('utf-8'); res.on('data',function(d)&#123; console.log(d); &#125;)&#125;);req.end();req.on('error',function(e)&#123; console.log(e);&#125;)","categories":[{"name":"nodejs","slug":"nodejs","permalink":"http://www.guofangchao.com/categories/nodejs/"}],"tags":[{"name":"nodejs","slug":"nodejs","permalink":"http://www.guofangchao.com/tags/nodejs/"},{"name":"https","slug":"https","permalink":"http://www.guofangchao.com/tags/https/"}],"keywords":[{"name":"nodejs","slug":"nodejs","permalink":"http://www.guofangchao.com/categories/nodejs/"}]},{"title":"juliaå®‰è£…1.0æ•™ç¨‹","slug":"juliaå®‰è£…1-0æ•™ç¨‹","date":"2018-08-11T06:06:00.000Z","updated":"2018-08-11T06:06:42.638Z","comments":true,"path":"2018/08/11/juliaå®‰è£…1-0æ•™ç¨‹/","link":"","permalink":"http://www.guofangchao.com/2018/08/11/juliaå®‰è£…1-0æ•™ç¨‹/","excerpt":"","text":"juliaæ˜¯ä¸€ä¸ªæ–°å‹çš„è¯­è¨€ï¼Œå®ƒé«˜æ€§èƒ½ã€ä½¿ç”¨ç®€å•ã€é¢å‘å¹¿å¤§çš„å¼€å‘è€…ã€‚è¿™æ³¨å®šäº†æˆ‘ä»¬å°†ä¼šåœ¨é€‚å½“çš„æ—¶å€™ä½¿ç”¨å®ƒæ¥å¼€å‘å„ç§ä¸œè¥¿ã€‚æ¯”å¦‚æ·±åº¦å­¦ä¹ ä¹‹ç±»å„ç§æ¡†æ¶ã€‚ ç½‘ä¸Šçš„æ•™ç¨‹å¤§å¤šæ˜¯åŸºäº0.4ä¹‹ç±»çš„ç‰ˆæœ¬ï¼Œé«˜ä¸€äº›çš„ä¹Ÿæ˜¯0.6çš„ã€‚æ–°æ‰‹æ¥è§¦çš„æ—¶å€™å…ä¸äº†å„ç§è¿·èŒ«ï¼Œå®Œå…¨ä¸çŸ¥é“æ€ä¹ˆå®‰è£…juliaã€‚è¿™é‡Œæä¾›ä¸€ä»½æ•™ç¨‹ç»™å¤§å®¶ã€‚å½“å‰ä½¿ç”¨ç‰ˆæœ¬æ˜¯1.0ï¼Œapiæœ‰ä¸€äº›æ”¹åŠ¨ï¼ŒåŒæ—¶pkgä¹Ÿä½¿ç”¨äº†æ–°çš„æ–¹å¼åŠ è½½åŒ…ã€‚ å®‰è£…juliaçš„å®‰è£…windowã€macå’Œlinuxä¸‰ç§ï¼Œå‰ä¸¤ç§éœ€è¦ä¸‹è½½å®‰è£…åŒ…ï¼Œç¬¬ä¸‰ä¸­å¯ä»¥ç›´æ¥é€šè¿‡ç¼–è¯‘è·å¾—ã€‚ æ‰“å¼€ç½‘å€https://julialang.org/downloads/ï¼Œä¸‹è½½æˆ‘ä»¬éœ€è¦çš„64ä½å®‰è£…åŒ… macçš„å®‰è£…æ¯”è¾ƒç®€å•ï¼Œè¿™é‡Œå°±ç•¥è¿‡ã€‚å®‰è£…æˆåŠŸä¹‹åå¯ä»¥åœ¨åº”ç”¨ä¸­æ‰¾åˆ°æˆ‘ä»¬å®‰è£…çš„juliaåº”ç”¨ç¨‹åº. åŒå‡»æ‰“å¼€å°±ä¼šçœ‹åˆ°è‡ªåŠ¨å¯åŠ¨äº†juliaçš„ç¼–è¯‘å™¨ã€‚è¿™é‡Œå¯ä»¥è¾“å…¥å„ç§å‘½ä»¤ï¼Œå®éªŒä¸€ä¸‹juliaé«˜é€Ÿçš„æ€§èƒ½å§^_^ ä¸è¿‡ä¸è¦é«˜å…´çš„å¤ªæ—©ï¼Œåˆ°è¿™é‡Œä»…ä»…èƒ½å°è¯•å„ç§æ–°æ‰‹æ•™ç¨‹ä¸­æŒ‡å¯¼çš„å˜é‡ã€è¯­æ³•ä¹‹ç±»çš„ç®€å•ä¸œè¥¿ã€‚è¦æƒ³çœŸæ­£çš„å¼€å§‹ä½“éªŒå¼€å‘ï¼Œè¿˜éœ€è¦é…ç½®æˆ‘ä»¬çš„ç¯å¢ƒå˜é‡ã€‚ æ·»åŠ ç¯å¢ƒå˜é‡å…¶ä»–æˆç†Ÿçš„è¯­è¨€éƒ½å·²ç»åœ¨å®‰è£…åŒ…å†…å†…ç½®äº†ç¯å¢ƒå˜é‡çš„è®¾ç½®äº†ã€‚æ–°æ‰‹å®‰è£…å®Œä¹‹åä¸€æ—¶å¯èƒ½æƒ³ä¸èµ·æ¥è¿˜æœ‰è¿™ä¹ˆä¸€ä¸ªæ“ä½œã€‚ ç¼–è¾‘ç¯å¢ƒå˜é‡é…ç½®æ–‡ä»¶vi .bash_profile åœ¨æ–‡ä»¶æœ«å°¾æ·»åŠ æˆ‘ä»¬çš„juliaæ‰§è¡Œç›®å½•ï¼Œè¿™é‡Œæ³¨æ„æ›¿æ¢è‡ªå·±çš„è·¯å¾„1export PATH=$&#123;PATH&#125;:/Applications/Julia-1.0.app/Contents/Resources/julia/bin ç¼–è¾‘å®Œæˆä¹‹åè®°å¾—æ‰§è¡Œsource .bash_profile ç°åœ¨åœ¨ä»»ä½•ä¸€ä¸ªç›®å½•ä¸‹éƒ½å¯ä»¥ä½¿ç”¨juliaå‘½ä»¤è¿›å…¥juliaçš„ç¯å¢ƒæˆ–è€…æ‰§è¡Œ.jlåç¼€çš„æ–‡ä»¶äº†ã€‚ å®‰è£…åŒ…æ‰§è¡Œjuliaè¿›å…¥juliaçš„ç¯å¢ƒï¼Œè¾“å…¥?å¯ä»¥æŸ¥çœ‹å¸®åŠ©â€”-è¿˜æ˜¯å…ˆçœ‹æ–‡æ¡£å§ï¼Œè¿™é‡Œçš„å¸®åŠ©ä¹Ÿæ˜¯åœ¨ç†Ÿæ‚‰æ–‡æ¡£ä¹‹åæ›´æ–¹ä¾¿ã€‚ è¾“å…¥]è¿›å…¥pkgçš„æ‰§è¡Œç¯å¢ƒï¼ŒåŒæ—¶å¯ä»¥è¾“å…¥?æ¥æŸ¥çœ‹å¸®åŠ©,è¿™é‡Œè§£é‡Šäº†é›†ä¸­å‘½ä»¤çš„ä½œç”¨ã€‚ å‡è®¾æˆ‘ä»¬è¦å®‰è£…Bukduè¿™ä¸ªåŒ…ã€‚åœ¨pkgç¯å¢ƒä¸‹æ‰§è¡Œå®‰è£…å‘½ä»¤add Bukdu å¯ä»¥çœ‹åˆ°ä¸‹è½½ä¸å°‘åŒ…ï¼Œé™é™çš„ç­‰å¾…å®‰è£…ç»“æœå§ã€‚ tips:å†™è¿™ç¯‡æ–‡ç« çš„æ—¶å€™Bukduè¿™ä¸ªåŒ…è¿˜ä¸æ”¯æŒ1.0ç‰ˆæœ¬ï¼Œå¦‚æœå®‰è£…ä¹‹åä¸èƒ½ç”¨æ˜¯æ­£å¸¸çš„ æµ‹è¯•å¼€å‘å•æ–‡ä»¶è¯•éªŒæ–°å»ºä¸€ä¸ªtest.jlæ–‡ä»¶ï¼Œåœ¨æ–‡ä»¶ä¸­è¾“å…¥print(&quot;Hello World!&quot;)ã€‚ åœ¨å½“å‰ç›®å½•ä¸‹è¾“å…¥å‘½ä»¤julia test.jlå³å¯çœ‹åˆ°æ‰§è¡Œçš„ç»“æœ åŒæ—¶ä¹Ÿå¯ä»¥è¯•ä¸€ä¸‹å„ç§æ•™ç¨‹ä¸­çš„å˜é‡ã€æ–¹æ³•ã€ç±»å‹ç­‰å†™æ³•ã€‚ æ¨¡å—åŠ è½½è¿™é‡Œå†è¯•ä¸€ä¸‹åŠ è½½æ¨¡å—æ˜¯å¦å¯ç”¨ã€‚ æ–°å»ºä¸€ä¸ªéœ€è¦è°ƒç”¨çš„æ¨¡å—æ–‡ä»¶ï¼Œè¿™é‡Œæ–°å»ºä¸€ä¸ªmodule.jlã€‚123456789module consoleexport logfunction log(msg) print(msg)endend åœ¨æ–°å»ºä¸€ä¸ªè¦æ‰§è¡Œçš„jlæ–‡ä»¶ã€‚æˆ‘ä»¬åœ¨é‡Œé¢è°ƒç”¨åˆšæ‰ç¼–å†™çš„æ¨¡å—æ–‡ä»¶ã€‚123456include(&quot;module.jl&quot;)using .console# è°ƒç”¨æ¨¡å—çš„è¾“å‡ºæ–¹æ³•,æ·»åŠ \\næ¢è¡Œconsole.log(&quot;test \\n&quot;)# åŒæ—¶è°ƒç”¨ä¸€ä¸‹è‡ªå¸¦çš„é”™è¯¯æç¤º@warn &quot;test base warn&quot; æ‰§è¡Œå‘½ä»¤çœ‹ä¸€ä¸‹åˆšæ‰çš„ç»“æœ","categories":[{"name":"ç¼–ç¨‹è¯­è¨€","slug":"ç¼–ç¨‹è¯­è¨€","permalink":"http://www.guofangchao.com/categories/ç¼–ç¨‹è¯­è¨€/"}],"tags":[{"name":"julia","slug":"julia","permalink":"http://www.guofangchao.com/tags/julia/"},{"name":"æ•™ç¨‹","slug":"æ•™ç¨‹","permalink":"http://www.guofangchao.com/tags/æ•™ç¨‹/"}],"keywords":[{"name":"ç¼–ç¨‹è¯­è¨€","slug":"ç¼–ç¨‹è¯­è¨€","permalink":"http://www.guofangchao.com/categories/ç¼–ç¨‹è¯­è¨€/"}]},{"title":"nodejsè¿æ¥è¿œç¨‹æœåŠ¡å™¨","slug":"nodejsè¿æ¥è¿œç¨‹æœåŠ¡å™¨","date":"2018-08-10T03:04:00.000Z","updated":"2018-08-10T03:05:58.798Z","comments":true,"path":"2018/08/10/nodejsè¿æ¥è¿œç¨‹æœåŠ¡å™¨/","link":"","permalink":"http://www.guofangchao.com/2018/08/10/nodejsè¿æ¥è¿œç¨‹æœåŠ¡å™¨/","excerpt":"","text":"nodejsä½¿ç”¨ssh2è¿™ä¸ªåº“å¯ä»¥å®ç°æ“ä½œsshè®¿é—®è¿œç¨‹æœåŠ¡å™¨. å°†ä¸‹é¢çš„è¿æ¥åœ°å€ä¿®æ”¹æˆè¿œç¨‹å³å¯å®ç°ç›´æ¥è¿æ¥è¿œç¨‹æœåŠ¡å™¨,åŒæ—¶å¯ä»¥åœ¨æœ¬åœ°æ‰§è¡Œå„ç§å‘½ä»¤.123456789101112131415161718192021222324252627282930313233343536const Client = require(&quot;ssh2&quot;).Client;const client = new Client();client.on(&quot;ready&quot;, function () &#123; console.log(&apos;sshå·²è¿æ¥!&apos;); client.shell(function (err, stream) &#123; if (err) throw err; process.stdin.setEncoding(&apos;utf8&apos;); let command = false; process.stdin.on(&apos;readable&apos;, () =&gt; &#123; const chunk = process.stdin.read(); if (chunk !== null) &#123; command = true; stream.write(chunk) &#125; &#125;); stream.on(&apos;close&apos;, function () &#123; console.log(&apos;å…³é—­shell&apos;); client.end(); &#125;).on(&apos;data&apos;, function (data) &#123; if (!command) process.stdout.write(data); command = false; &#125;).on(&quot;error&quot;, function (data) &#123; console.log(&apos;err: &apos; + data); &#125;).stderr.on(&apos;data&apos;, function (data) &#123; console.log(&apos;STDERR: &apos; + data); &#125;); &#125;);&#125;).connect(&#123; host: &apos;127.0.0.1&apos;, port: 22, username: &apos;root&apos;, password: &apos;123456&apos;&#125;);","categories":[{"name":"nodejs","slug":"nodejs","permalink":"http://www.guofangchao.com/categories/nodejs/"}],"tags":[{"name":"nodejs","slug":"nodejs","permalink":"http://www.guofangchao.com/tags/nodejs/"},{"name":"ssh","slug":"ssh","permalink":"http://www.guofangchao.com/tags/ssh/"}],"keywords":[{"name":"nodejs","slug":"nodejs","permalink":"http://www.guofangchao.com/categories/nodejs/"}]},{"title":"bigpipeåˆ†æ®µåŠ è½½","slug":"bigpipeåˆ†æ®µåŠ è½½","date":"2018-08-10T03:00:00.000Z","updated":"2018-08-10T03:03:42.548Z","comments":true,"path":"2018/08/10/bigpipeåˆ†æ®µåŠ è½½/","link":"","permalink":"http://www.guofangchao.com/2018/08/10/bigpipeåˆ†æ®µåŠ è½½/","excerpt":"","text":"ç½‘é¡µåˆ†æ®µåŠ è½½å°±æ˜¯åœ¨è¯·æ±‚è¿”å›çš„æ—¶å€™ä¸€æˆªä¸€æˆªçš„è¿”å›. è¿™é‡Œæœ‰ä¸€ä¸ªä¾‹å­:1234567891011121314151617181920router.get(&apos;/&apos;, function (req, res, next) &#123; // res.render(&apos;index&apos;, &#123; title: &apos;Express&apos; &#125;); res.writeHead(200, &#123; &apos;Content-Type&apos;: &apos;text/html&apos;, &apos;Transfer-Encoding&apos;: &apos;chunked&apos; &#125;); res.write(&quot;&lt;html&gt;&lt;/html&gt;&quot;); setTimeout(() =&gt; &#123; res.write(&quot;&lt;body&gt;&lt;/body&gt;&quot;); &#125;, 1000); setTimeout(() =&gt; &#123; res.write(&quot;test3&quot;); &#125;, 2000); setTimeout(() =&gt; &#123; res.write(&quot;test3&quot;); &#125;, 3000); setTimeout(() =&gt; &#123; res.end(&quot;test2&quot;); &#125;, 5000);&#125;); å…ˆè¦è®¾ç½®headè¿”å›çš„ç±»å‹æ˜¯chunked,è¿™æ ·æµè§ˆå™¨æ‰ä¼šè®¤è¯†åˆ†æ®µåŠ è½½,å¦åˆ™å°±ä¼šç›´æ¥ç­‰å¾…æœ€åç»“æœ. åé¢ä½¿ç”¨å®šæ—¶å™¨æ¯éš”ä¸€ç§’è¿”å›ä¸€æˆªæ•°æ®,æµè§ˆå™¨ä¹Ÿä¼šé€‚æ—¶çš„é‡æ–°æ¸²æŸ“ç½‘é¡µ.æœ€åè°ƒç”¨endæ–¹æ³•ç»“æŸè¿™æ¬¡è¯·æ±‚.","categories":[{"name":"å‰ç«¯","slug":"big-front-end","permalink":"http://www.guofangchao.com/categories/big-front-end/"}],"tags":[{"name":"å‰ç«¯","slug":"å‰ç«¯","permalink":"http://www.guofangchao.com/tags/å‰ç«¯/"},{"name":"åˆ†æ®µæ¸²æŸ“","slug":"åˆ†æ®µæ¸²æŸ“","permalink":"http://www.guofangchao.com/tags/åˆ†æ®µæ¸²æŸ“/"}],"keywords":[{"name":"å‰ç«¯","slug":"big-front-end","permalink":"http://www.guofangchao.com/categories/big-front-end/"}]},{"title":"ä½¿ç”¨Sequelizeè¿æ¥æ•°æ®åº“","slug":"ä½¿ç”¨Sequelizeè¿æ¥æ•°æ®åº“","date":"2018-08-09T03:03:00.000Z","updated":"2018-08-09T03:05:15.245Z","comments":true,"path":"2018/08/09/ä½¿ç”¨Sequelizeè¿æ¥æ•°æ®åº“/","link":"","permalink":"http://www.guofangchao.com/2018/08/09/ä½¿ç”¨Sequelizeè¿æ¥æ•°æ®åº“/","excerpt":"","text":"Sequelize.jsæ˜¯ä¸€æ¬¾é’ˆå¯¹nodejsçš„ORMæ¡†æ¶ã€‚ ä½¿ç”¨nodejsè¿æ¥è¿‡æ•°æ®åº“çš„äººè‚¯å®šå¯¹æ•°æ®åº“ä¸é™Œç”Ÿäº†ã€‚å¦‚æœæ˜¯ç›´æ¥é“¾æ¥ï¼Œéœ€è¦è‡ªå·±å»ºç«‹å¹¶ç®¡ç†è¿æ¥ï¼Œè¿˜éœ€è¦æ‰‹åŠ¨ç¼–å†™sqlè¯­å¥ã€‚ç®€å•çš„é¡¹ç›®åˆ°æ˜¯æ— æ‰€è°“ï¼Œå¯æ˜¯ä¸€æ—¦é¡¹ç›®è®¾è®¡çš„ä¸œè¥¿æ¯”è¾ƒå¤æ‚ï¼Œè¡¨æ¯”è¾ƒå¤šçš„æ—¶å€™æ•´ä¸ªsqlçš„ç¼–å†™å°±éå¸¸çš„æ¶ˆè€—ç²¾åŠ›ã€‚ åœ¨Javaã€c#ç­‰è¯­è¨€ä¸­å·²ç»æœ‰è½»é‡çš„æ•°æ®åº“æ¡†æ¶æˆ–è€…è§£å†³æ–¹æ¡ˆäº†ã€‚åœ¨nodejsä¸­æˆ‘æ¨èSequelizeã€‚å®ƒæ˜¯ä¸€ä¸ªå¾ˆæˆç†Ÿçš„æ¡†æ¶ï¼Œåœ¨é€Ÿåº¦å’Œæ€§èƒ½ä¸Šä¹Ÿéå¸¸æœ‰ä¼˜åŠ¿ã€‚è€Œå…¶ä¸­æœ€å…³é”®çš„åœ°æ–¹å°±åœ¨äºï¼Œæ—¥å¸¸å¼€å‘åªéœ€è¦ç®¡ç†å¯¹è±¡çš„åˆ›å»ºã€æŸ¥è¯¢æ–¹æ³•çš„è°ƒç”¨ç­‰å³å¯ï¼Œæå°‘éœ€è¦ç¼–å†™sqlè¯­å¥ã€‚è¿™ä¸€ä¸ªå¥½å¤„å°±æ˜¯çœå»äº†å¤æ‚çš„sqlè¯­å¥ç»´æŠ¤ï¼ŒåŒæ—¶ä¹Ÿé¿å…äº†å› sqlè€Œå¼•èµ·çš„ä¸å¿…è¦çš„bugã€‚ Sequelizeæ˜¯é’ˆå¯¹node.jså’Œio.jsæä¾›çš„ORMæ¡†æ¶ã€‚å…·ä½“å°±æ˜¯çªå‡ºä¸€ä¸ªæ”¯æŒå¹¿æ³›ï¼Œé…ç½®å’ŒæŸ¥è¯¢æ–¹æ³•ç»Ÿä¸€ã€‚å®ƒæ”¯æŒçš„æ•°æ®åº“åŒ…æ‹¬ï¼šPostgreSQLã€ MySQLã€MariaDBã€ SQLite å’Œ MSSQLã€‚ æœ¬æ–‡ä¸­æµ‹è¯•ä»¥åŠAPIå±•ç¤ºåœ°å€ï¼šgithubåœ°å€ æ¼”ç¤ºSequelizeçš„è°ƒç”¨çªå‡ºä¸€ä¸ªç®€å•å¿«æ·ã€‚å…·ä½“æƒ…å†µå¯ä»¥æ„Ÿå—ä¸€ä¸‹ä¸‹é¢çš„ä»£ç ã€‚å¦‚æœæœ‰è¿‡å¼€å‘ç»éªŒçš„å¯ä»¥ç•¥è¿‡ã€‚1234567Table1.findById(23);//select a,b,c,d from table1 where id=23;Table1.findAll(&#123; where:&#123;a:\"test\",b:76&#125;&#125;);//select a,b,c,d from table1 where a=\"test\" and \"b=76; åœ¨å•è¡¨æŸ¥è¯¢çš„æ—¶å€™åªéœ€è¦ç®€å•çš„é…ç½®å³å¯å®ŒæˆæŸ¥è¯¢ã€‚æ˜¯ä¸æ˜¯éå¸¸çš„ç®€å•æ–¹ä¾¿å‘¢ï¼Ÿ è¿æ¥æ•°æ®åº“Sequelizeçš„è¿æ¥éœ€è¦ä¼ å…¥å‚æ•°ï¼Œå¹¶ä¸”å¯ä»¥é…ç½®å¼€å¯çº¿ç¨‹æ± ã€è¯»å†™åˆ†åº“ç­‰æ“ä½œã€‚ ç®€å•çš„å†™æ³•æ˜¯è¿™æ ·çš„:new Sequelize(&quot;è¡¨å&quot;,&quot;ç”¨æˆ·å&quot;,&quot;å¯†ç &quot;,é…ç½®) æ­£å¸¸ä½¿ç”¨ä¸­å¾ˆå°‘ä½¿ç”¨åˆ°æ‰€æœ‰çš„å‚æ•°ï¼Œè¿™é‡Œæä¾›ä¸€ä¸ªå¸¸ç”¨çš„æ¨¡æ¿ï¼Œåªéœ€è¦ä¿®æ”¹è‡ªå·±ä½¿ç”¨çš„å€¼å³å¯ã€‚12345678910const sequelize = new Sequelize('database', 'username', 'password', &#123; host: 'localhost', //æ•°æ®åº“åœ°å€,é»˜è®¤æœ¬æœº port:'3306', dialect: 'mysql', pool: &#123; //è¿æ¥æ± è®¾ç½® max: 5, //æœ€å¤§è¿æ¥æ•° min: 0, //æœ€å°è¿æ¥æ•° idle: 10000 &#125;, &#125;); ä¸‹é¢æ˜¯è¯¦ç»†çš„é…ç½®å‚æ•°ã€‚12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849const sequelize = new Sequelize('database', 'username', 'password', &#123; // æ•°æ®åº“ç±»å‹ï¼Œæ”¯æŒ: 'mysql', 'sqlite', 'postgres', 'mssql' dialect: 'mysql', // è‡ªå®šä¹‰é“¾æ¥åœ°å€ï¼Œå¯ä»¥æ˜¯ipæˆ–è€…åŸŸåï¼Œé»˜è®¤æœ¬æœºï¼šlocalhost host: 'my.server.tld', // è‡ªå®šä¹‰ç«¯å£ï¼Œé»˜è®¤3306 port: 12345, // postgresä½¿ç”¨çš„å‚æ•°,è¿æ¥ç±»å‹ï¼Œé»˜è®¤ï¼štcp protocol: null, // æ˜¯å¦å¼€å§‹æ—¥å¿—ï¼Œé»˜è®¤æ˜¯ç”¨console.log // å»ºè®®å¼€å¯ï¼Œæ–¹ä¾¿å¯¹ç…§ç”Ÿæˆçš„sqlè¯­å¥ logging: true, // é»˜è®¤æ˜¯ç©º // æ”¯æŒ: 'mysql', 'postgres', 'mssql' dialectOptions: &#123; socketPath: '/Applications/MAMP/tmp/mysql/mysql.sock', supportBigNumbers: true, bigNumberStrings: true &#125;, // sqliteçš„å­˜å‚¨ä½ç½®,ä»…sqliteæœ‰ç”¨ // - é»˜è®¤ ':memory:' storage: 'path/to/database.sqlite', // æ˜¯å¦å°†undefinedè½¬åŒ–ä¸ºNULL // - é»˜è®¤: false omitNull: true, // pgä¸­å¼€å¯sslæ”¯æŒ // - é»˜è®¤: false native: true, // æ•°æ®åº“é»˜è®¤å‚æ•°,å…¨å±€å‚æ•° define: &#123; underscored: false freezeTableName: false, charset: 'utf8', dialectOptions: &#123; collate: 'utf8_general_ci' &#125;, timestamps: true &#125;, // æ˜¯å¦åŒæ­¥ sync: &#123; force: true &#125;, // è¿æ¥æ± é…ç½® pool: &#123; max: 5, idle: 30000, acquire: 60000, &#125;, isolationLevel: Transaction.ISOLATION_LEVELS.REPEATABLE_READ&#125;) å®šä¹‰æ¨¡å‹å¯¹è±¡åœ¨ä½¿ç”¨ä¹‹å‰ä¸€å®šè¦å…ˆåˆ›å»ºæ¨¡å‹å¯¹è±¡ã€‚å°±æ˜¯æ•°æ®åº“ä¸­è¡¨çš„åç§°ã€ä½¿ç”¨åˆ°çš„å­—æ®µã€å­—æ®µç±»å‹ç­‰ã€‚ è¿™é‡Œæœ‰ä¸€ä¸ªæ¨èçš„å¼€å‘æ–¹å¼ã€‚å…ˆåœ¨nodejsä¸­å°†å¯¹è±¡åˆ›å»ºå‡ºæ¥ï¼Œç„¶åè°ƒç”¨Sequelizeçš„åŒæ­¥æ–¹æ³•ï¼Œå°†æ•°æ®åº“è‡ªåŠ¨åˆ›å»ºå‡ºæ¥ã€‚è¿™æ ·å°±é¿å…äº†æ—¢è¦å†™ä»£ç å»ºè¡¨ï¼Œåˆè¦æ‰‹å·¥åˆ›å»ºæ•°æ®åº“ä¸­çš„è¡¨çš„æ“ä½œã€‚åªéœ€è¦å•ç‹¬è€ƒè™‘ä»£ç ä¸­çš„å¯¹è±¡ç±»å‹ç­‰å±æ€§å°±å¥½äº†ã€‚ å¦‚æœæ•°æ®åº“ä¸­å·²ç»å»ºå¥½äº†è¡¨ï¼Œå¹¶ä¸”ä¸èƒ½åˆ é™¤ï¼Œè¿™ä¸ªæ—¶å€™å°±ä¸èƒ½è‡ªåŠ¨åˆ›å»ºäº†ï¼Œå› ä¸ºåˆ›å»ºçš„æ—¶å€™ä¼šåˆ é™¤æ‰æ—§çš„æ•°æ®ã€‚ ä¸‹é¢æ˜¯ç®€å•çš„å¯¹è±¡åˆ›å»ºå¤šæ•°æƒ…å†µä¸‹è¿™æ ·å°±å¯ä»¥äº†ã€‚123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657const users = db.define('t_user'/*è‡ªå®šä¹‰è¡¨å*/, &#123; id: &#123; type: Sequelize.INTEGER, primaryKey: true, //ä¸»é”® autoIncrement: true, //è‡ªå¢ comment: \"è‡ªå¢id\" //æ³¨é‡Š:åªåœ¨ä»£ç ä¸­æœ‰æ•ˆ &#125;, //ç”¨æˆ·å username: &#123; type: Sequelize.STRING, validate:&#123; isEmail: true, //ç±»å‹æ£€æµ‹,æ˜¯å¦æ˜¯é‚®ç®±æ ¼å¼ &#125; &#125;, //å¯†ç  pwd: &#123; type: Sequelize.STRING(10), allowNull: false,//ä¸å…è®¸ä¸ºnull &#125;, //çŠ¶æ€ status: &#123; type: Sequelize.INTEGER, defaultValue: 0,//é»˜è®¤å€¼æ˜¯0 &#125;, //æ˜µç§° nickname: &#123; type: Sequelize.STRING &#125;, //token token: &#123; type: Sequelize.UUID &#125;, create_time: &#123; type: Sequelize.DATE, defaultValue: Sequelize.NOW &#125;&#125;, &#123; //ä½¿ç”¨è‡ªå®šä¹‰è¡¨å freezeTableName: true, //å»æ‰é»˜è®¤çš„æ·»åŠ æ—¶é—´å’Œæ›´æ–°æ—¶é—´ timestamps: false, indexes:[ //æ™®é€šç´¢å¼•,é»˜è®¤BTREE &#123; unique: true, fields: ['pid'] &#125;, ]&#125;);//åŒæ­¥:æ²¡æœ‰å°±æ–°å»º,æœ‰å°±ä¸å˜// users.sync();//å…ˆåˆ é™¤ååŒæ­¥users.sync(&#123; force: true&#125;); æ•°æ®ç±»å‹å‰æ®µå°†äº†å¯¹è±¡çš„åˆ›å»ºï¼Œé‡Œé¢ç”¨åˆ°äº†å¯¹è±¡çš„å„ç§ç±»å‹ã€‚è¿™é‡Œå†ä»‹ç»ä¸€ä¸‹ç±»å‹çš„å…·ä½“ä½¿ç”¨æ–¹å¼ã€‚ 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657Sequelize.STRING //å­—ç¬¦ä¸²,é•¿åº¦é»˜è®¤255,VARCHAR(255)Sequelize.STRING(1234) //è®¾å®šé•¿åº¦çš„å­—ç¬¦ä¸²,VARCHAR(1234)Sequelize.STRING.BINARY //å®šä¹‰ç±»å‹VARCHAR BINARYSequelize.TEXT //é•¿å­—ç¬¦ä¸²,æ–‡æœ¬ TEXTSequelize.TEXT('tiny') //å°æ–‡æœ¬å­—ç¬¦ä¸²,TINYTEXTSequelize.INTEGER //intæ•°å­—,intSequelize.BIGINT //æ›´å¤§çš„æ•°å­—,BIGINTSequelize.BIGINT(11) //è®¾å®šé•¿åº¦çš„æ•°å­—,BIGINT(11)Sequelize.FLOAT //æµ®ç‚¹ç±»å‹,FLOATSequelize.FLOAT(11) //è®¾å®šé•¿åº¦çš„æµ®ç‚¹,FLOAT(11)Sequelize.FLOAT(11, 12) //è®¾å®šé•¿åº¦å’Œå°æ•°ä½æ•°çš„æµ®ç‚¹,FLOAT(11,12)Sequelize.REAL //REAL PostgreSQL only.Sequelize.REAL(11) // REAL(11) PostgreSQL only.Sequelize.REAL(11, 12) // REAL(11,12) PostgreSQL only.Sequelize.DOUBLE // DOUBLESequelize.DOUBLE(11) // DOUBLE(11)Sequelize.DOUBLE(11, 12) // DOUBLE(11,12)Sequelize.DECIMAL // DECIMALSequelize.DECIMAL(10, 2) // DECIMAL(10,2)Sequelize.DATE // æ—¥æœŸç±»å‹,DATETIME for mysql / sqlite, TIMESTAMP WITH TIME ZONE for postgresSequelize.DATE(6) // mysql 5.6.4+æ”¯æŒ,åˆ†ç§’ç²¾åº¦ä¸º6ä½Sequelize.DATEONLY // ä»…æ—¥æœŸéƒ¨åˆ†Sequelize.BOOLEAN // intç±»å‹,é•¿åº¦ä¸º1,TINYINT(1)Sequelize.ENUM('value 1', 'value 2') // æšä¸¾ç±»å‹Sequelize.ARRAY(Sequelize.TEXT) //PostgreSQL only.Sequelize.ARRAY(Sequelize.ENUM) // PostgreSQL only.Sequelize.JSON // JSON column. PostgreSQL, SQLite and MySQL only.Sequelize.JSONB // JSONB column. PostgreSQL only.Sequelize.BLOB // BLOB (bytea for PostgreSQL)Sequelize.BLOB('tiny') // TINYBLOB (bytea for PostgreSQL. Other options are medium and long)Sequelize.UUID // PostgreSQLå’ŒSQLiteçš„æ•°æ®ç±»å‹æ˜¯UUID, MySQLæ˜¯CHAR(36)ç±»å‹Sequelize.CIDR // PostgreSQLä¸­çš„CIDRç±»å‹Sequelize.INET // PostgreSQLä¸­çš„INETç±»å‹Sequelize.MACADDR // PostgreSQLä¸­çš„MACADDRç±»å‹Sequelize.RANGE(Sequelize.INTEGER) //PostgreSQL only.Sequelize.RANGE(Sequelize.BIGINT) // PostgreSQL only.Sequelize.RANGE(Sequelize.DATE) //PostgreSQL only.Sequelize.RANGE(Sequelize.DATEONLY) //PostgreSQL only.Sequelize.RANGE(Sequelize.DECIMAL) //PostgreSQL only.Sequelize.ARRAY(Sequelize.RANGE(Sequelize.DATE)) // PostgreSQL only.Sequelize.GEOMETRY //PostgreSQL (with PostGIS) or MySQL only.Sequelize.GEOMETRY('POINT') // PostgreSQL (with PostGIS) or MySQL only.Sequelize.GEOMETRY('POINT', 4326)// PostgreSQL (with PostGIS) or MySQL only. æ•°æ®ç±»å‹æ£€æµ‹ä¸Šé¢å¯ä»¥çœ‹åˆ°ä½¿ç”¨validateå­—æ®µå»éªŒè¯å­—æ®µçš„å€¼æ˜¯å¦ç¬¦åˆæ ‡å‡†ï¼Œè¿™æ ·å°±å¯ä»¥åœ¨å…¥åº“ä¹‹å‰å°±èƒ½çŸ¥é“æ•°æ®æ˜¯å¦ç¬¦åˆè§„åˆ™ã€‚å¦åˆ™è´¸ç„¶å°†é™Œç”Ÿçš„æ•°æ®å­˜å…¥æ•°æ®åº“å°±å¥½åƒå°†é™Œç”Ÿäººå¸¦åˆ°å®¶é‡Œä¸€æ ·ï¼Œæ˜¯å¦å®‰å…¨å…¨é ç¼˜åˆ†å•Šã€‚ Sequelizeå†…ç½®æ”¯æŒçš„éªŒè¯è¿˜æ˜¯éå¸¸çš„å¤šçš„ï¼Œå¦‚æœè¿™äº›éƒ½ä¸æ»¡æ„ï¼Œè¿˜å¯ä»¥è‡ªå·±å®šä¹‰ä¸€ä¸ªã€‚12345678910111213141516171819202122232425262728293031323334353637383940validate: &#123; is: [\"^[a-z]+$\",'i'], // å…¨åŒ¹é…å­—æ¯ is: /^[a-z]+$/i, // å…¨åŒ¹é…å­—æ¯ï¼Œç”¨è§„åˆ™è¡¨è¾¾å¼å†™æ³• not: [\"[a-z]\",'i'], // ä¸èƒ½åŒ…å«å­—æ¯ isEmail: true, // æ£€æŸ¥é‚®ä»¶æ ¼å¼ isUrl: true, // æ˜¯å¦æ˜¯åˆæ³•ç½‘å€ isIP: true, // æ˜¯å¦æ˜¯åˆæ³•IPåœ°å€ isIPv4: true, // æ˜¯å¦æ˜¯åˆæ³•IPv4åœ°å€ isIPv6: true, // æ˜¯å¦æ˜¯åˆæ³•IPv6åœ°å€ isAlpha: true, // æ˜¯å¦æ˜¯å­—æ¯ isAlphanumeric: true, // æ˜¯å¦æ˜¯æ•°å­—å’Œå­—æ¯ isNumeric: true, // åªå…è®¸æ•°å­— isInt: true, // åªå…è®¸æ•´æ•° isFloat: true, // æ˜¯å¦æ˜¯æµ®ç‚¹æ•° isDecimal: true, // æ˜¯å¦æ˜¯åè¿›åˆ¶ä¹¦ isLowercase: true, // æ˜¯å¦æ˜¯å°å†™ isUppercase: true, // æ˜¯å¦å¤§å†™ notNull: true, // ä¸å…è®¸ä¸ºnull isNull: true, // æ˜¯å¦æ˜¯null notEmpty: true, // ä¸å…è®¸ä¸ºç©º equals: 'specific value', // ç­‰äºæŸäº›å€¼ contains: 'foo', // åŒ…å«æŸäº›å­—ç¬¦ notIn: [['foo', 'bar']], // ä¸åœ¨åˆ—è¡¨ä¸­ isIn: [['foo', 'bar']], // åœ¨åˆ—è¡¨ä¸­ notContains: 'bar', // ä¸åŒ…å« len: [2,10], // é•¿åº¦èŒƒå›´ isUUID: 4, // æ˜¯å¦æ˜¯åˆæ³• uuids isDate: true, // æ˜¯å¦æ˜¯æœ‰æ•ˆæ—¥æœŸ isAfter: \"2011-11-05\", // æ˜¯å¦æ™šäºæŸä¸ªæ—¥æœŸ isBefore: \"2011-11-05\", // æ˜¯å¦æ—©äºæŸä¸ªæ—¥æœŸ max: 23, // æœ€å¤§å€¼ min: 23, // æœ€å°å€¼ isArray: true, // æ˜¯å¦æ˜¯æ•°ç»„ isCreditCard: true, // æ˜¯å¦æ˜¯æœ‰æ•ˆä¿¡ç”¨å¡å· // è‡ªå®šä¹‰è§„åˆ™ isEven: function(value) &#123; if(parseInt(value) % 2 != 0) &#123; throw new Error('è¯·è¾“å…¥å¶æ•°!') &#125;&#125; APIç•¥è®²Sequelizeçš„APIåŸºæœ¬è¦†ç›–äº†å¸¸ç”¨çš„ä½¿ç”¨æ–¹å¼ï¼Œå…¶ä¸­å•è¡¨æŸ¥è¯¢å¸¸ç”¨çš„æœ‰ä¸€ä¸‹å‡ ç§ã€‚å¤æ‚çš„å¯ä»¥å‚è€ƒæ›´å¤šçš„APIã€‚ æŸ¥è¯¢å¤šæ¡ findAll(opts) æˆ–è€… all(opts)æŸ¥è¯¢ç”¨çš„å‚æ•°æ™®éé€šç”¨ï¼Œåªæœ‰éƒ¨åˆ†APIçš„æœ‰ç‰¹æ®Šå‚æ•°ã€‚è¿™é‡Œå±•ç¤ºä¸€æ¬¡å¸¸ç”¨å‚æ•°ï¼Œä¸‹é¢å°±ç•¥è¿‡äº†ã€‚1234567891011121314let list = await model.findAll(&#123; where:&#123; id:&#123;$gt:10&#125;,//idå¤§äº10çš„ name:\"test\" //nameç­‰äºtest &#125;, order:[ \"id\", //æ ¹æ®idæ’åº [\"id\",\"desc\"]//æ ¹æ®idå€’åº ], limit:10,//è¿”å›ä¸ªæ•° offset:20,//èµ·å§‹ä½ç½®,è·³è¿‡æ•°é‡ attributes:[\"attr1\",\"attr2\"], //è¿”å›çš„å­—æ®µ&#125;);//select attr1,attr2 from model where ...... é€šè¿‡idæŸ¥è¯¢ findById(id,opts)è¿™é‡Œé»˜è®¤æ•°æ®çš„ä¸»é”®æ˜¯idï¼ŒæŸ¥è¯¢çš„æ—¶å€™ç›´æ¥é€šè¿‡idæŸ¥è¯¢æ•°æ®ã€‚è¿™é‡Œæ¨èåœ¨æ–°å»ºæ•°æ®åº“çš„æ—¶å€™å¯ä»¥æ·»åŠ idä½œä¸ºå”¯ä¸€ä¸»é”®ã€‚12let model = await model.findById(12);//select a,b,c from model where id=12; æŸ¥è¯¢ä¸€æ¡è®°å½• findOne(opts)æ ¹æ®æ¡ä»¶æŸ¥è¯¢è®°å½•ï¼Œè¿™é‡Œçš„æ¡ä»¶ä¸€å®šè¦å¡«å†™ï¼Œä¸ç„¶å°±æ˜¯è¿”å›ç¬¬ä¸€æ¡æ•°æ®äº†ã€‚1234let model = await model.findOne(&#123; where:&#123;id:12&#125;&#125;);//select a,b,c from model where id=12; åˆ†é¡µæŸ¥è¯¢ findAndCount(opts) æˆ–è€… findAndCountAllåˆ†é¡µæŸ¥è¯¢ææ€•æ˜¯å¦å¤–ä¸€ä¸ªå¸¸ç”¨æ–¹æ³•äº†ã€‚ä»»ä½•ä¸€ä¸ªåˆ—è¡¨éƒ½æœ‰éœ€è¦åˆ†é¡µçš„æ—¶å€™ã€‚ è¿™ä¸ªæ–¹æ³•ä¼šåŒæ—¶æ‰§è¡Œ2è·³è¯­å¥ã€‚123456789let data = await model.findAndCount(&#123; limit:10,//æ¯é¡µ10æ¡ offset:0*10,//ç¬¬xé¡µ*æ¯é¡µä¸ªæ•° where:&#123;&#125;&#125;);let list = data.rows;let count = data.count;//select count(*) from model where ...;//select a,b,c from model where .... limit 0,10; æ·»åŠ æ–°æ•°æ® create(model,opts)æ·»åŠ å°±éå¸¸çš„è‡ªåœ¨äº†ã€‚ç®€å•çš„åªéœ€è¦ä¼ å…¥modelå¯¹è±¡å³å¯ã€‚è¿™é‡Œè¦ä¿è¯modelå¯¹è±¡çš„å±æ€§å’Œå­—æ®µåè¦ä¸€è‡´ã€‚å¦‚æœä¸ä¸€è‡´å°±ä¼šå‡ºé”™ã€‚ä¹Ÿå¯ä»¥ä¼ å…¥é…ç½®å‚æ•°æ¥å¢åŠ æ¡ä»¶ç­‰ã€‚123456let model= &#123; name:\"test\", token:\"adwadfv2324\"&#125; await model.create(model);//insert into model (name,token) values(\"test\",\"adwadfv2324\"); æŸ¥è¯¢,ä¸å­˜åœ¨å°±è¿”å›é»˜è®¤å¯¹è±¡ findOrInitialize(opts)opts.default é»˜è®¤å€¼å¯¹è±¡ è¿™ä¸ªæ–¹æ³•é¦–å…ˆä¼šæŸ¥è¯¢æ•°æ®åº“ï¼Œå¦‚æœæ²¡æœ‰ç»“æœå°±ä¼šè¿”å›å‚æ•°ä¸­çš„defaultå¯¹è±¡ã€‚è¿™ä¸ªæ¯”è¾ƒé€‚åˆè¿”å›é»˜è®¤å¯¹è±¡ä¹‹ç±»çš„åœºæ™¯ã€‚ æŸ¥è¯¢,ä¸å­˜åœ¨å°±æ–°å»ºä¸€ä¸ª findOrCreate(opts)æˆ–è€…findCreateFindè¿™ä¸ªæ–¹æ³•ç”¨åˆ°çš„æƒ…å†µä¹Ÿæ¯”è¾ƒå¤šã€‚é€šå¸¸ç”¨äºè‡ªåŠ¨åˆ›å»ºä¸å­˜åœ¨çš„æ•°æ®ã€‚ç›´æ¥å°±è¿”å›äº†é»˜è®¤å€¼ã€‚ æœ‰åˆ™æ›´æ–°,æ— åˆ™æ·»åŠ  upsert(model,opts) æˆ–è€… insertOrUpdate(model,opts)æ ¹æ®ä¸»é”®æˆ–è€…å”¯ä¸€çº¦æŸé”®åŒ¹é… å¸¸ç”¨äºç¼–è¾‘çš„æ—¶å€™æ·»åŠ æˆ–è€…æ›´æ–°ç»Ÿä¸€æ“ä½œã€‚ æ›´æ–°è®°å½• update(model,opts)å°±æ˜¯æœ€å¸¸ç”¨çš„æ›´æ–°æ–¹æ³•ï¼Œå¯ä»¥ä¼ å…¥è¦æ›´æ–°çš„modelå¯¹è±¡ï¼ŒåŒæ—¶ç”¨é…ç½®å‚æ•°æœ‰æ¡ä»¶çš„åŒºåˆ«è¦æ›´æ–°çš„å¯¹è±¡ã€‚ åˆ é™¤è®°å½• destroy(opts)åˆ é™¤æœ‰2ç§æƒ…å†µï¼Œä¸€ç§æ˜¯ç‰©ç†åˆ é™¤ã€‚åˆ é™¤å°±ä»è¡¨ä¸­ä¸å­˜åœ¨äº†ã€‚å¦å¤–ä¸€ç§å°±æ˜¯è®¾ç½®paranoidï¼Œè¿™ä¸ªæ˜¯è™šæ‹Ÿåˆ é™¤ï¼Œé»˜è®¤ä¸€ä¸ªå­—æ®µè¡¨ç¤ºæ•°æ®æ˜¯å¦åˆ é™¤ï¼ŒæŸ¥è¯¢çš„æ—¶å€™å»æ‰è¿™ä¸ªæ¡ä»¶å³å¯æŸ¥è¯¢åˆ°åˆ é™¤çš„æ•°æ®ã€‚ æ¢å¤è®°å½• restore(opts)æ¢å¤å¤šä¸ªå®ä¾‹ï¼Œå½“å¯ç”¨paranoidæ—¶å°±å¯ä»¥ä½¿ç”¨è¿™ä¸ªæ–¹æ³•å°†æ›¾ä»Šåˆ é™¤çš„æ•°æ®æ¢å¤äº†ã€‚ å…¶ä»–å¸¸ç”¨API æŒ‡å®šå­—æ®µæŸ¥è¯¢æœ€å¤§å€¼ max(â€œidâ€,opts) æŒ‡å®šå­—æ®µæŸ¥è¯¢æœ€å°å€¼ min(â€œidâ€,opts) æ±‚å’Œ sum(â€œidâ€,opts) æ‰¹é‡æ·»åŠ  bulkCreate([model],opts) æŸ¥è¡¨ç»“æ„çš„ä¿¡æ¯ describe() é€’å¢ increment(â€œidâ€,{by:1}) é€’å‡ decrement(â€œidâ€,{by:1}) ç»Ÿè®¡æŸ¥è¯¢ä¸ªæ•° count(opts) äº‹åŠ¡Sequelizeä¸­çš„äº‹åŠ¡æ¯”è¾ƒç®€å•ã€‚ä½†æ˜¯å¦‚æœæœ‰å¤šä¸ªäº‹åŠ¡çš„è¯å†™å‡ºæ¥çš„ä»£ç ä¼šéå¸¸çš„éš¾çœ‹ã€‚è¿™ä¹Ÿç®—æ˜¯Sequelizeä¼˜åŒ–çš„æ¯”è¾ƒå·®çš„åœ°æ–¹äº†ã€‚ éœ€è¦è®°å¾—transactionå‚æ•°è¦ä¸€è‡´ä¼ é€’å°±å¯ä»¥äº†ã€‚å…¶ä»–å°±æ˜¯ä¸€ä¸ªæ­£å¸¸çš„Promiseè°ƒç”¨ã€‚12345678910111213141516171819//è°ƒç”¨Sequelizeåˆå§‹åŒ–ä¹‹åçš„sequelizeå¯¹è±¡return sequelize.transaction(function (t) &#123; //è¿”å›æœ€ç»ˆçš„Promise return User.create(&#123; firstName: 'Abraham', lastName: 'Lincoln' &#125;, &#123;transaction: t&#125;).then(function (user) &#123; return user.setShooter(&#123; firstName: 'John', lastName: 'Boothe' &#125;, &#123;transaction: t&#125;); &#125;);&#125;).then(function (result) &#123; //ä¸»åŠ¨è°ƒç”¨commitæäº¤ç»“æœ return t.commit();&#125;).catch(function (err) &#123; //ä¸»åŠ¨å›æ»šæ“ä½œ return t.rollback();&#125;); å¤šè¡¨è”æŸ¥å¤–é”®å¯èƒ½ç®—æ˜¯Sequelizeä¸­çš„ä¸€ä¸ªéš¾ç‚¹äº†ã€‚è¿™é‡Œæ¶‰åŠçš„ä¸œè¥¿ç¨å¾®å¤šä¸€ç‚¹ï¼Œæˆ‘ä»¬æ¥æ…¢æ…¢æ‹ä¸€éã€‚ å¤–é”®çŸ¥è¯†ç‚¹å¤–é”®çš„å®šåˆ¶ä½œç”¨â€”-ä¸‰ç§çº¦æŸæ¨¡å¼ï¼š districtï¼šä¸¥æ ¼æ¨¡å¼(é»˜è®¤), çˆ¶è¡¨ä¸èƒ½åˆ é™¤æˆ–æ›´æ–°ä¸€ä¸ªè¢«å­è¡¨å¼•ç”¨çš„è®°å½•ã€‚ cascadeï¼šçº§è”æ¨¡å¼, çˆ¶è¡¨æ“ä½œåï¼Œå­è¡¨å…³è”çš„æ•°æ®ä¹Ÿè·Ÿç€ä¸€èµ·æ“ä½œã€‚ä¹Ÿæ˜¯Sequelizeçš„é»˜è®¤æ¨¡å¼ã€‚ set nullï¼šç½®ç©ºæ¨¡å¼,å‰æå¤–é”®å­—æ®µå…è®¸ä¸ºNLL, çˆ¶è¡¨æ“ä½œåï¼Œå­è¡¨å¯¹åº”çš„å­—æ®µè¢«ç½®ç©ºã€‚ ä½¿ç”¨å¤–é”®çš„å‰æåœ¨Sequelizeä¸­ä½¿ç”¨å¤–é”®éœ€è¦æå‰æ£€æŸ¥ä¸€ä¸‹ä¸‹é¢çš„è¿™äº›é€‰é¡¹ï¼Œé‡Œé¢æœ‰ä¸€æ¡å‡ºé”™å°±ä¼šå¯¼è‡´è®¾ç½®å¤±è´¥ã€‚ è¡¨å‚¨å­˜å¼•æ“å¿…é¡»æ˜¯innodbï¼Œå¦åˆ™åˆ›å»ºçš„å¤–é”®æ— çº¦æŸæ•ˆæœã€‚ å¤–é”®çš„åˆ—ç±»å‹å¿…é¡»ä¸çˆ¶è¡¨çš„ä¸»é”®ç±»å‹å®Œå…¨ä¸€è‡´ã€‚ å¤–é”®çš„åå­—ä¸èƒ½é‡å¤ã€‚ å·²ç»å­˜åœ¨æ•°æ®çš„å­—æ®µè¢«è®¾ä¸ºå¤–é”®æ—¶ï¼Œå¿…é¡»ä¿è¯å­—æ®µä¸­çš„æ•°æ®ä¸çˆ¶è¡¨çš„ä¸»é”®æ•°æ®å¯¹åº”èµ·æ¥ã€‚ ä½¿ç”¨ç¤ºä¾‹â€”é»˜è®¤é»˜è®¤æƒ…å†µä¸‹ï¼Œä¸»é”®ä½¿ç”¨çš„æ˜¯ä¸»è¡¨çš„idå­—æ®µï¼Œå¤–é”®æ˜¯ä½¿ç”¨çš„æŒ‰ç…§table+å­—æ®µçš„æ–¹å¼å»ºç«‹çš„å¤–é”®ã€‚ä¸€èˆ¬æƒ…å†µä¸‹éœ€è¦æ‰‹åŠ¨æŒ‡å®šã€‚12345678//ä¸»è¡¨æŒ‡å®šå…³ç³» test1.hasMany(test2, &#123; foreignKey: \"pid\",//å¤–é”®åç§° &#125;); //å­è¡¨æŒ‡å®šå…³ç³» test2.belongsTo(test1, &#123; foreignKey: \"pid\",//å¤–é”®åç§° &#125;); é»˜è®¤å°±ä¼šåœ¨å­è¡¨ä¸­æ·»åŠ ä¸€æ¡å¤–é”®è®°å½•ï¼ŒæŒ‡å‘çš„å°±æ˜¯ä¸»è¡¨çš„idã€‚ä¸€èˆ¬æƒ…å†µä¸‹è¿™æ ·å°±èƒ½å¤Ÿæ»¡è¶³æ­£å¸¸çš„ä½¿ç”¨äº†ã€‚æ¯”å¦‚ä¸€ä¸ªä¸»è¡¨è®°å½•å•†å“ä¿¡æ¯ï¼Œä¸€ä¸ªå­è¡¨è®°å½•å¤šä¸ªè¯„è®ºæ¶ˆæ¯ã€‚ ä½¿ç”¨ç¤ºä¾‹â€”è‡ªå®šä¹‰å¦‚æœä¸»è¡¨ä½¿ç”¨çš„ä¸»é”®idå¹¶ä¸èƒ½æ»¡è¶³æ­£å¸¸çš„ä½¿ç”¨ï¼Œè¿˜å¯ä»¥æŒ‡å®šæŸä¸€ä¸ªå›ºå®šçš„å­—æ®µä½œä¸ºä¸»è¡¨ä¸­çš„çº¦æŸå…³ç³»ã€‚ tipsï¼šä¸»è¡¨ä¸­å¦‚æœä¸æ˜¯ä½¿ç”¨idä½œä¸ºä¸»è¦å…³ç³»ï¼Œè‡ªå®šä¹‰çš„å­—æ®µå¿…é¡»æ·»åŠ ç´¢å¼•ç­‰æ¡ä»¶ï¼Œä½œä¸ºä¾èµ–ä¸­çš„å…³ç³»ã€‚ 1234567891011121314 test1.hasMany(test2, &#123; foreignKey: \"pid\",//å¤–é”®å­—æ®µå sourceKey: \"pid\",//ä¸»é”®å­—æ®µå &#125;); test2.belongsTo(test1, &#123; foreignKey: \"pid\",//å…³è”å targetKey:\"pid\"//è‡ªå®šä¹‰å¤–é”®å­—æ®µ &#125;); //ç­‰å¾…ä¸»é”®å»ºç«‹æˆåŠŸå†å»ºç«‹å­è¡¨çš„å¤–é”®å…³ç³» setTimeout(() =&gt; &#123; test2.sync(&#123; force: true &#125;);&#125;, 2500); ä½¿ç”¨ç¤ºä¾‹â€”ä¼ªå…³ç³»å®é™…ä½¿ç”¨çš„æ—¶å€™æˆ‘è¿˜æ˜¯å€¾å‘äºè¿™ç§å…³ç³»ã€‚å³è¡¨ä¸­å…³ç³»å·²å®šçš„æƒ…å†µä¸‹ä»…ä»…æŒ‡å®šå¤–é”®å…³ç³»ã€‚åŒæ­¥çš„æ—¶å€™ä»…ä»…åŒæ­¥è¡¨å†…å®¹ï¼Œä¸åŒæ­¥è¿™ä¸ªå¤–é”®å…³ç³»ã€‚ çœŸæ­£çš„å»ºç«‹å¯ä»¥ä½¿ç”¨æ‰‹åŠ¨å»ºè¡¨çš„æ—¶å€™æ·»åŠ ã€‚æˆ–è€…ä¹Ÿå¯ä»¥åœ¨è‡ªåŠ¨å»ºè¡¨ç»“æŸåå¼‚æ­¥å†æ‰§è¡Œä¸€æ¬¡å¤–é”®å…³ç³»çš„æ·»åŠ ã€‚ 12345678910test1.hasMany(test2, &#123; foreignKey: \"pid\", sourceKey: \"pid\", constraints: false //ä¸åŒæ­¥å»ºç«‹å¤–é”®å…³ç³»&#125;);test2.belongsTo(test1, &#123; foreignKey: \"pid\", targetKey:\"pid\", constraints: false //ä¸åŒæ­¥å»ºç«‹å¤–é”®å…³ç³»&#125;); ç¤ºä¾‹å®é™…çš„æ“ä½œéƒ¨åˆ†å¤§å®¶å¯ä»¥çœ‹githubä¸­çš„test.jsã€‚githubåœ°å€ å•è¡¨æ“ä½œSequelizeåœ¨æŸ¥è¯¢ç»“æœè¿”å›ä¹‹åä¼šè¿”å›ä¸€ä¸ªå®ƒè‡ªå®šä¹‰çš„å¯¹è±¡ã€‚è¿™ä¸ªå¯¹è±¡æ˜¯æ”¯æŒç»§ç»­æ“ä½œçš„ï¼Œå…¶ä¸­å…·ä½“çš„å€¼å­˜æ”¾åœ¨datavaluesä¸­ã€‚ä¸è¿‡å¯ä»¥æ”¾å¿ƒçš„æ˜¯åœ¨è½¬åŒ–ä¸ºå­—ç¬¦ä¸²çš„æ—¶å€™æ˜¯ä¸ä¼šå¸¦æœ‰ä»»ä½•Sequelizeçš„å±æ€§çš„ã€‚ 1234567891011//æ ¹æ®æ¡ä»¶æŸ¥è¯¢ä¸€æ¡æ•°æ®let model = await test1.findOne(&#123; where:&#123; id:5, name:\"test\" &#125;&#125;);//ä¿®æ”¹å…¶ä¸­çš„nameå­—æ®µçš„å€¼model.name=\"æ›´æ–°\";//ä¿å­˜,ä¼šè‡ªåŠ¨updateæ•°æ®åº“ä¸­çš„å€¼model.save(); è”æŸ¥æ­£å¸¸çš„ä½¿ç”¨è¿‡ç¨‹ä¸­å¾ˆå°‘ä¼šè¯´åªéœ€è¦æŸ¥è¯¢ä¸€ä¸ªè¡¨å°±èƒ½ç»“æœé—®é¢˜çš„ã€‚è¿™é‡Œå†è¯´ä¸€ä¸‹2ä¸ªè¡¨æŸ¥è¯¢çš„æ—¶å€™æ˜¯æ€ä¹ˆä½¿ç”¨çš„ã€‚ è¿™é‡Œçš„æŸ¥è¯¢é»˜è®¤å·²ç»åšå¥½äº†å¤–é”®çš„çš„å…³ç³»ã€‚ä¸è¿‡åœ¨ä½¿ç”¨çš„æ—¶å€™ä¸åšä¹Ÿæ˜¯å¯ä»¥çš„ï¼Œå°±æ˜¯åœ¨æŸ¥è¯¢çš„æ—¶å€™æ€§èƒ½ç¨å¾®ä¸å¥½è€Œå·²ã€‚1234567891011//æŸ¥è¯¢ä¸»è¡¨listçš„æ•°æ®//ä¸€æ¡listä¸­çš„æ•°æ®å¯¹åº”å¤šæ¡itemä¸­çš„æ•°æ® let data = await models.List.findAll(&#123; where:&#123;id:5&#125;,//æ¡ä»¶,è¿™é‡Œjiasheåªéœ€æŸ¥è¯¢ä¸€æ¡ include: [&#123; model: models.Item, as:\"items\",//è¿”å›çš„å¯¹è±¡ä¿®æ”¹æˆä¸€ä¸ªå›ºå®šçš„åç§° &#125;] &#125;); let list1=data[0];//è¿”å›çš„ç¬¬ä¸€æ¡æ•°æ®å°±æ˜¯è¦æŸ¥è¯¢çš„æ•°æ® let list2=list1.items;//è¿”å›å­è¡¨æ•°æ®,itemsæ˜¯è‡ªå®šä¹‰çš„åç§° æ€»ç»“ä¸Šé¢çš„ä»‹ç»å·²ç»è§£å†³äº†å¤§å¤šæ•°æƒ…å†µä¸‹çš„æŸ¥è¯¢ç­‰æ“ä½œã€‚è€Œä¸”æˆ‘ä¹Ÿç›¸ä¿¡ï¼ŒçœŸçš„é‡åˆ°äº†ç“¶é¢ˆï¼Œè§£å†³æ–¹æ¡ˆå¾ˆå¯èƒ½ä¹Ÿå¹¶ä¸æ˜¯åœ¨Sequelizeæ–¹é¢ï¼Œæˆ–è€…è¯´ä¸»è¦ä¸æ˜¯Sequelizeçš„é—®é¢˜ã€‚æ¯”å¦‚å¤§æ•°æ®é‡çš„æ—¶å€™åˆ†è¡¨æ“ä½œï¼Œå°±æ¶‰åŠåˆ°äº†æ›´å¤šçš„çŸ¥è¯†ç‚¹ã€‚ nodejsåœ¨åšåç«¯æ–¹é¢è¿˜å¤„äºå‘å±•é˜¶æ®µã€‚å¸Œæœ›æœ‰æ›´å¤šçš„å‰ç«¯èƒ½å¤Ÿæ¥è§¦å¹¶äº†è§£å®ƒã€‚ä¸ä»…ä»…åœ¨å¼€å‘è¿‡ç¨‹ä¸­å¯¹è‡ªå·±æ˜¯ä¸€ä¸ªå¢å¼ºï¼Œåœ¨é•¿æœŸçš„èŒä¸šè§„åˆ’ä¸­ä¹Ÿæ˜¯ä¸€ä¸ªå¾ˆå¥½çš„å¢å¼ºè‡ªå·±çš„æ­¦å™¨ã€‚","categories":[{"name":"å‰ç«¯","slug":"big-front-end","permalink":"http://www.guofangchao.com/categories/big-front-end/"}],"tags":[{"name":"å‰ç«¯","slug":"å‰ç«¯","permalink":"http://www.guofangchao.com/tags/å‰ç«¯/"},{"name":"Sequelize","slug":"Sequelize","permalink":"http://www.guofangchao.com/tags/Sequelize/"}],"keywords":[{"name":"å‰ç«¯","slug":"big-front-end","permalink":"http://www.guofangchao.com/categories/big-front-end/"}]},{"title":"åŠ¨æ€RNæŠ€æœ¯æ„æ€","slug":"åŠ¨æ€RNæŠ€æœ¯æ„æ€","date":"2018-08-06T12:19:00.000Z","updated":"2018-08-06T12:27:57.932Z","comments":true,"path":"2018/08/06/åŠ¨æ€RNæŠ€æœ¯æ„æ€/","link":"","permalink":"http://www.guofangchao.com/2018/08/06/åŠ¨æ€RNæŠ€æœ¯æ„æ€/","excerpt":"","text":"RNé¡¹ç›®ä¸­æ­£å¸¸çš„å¼€å‘æ–¹å¼: å‡†å¤‡RNå£³ å‡†å¤‡jsä»£ç ,å¼€å‘åŸºç¡€ç•Œé¢,æ“ä½œäº¤äº’ç­‰ ä¸Šçº¿,APPè¯·æ±‚åç«¯æ•°æ® æˆ‘ä¸€ç›´åœ¨è€ƒè™‘,æ˜¯ä¸æ˜¯å¯ä»¥å°†æœ¬åœ°æ•°æ®å…¨éƒ¨æ”¾åœ¨æœåŠ¡ç«¯å‘¢? è¿œç¨‹æ•°æ®å¯ä»¥ç¼“å­˜åœ¨æœ¬åœ° è¿œç¨‹æ•°æ®éƒ½å¯ä»¥éšæ—¶å˜åŒ– åŸºæœ¬ä¸éœ€è¦å‘å¸ƒæ–°ä»£ç  è¿™ä¸ªæ–¹æ¡ˆå¯ä¸å¯è¡Œè¿˜ä¸å¥½è¯´.æˆ‘è§‰å¾—å¾ˆæœ‰å‰æ™¯,å½“æœ¬åœ°çš„ä¸œè¥¿å¯ä»¥éšæ—¶å‘å¸ƒçš„æ—¶å€™,ä¸ä»…ç”¨æˆ·æ˜¯ä¸éœ€è¦è´¹äº‹çš„,åç«¯çš„åŒå­¦ä¹Ÿä¸ç”¨å†è€ƒè™‘å…¼å®¹æ—§æ¥å£,ç­‰å¾…APPæ›´æ–°è¿™äº›æ“ä½œäº†. ä¸‹é¢è¯´ä¸€è¯´éœ€è¦çš„æ€è·¯å§ éœ€è¦ä¸€ä¸ªæ ¸å¿ƒå¼•æ“,ç”¨æ¥å°†è¿œç¨‹æ•°æ®æ¸²æŸ“æˆAPPä¸Šçš„ç•Œé¢.è¿™ä¸ªå¼•æ“èƒ½å¤Ÿåˆ†è¾¨Viewã€Buttonä¹‹ç±»çš„ä¸œè¥¿.å¹¶ä¸”èƒ½å¤Ÿåœ¨éœ€è¦çš„æ—¶å€™åŠ ä¸Šäº‹ä»¶.åŒæ—¶è¿˜éœ€è¦èƒ½å¤Ÿä½¿ç”¨ç¬¬ä¸‰æ–¹ç»„ä»¶ä¹‹ç±»çš„ä¸œè¥¿. éœ€è¦ä¸€ä¸ªç®¡ç†ç«¯çš„æ¸²æŸ“ç¨‹åº.è¿™ä¸ªæ˜¯å—åˆ°ç›®å‰çš„åŠ¨æ€ç”Ÿæˆç½‘é¡µçš„æç¤º.æ—¢ç„¶å®¢æˆ·ç«¯éƒ½å¯ä»¥åŠ¨æ€æ¸²æŸ“äº†.é‚£ç®¡ç†ç«¯å½“ç„¶ä¹Ÿéœ€è¦å¯è§†åŒ–æ“ä½œäº†. ç®¡ç†ç«¯å³æ—¶ä¿®æ”¹,ç„¶åä¿å­˜åˆ°æœåŠ¡ç«¯.ç”¨æˆ·è¿›å…¥é¡µé¢çš„æ—¶å€™å¸¦ç€é¡µé¢çš„ç¼“å­˜tokenä¹‹ç±»çš„,è¿‡æœŸç›´æ¥ä¸‹è½½æ–°çš„é¡µé¢. å‰æœŸè€ƒè™‘çš„å‘¨åˆ°çš„è¯åªéœ€è¦æœåŠ¡ç«¯ç›´æ¥ä¿®æ”¹å³å¯åšåˆ°æ›´æ–°ç”¨æˆ·çš„ç•Œé¢. æƒ³æƒ³è¿˜æ˜¯å¾ˆç¾å¥½çš„,å°¤å…¶æ˜¯ç°åœ¨å‰ç«¯è¶Šæ¥è¶Šå¤æ‚çš„æƒ…å†µ,ä¸ºäº†å› ä¸ºæ— å°½çš„éœ€æ±‚,è¿™æ ·ä¸€ä¸ªå¯è§†åŒ–çš„ç•Œé¢çœŸçš„æ˜¯éå¸¸çš„å¥½ç”¨çš„.","categories":[{"name":"react-native","slug":"react-native","permalink":"http://www.guofangchao.com/categories/react-native/"}],"tags":[{"name":"react-native","slug":"react-native","permalink":"http://www.guofangchao.com/tags/react-native/"},{"name":"æƒ³æ³•","slug":"æƒ³æ³•","permalink":"http://www.guofangchao.com/tags/æƒ³æ³•/"}],"keywords":[{"name":"react-native","slug":"react-native","permalink":"http://www.guofangchao.com/categories/react-native/"}]},{"title":"jsé«˜çº§æŠ€å·§","slug":"jsé«˜çº§æŠ€å·§","date":"2018-07-28T13:45:00.000Z","updated":"2018-07-28T13:52:47.685Z","comments":true,"path":"2018/07/28/jsé«˜çº§æŠ€å·§/","link":"","permalink":"http://www.guofangchao.com/2018/07/28/jsé«˜çº§æŠ€å·§/","excerpt":"","text":"å°†æ•°ç»„ä¸­çš„ç©ºå€¼å»é™¤const arrContainsEmptyVal = [3, 4, 5, 2, 3, undefined, null, 0, â€œâ€]; å°†æ•°ç»„ä¸­é‡å¤é¡¹æ¸…é™¤const uniq = arr =&gt; [â€¦new Set(arr)]; å–å‡ºå¯¹è±¡ä¸­çš„æ·±å±‚å±æ€§1234const pluckDeep = path =&gt; obj =&gt; path.split(&quot;.&quot;).reduce((val, attr) =&gt; val[attr], obj);pluckDeep(&quot;a.b.c&quot;)(deepAttr); å°† Stark å®¶æ—æˆå‘˜æå–å‡ºæ¥ã€‚æ³¨æ„ï¼Œç›®æ ‡æ•°æ®åœ¨æ•°ç»„å‰é¢ï¼Œä½¿ç”¨ filter æ–¹æ³•éå†æ•´ä¸ªæ•°ç»„æ˜¯æµªè´¹ã€‚123456const takeWhile = f =&gt; ([head, ...tail]) =&gt; f(head) ? [head, ...takeWhile(f)(tail)] : [];const isStark = name =&gt; name.toLowerCase().includes(&quot;stark&quot;);takeWhile(isStark)(houses);","categories":[{"name":"å‰ç«¯","slug":"big-front-end","permalink":"http://www.guofangchao.com/categories/big-front-end/"}],"tags":[{"name":"javascript","slug":"javascript","permalink":"http://www.guofangchao.com/tags/javascript/"}],"keywords":[{"name":"å‰ç«¯","slug":"big-front-end","permalink":"http://www.guofangchao.com/categories/big-front-end/"}]},{"title":"è‡ªå®šä¹‰webæ¡†æ¶","slug":"è‡ªå®šä¹‰webæ¡†æ¶","date":"2018-07-28T09:55:00.000Z","updated":"2018-07-28T09:56:10.420Z","comments":true,"path":"2018/07/28/è‡ªå®šä¹‰webæ¡†æ¶/","link":"","permalink":"http://www.guofangchao.com/2018/07/28/è‡ªå®šä¹‰webæ¡†æ¶/","excerpt":"","text":"ä¸ä¼šé€ è½®å­çš„ç¨‹åºå‘˜ä¸æ˜¯ä¸€ä¸ªå¥½æœ¨åŒ  ä»¥ä¸‹ä»£ç å…¨éƒ¨æ”¾åœ¨äº†githubä¸Š:é“¾æ¥åœ°å€ åˆ¶å®šwebæ¡†æ¶æµç¨‹æˆ‘ä»¬è¦åšçš„æ˜¯ä¸€ä¸ªè½»é‡çº§ï¼Œæ‰€ä»¥ä¸€äº›åŸºç¡€çš„åŠŸèƒ½è¿˜æ˜¯éœ€è¦çš„ã€‚è¿™é‡Œåˆ¶å®šä¸€ä¸ªç®€å•çš„æ¡†æ¶å¯åŠ¨æµç¨‹ã€‚ è¿™é‡ŒåŒ…å«äº†å‡ ä¸ªç®€å•çš„åŠŸèƒ½ã€‚ å®šåˆ¶åŒ–çš„é…ç½®ç®¡ç†ï¼Œæ ¹æ®ç¯å¢ƒå˜é‡è‡ªåŠ¨åŠ è½½ æä¾›åŸºç¡€çš„å·¥å…·åº“ï¼Œå¯ä»¥è‡ªç”±åŠ å…¥éœ€è¦çš„åŠŸèƒ½ï¼ˆåŠ å¯†ï¼Œè¿œç¨‹è¯·æ±‚ç­‰ï¼‰ ä¸€ä¸ªç®€å•ä½¿ç”¨çš„æ—¥å¿—ç±»ï¼ŒæŒ‰ç…§æ—¥æœŸå­˜å‚¨åœ¨é¡¹ç›®æ ¹ç›®å½•ä¸‹çš„logsç›®å½•ä¸­ å¯ä»¥ä½¿ç”¨çš„è·¯ç”±åŸºç¡€æ–¹æ³•ï¼Œé€šè¿‡è¿™ä¸ªæ–¹æ³•æ³¨å…¥è‡ªå®šä¹‰çš„è·¯ç”± ä¸€ä¸ªç®€å•å®ç”¨çš„å®šæ—¶ä»»åŠ¡åŸºç¡€ç±»ï¼Œç»§æ‰¿å³å¯å¯åŠ¨ å¯é€‰æ‹©çš„app.jsæ–‡ä»¶ï¼Œå¯ä»¥å¯¹applicationå¯¹è±¡æ³¨å…¥ä¸€äº›è‡ªå·±çš„ä¸œè¥¿ å®šåˆ¶ç›®å½•è§„èŒƒé€šè¿‡ä¸€ä¸ªåˆé€‚çš„è§„èŒƒå¯ä»¥å‡å°‘å¾ˆå¤šå¼€å‘ä¸Šçš„ä¸œè¥¿ã€‚ æˆ‘ä»¬é€šè¿‡åœ¨å›ºå®šçš„ç›®å½•ä¸­åšå›ºå®šçš„äº‹æƒ…å°†æ¡†æ¶å†…çš„ä¸åŒåŠŸèƒ½åŒºåˆ†å¼€æ¥ã€‚1234567891011- config //é…ç½®æ–‡ä»¶ - default.js //é»˜è®¤é…ç½® - development.js //å¼€å‘ç¯å¢ƒé…ç½® - production.js //ç”Ÿæˆç¯å¢ƒé…ç½®- controller //æ§åˆ¶å™¨ - index.js //è‡ªå®šä¹‰è·¯ç”±åœ°å€- schedule //å®šæ—¶ä»»åŠ¡æ–‡ä»¶ - test.js //è‡ªå®šä¹‰å®šæ—¶ä»»åŠ¡- app.js //è‡ªå®šä¹‰å¯åŠ¨æ–‡ä»¶- index.js //å¯åŠ¨æ–‡ä»¶,å¼•ç”¨duckå³å¯- pm2.js //pm2çš„é…ç½®æ–‡ä»¶ è¿™é‡Œåªæœ‰æ ¹ç›®å½•ä¸‹çš„index.jsæ˜¯å¿…é¡»è¦çš„ï¼Œä¸»è¦æ˜¯å¯åŠ¨æ•´ä¸ªé¡¹ç›®ã€‚configç›®å½•ä¸‹ä¸»è¦æ˜¯æ”¾ç½®é…ç½®ï¼Œè¿™ä¸ªç›®å½•ä¸€èˆ¬æƒ…å†µä¸‹çœä¸äº†ã€‚controllerç›®å½•ä¸‹æ”¾ç½®è·¯ç”±çš„æ–¹æ³•ç­‰ï¼Œä¹Ÿæ˜¯è¿™ä¸ªæ¡†æ¶æœ€å¸¸ç”¨çš„ç›®å½•ã€‚å…¶ä½™çš„éƒ½æ˜¯å¯é€‰æ‹©çš„ï¼Œä¸æ·»åŠ ä¸å½±å“åŠŸèƒ½ã€‚ åŸºç¡€æ¡†æ¶ä»ä¸Šé¢çš„å‡ ç‚¹å¯ä»¥çœ‹å‡ºæ¥ï¼Œæ¡†æ¶åŸºäºé…ç½®çš„æ–¹å¼åšåˆ°åŠ¨æ€åŠ è½½ã€‚æ‰€ä»¥å¯åŠ¨çš„æ—¶å€™ä¼šæ‰«ä¸€æ¬¡ç›®å½•ï¼Œå°†æœ‰çš„åŠŸèƒ½åŠ è¿›å»ï¼Œæ²¡æœ‰çš„åŠŸèƒ½ä¸åšå¤„ç†ã€‚ åœ¨libç›®å½•ä¸‹æ–°å»ºä¸€ä¸ªindex.jsæ–‡ä»¶ï¼Œä½œä¸ºæˆ‘ä»¬çš„æ•´ä¸ªæ¡†æ¶çš„æ ¸å¿ƒâ€”-å…¶å®å°±æ˜¯å¯åŠ¨koaå¹¶å°†æˆ‘ä»¬è¦å®ç°çš„åŠŸèƒ½åŠ ä¸Šå»ï¼šï¼‰123456789101112131415const Koa = require(\"koa\");const KoaBody = require(\"koa-body\");//é™„åŠ ä¸€ä¸ªæ ¹ç›®å½•const rootPath = process.cwd();let app = new Koa();app.root = rootPath;//å¤„ç†è¯·æ±‚å¯¹è±¡app.use(KoaBody(&#123; multipart: true, strict: false, jsonLimit: '10mb', formLimit: '10mb', textLimit: '10mb'&#125;)); ä½¿ç”¨è¿‡koaçš„åŒå­¦å¯èƒ½ä¼šéå¸¸çš„ç†Ÿæ‚‰ï¼Œå…¶å®è¿™é‡Œå°±æ˜¯ä¸€ä¸ªç®€å•çš„koaåˆå§‹åŒ–è¿‡ç¨‹ã€‚ä¸åŒçš„åœ°æ–¹æ˜¯åé¢æˆ‘ä»¬è¦é™„åŠ çš„ä¸€äº›æ“ä½œã€‚ æ‰§è¡Œapp.jsæˆ‘ä»¬ç»™ç”¨æˆ·ç•™ä¸€ä¸ªå¯ä»¥æ“ä½œé¡¶å±‚applicationå¯¹è±¡çš„åœ°æ–¹ã€‚å…¥å£å°±æ˜¯è¿™é‡Œï¼šå‡å¦‚app.jsæ–‡ä»¶å­˜åœ¨å°±ä¼šå°†åˆå§‹åŒ–ä¸­çš„appå¯¹è±¡ä¼ è¿›å»å¤„ç†ä¸€æ¬¡å†è½¬å‡ºæ¥ã€‚1234567//åŠ è½½appcalitiontry &#123; let application = require(app.root + \"/app.js\"); application(app);&#125; catch (error) &#123; Logger.info(error.message);&#125; æ‰§è¡Œè‡ªå®šä¹‰è·¯ç”±è¿™é‡Œæˆ‘ä»¬åˆ¤æ–­æˆ‘ä»¬çš„controllerç›®å½•ä¸‹çš„æ–‡ä»¶ã€‚ä¾æ¬¡åŠ è½½å¹¶å°†è¿”å›çš„è·¯ç”±å¯¹è±¡åŠ è½½åˆ°applicaitonä¸Šã€‚è¿™é‡Œåˆ©ç”¨çš„ä¾ç„¶æ˜¯ä¸€ä¸ªåŠ¨æ€åŠ è½½çš„åŸç†ï¼Œå°†å†…å®¹åœ¨å¯åŠ¨é˜¶æ®µè½½å…¥åˆ°å†…å­˜ä¸­å¹¶æ‰§è¡Œå®ƒã€‚1234567891011121314//æ·»åŠ è·¯ç”±if (fs.existsSync(app.root + \"/controller\")) &#123; let controller_list = fs.readdirSync(app.root + \"/controller\"); controller_list.forEach(item =&gt; &#123; try &#123; let controller_item = require(app.root + \"/controller/\" + item); if (controller_item) &#123; app.use(controller_item.routes()).use(controller_item.allowedMethods()); &#125; &#125; catch (error) &#123; Logger.info(error.message); &#125; &#125;);&#125; ç›‘å¬ç«¯å£æ­£å¸¸æƒ…å†µä¸‹åªéœ€è¦ç›‘å¬ä¸€ä¸‹ç«¯å£å³å¯ã€‚è¿™é‡Œç¨å¾®å¤„ç†äº†ä¸€æ¬¡ï¼Œå‡å¦‚ç”¨æˆ·ä½¿ç”¨å‘½ä»¤é€€å‡ºè¿›ç¨‹æˆ–è€…è¿›ç¨‹å¼‚å¸¸é€€å‡ºï¼Œè¿™é‡Œå°±ä¼šç›‘å¬åˆ°è¿™ä¸ªæ“ä½œã€‚ è¿™ä¸ªåœ°æ–¹å¯ä»¥è‡ªå®šä¹‰åšä¸€ä¸ªè§¦å‘äº‹ä»¶ï¼Œè§¦å‘applicaitonçš„åœæ­¢äº‹ä»¶ã€‚æ¯”å¦‚æ•°æ®åº“ã€redisç­‰çš„è¿æ¥æ–­å¼€æ“ä½œã€‚1234567891011121314const port = config(\"port\") || 3000;app.listen(port, function () &#123; Logger.info(\"appå·²å¯åŠ¨:\" + port)&#125;);process.on('SIGINT', function (a) &#123; process.exit();&#125;);process.on('exit', (code) =&gt; &#123; Logger.info(\"appå·²åœæ­¢:\" + code)&#125;);process.on('uncaughtException', (code) =&gt; &#123; Logger.info(\"appå·²åœæ­¢:\" + code)&#125;);module.exports = app; å¯åŠ¨å®šæ—¶ä»»åŠ¡å®šæ—¶ä»»åŠ¡æ¯”è¾ƒç®€å•ï¼Œåªéœ€è¦åˆ¤æ–­ä»»åŠ¡æ–‡ä»¶æ˜¯å¦å­˜åœ¨ï¼Œç„¶åæ‰§è¡Œå³å¯ã€‚123456789101112//å¯åŠ¨å®šæ—¶å™¨if (fs.existsSync(app.root + \"/schedule\")) &#123; let schedule_list = fs.readdirSync(app.root + \"/schedule\"); schedule_list.forEach(item =&gt; &#123; try &#123; let schedule_item = require(app.root + \"/schedule/\" + item); if (schedule_item) new schedule_item()._run(); &#125; catch (error) &#123; Logger.info(error.message); &#125; &#125;);&#125; tipsï¼šä¸Šé¢çš„å‡ ä¸ªæ–¹å¼å¯ä»¥ä½œä¸ºä¸€ä¸ªå·¥å…·ç±»ä¸­çš„æ–¹æ³•å­˜åœ¨ã€‚ åŸºç¡€æ”¯æŒç±»ã€æ–¹æ³•ä¸Šé¢çš„ä»…ä»…æ˜¯ä¸€ä¸ªåŸºç¡€çš„å®ç°ã€‚å‡å¦‚ä½ æƒ³ç°åœ¨å°±è·‘èµ·æ¥ï¼Œä¸å¥½æ„æ€ï¼Œå®ƒä»¬çš„ä¾èµ–è¿˜æ²¡æœ‰å®ç°å‘¢ã€‚ åŸºç¡€é…ç½®ç±»npmåº“é‡Œå·²ç»æœ‰ä¸€ä¸ªéå¸¸å¼ºå¤§çš„é…ç½®åŠ è½½æ–¹å¼äº†ã€‚è¿™ä¸ªè½®å­æˆ‘ä»¬å…ˆä¸é€ äº†ã€‚npm install --save configå®‰è£…ä¸€ä¸‹å°±å¥½äº†ã€‚ åŸºç¡€æ—¥å¿—ç±»æˆ‘ä»¬è¿™é‡Œä½¿ç”¨log4jsåº“æ¥å®Œæˆæ—¥å¿—çš„æ‰“å°è¾“å‡ºã€‚è¿™é‡Œç¨å¾®ç®€å•çš„é…ç½®ä¸€ä¸‹å†…éƒ¨çš„æ—¥å¿—å¯¹è±¡ã€‚ åœ¨lib/logger.jsä¸­æ·»åŠ æˆ‘ä»¬è‡ªå·±çš„æ—¥å¿—é…ç½®ã€‚12345678910111213141516171819202122232425262728293031323334353637383940414243const log4js = require('log4js');log4js.configure(&#123; appenders: &#123; stdout: &#123; type: \"stdout\" &#125;, error: &#123; type: 'dateFile', filename: './logs/error.log', &#125;, info: &#123; type: 'dateFile', filename: './logs/info.log' &#125; &#125;, categories: &#123; default: &#123; appenders: [\"info\", \"stdout\"], level: 'info' &#125;, err: &#123; appenders: ['error', \"stdout\"], level: 'error' &#125; &#125;, pm2: true, pm2InstanceVar: \"node-sso-wechat\"&#125;);const logger = log4js.getLogger('error');const logger2 = log4js.getLogger('info');module.exports = &#123; error() &#123; logger.error(...arguments); &#125;, info() &#123; logger2.info(...arguments); &#125;, warm() &#123; logger2.info(...arguments); &#125;&#125;; è¿™é‡Œæˆ‘ä»¬ç®€å•çš„æä¾›3ä¸­æ—¥å¿—å½¢å¼ã€‚ ä¸€ç›´å­˜åœ¨çš„è¾“å‡ºåˆ°å‘½ä»¤è¡Œ è¾“å‡ºåˆ°info.logä¸­infoå’Œwarmæ–¹æ³• è¾“å‡ºåˆ°error.jsçš„erroræ–¹æ³• è¿™é‡Œå°†æ—¥å¿—åˆ†å¼€å­˜ä¸»è¦æ˜¯ä¸ºäº†åŒºåˆ†è®°å½•æ—¥å¿—å’Œé”™è¯¯ä¿¡æ¯è¿™2ä¸­ç‰¹æ®Šæƒ…å†µã€‚å½“ç„¶ï¼Œä¹Ÿå¯ä»¥å°†è¿™äº›é…ç½®æ”¾åœ¨configä¸­ï¼Œé€šè¿‡ä½¿ç”¨ä¸­å»é…ç½®æ—¥å¿—ã€‚ åŸºç¡€æ§åˆ¶å™¨æ–¹æ³•æˆ‘ä»¬ç»™ä½¿ç”¨è€…æä¾›ä¸€ä¸ªç®€å•çš„è·¯ç”±æ–¹æ³•ï¼Œè¿™æ ·å°±ä¸éœ€è¦ç”¨æˆ·å»ä¸»åŠ¨å®ç°è·¯ç”±äº†ã€‚ç”¨æˆ·åªéœ€è¦å…³æ³¨å…·ä½“çš„è·¯ç”±å’Œå®ç°å³å¯ã€‚1234567const Router = require(\"koa-router\");module.exports = function (prefix) &#123; let opts = &#123;&#125;; if (prefix) opts.prefix = prefix; return new Router(opts);&#125; å¯ä»¥çœ‹åˆ°æˆ‘ä»¬ä½¿ç”¨çš„æ˜¯koa-routerè¿™ä¸ªåº“ã€‚ç”¨æˆ·è°ƒç”¨çš„æ—¶å€™è¿˜å¯ä»¥ä¼ å…¥prefixå‚æ•°æ¥é…ç½®è·¯ç”±çš„è·Ÿç›®å½•ã€‚ ç”¨æˆ·åªéœ€è¦ä½¿ç”¨è¿”å›çš„è·¯ç”±æ–¹æ³•å³å¯ã€‚ åŸºç¡€å®šæ—¶ä»»åŠ¡ç±»ç”±äºå®šæ—¶ä»»åŠ¡å¹¶ä¸éœ€è¦å‚æ•°webçš„è¯·æ±‚è¿”å›ç­‰è¿‡ç¨‹ï¼Œæ‰€ä»¥åœ¨è®¾è®¡çš„æ—¶å€™åªéœ€è¦ç»§æ‰¿æˆ‘ä»¬çš„åŸºç¡€ç±»å°±èƒ½å®ç°äº†ã€‚123456789101112131415const schedule = require('node-schedule');/** * å®šæ—¶ä»»åŠ¡çš„åŸºç±» * è®¾ç½®æ—¶é—´,å¯æ‰§è¡Œæ–¹æ³• * é»˜è®¤æ‰§è¡Œrunæ–¹æ³• */module.exports = class &#123; constructor() &#123; this.time = \"\"; &#125; start() &#123;&#125; _run() &#123; schedule.scheduleJob(this.time, this.start); &#125;&#125; æˆ‘ä»¬ä»…ä»…åšäº†3ä»¶äº‹å°±å®Œæˆäº†å®šæ—¶ä»»åŠ¡ã€‚ åˆå§‹åŒ–timeå‚æ•°,é¢„ç•™ç»™ç”¨æˆ·åšæ—¶é—´é—´éš”é…ç½® åˆå§‹åŒ–startæ–¹æ³•ï¼Œé¢„ç•™ç»™ç”¨æˆ·åšå…·ä½“çš„æ‰§è¡Œå†…å®¹ _runæ–¹æ³•å°±æ˜¯æˆ‘ä»¬è‡ªå·±çš„æ‰§è¡Œå®šæ—¶ä»»åŠ¡çš„æ–¹æ³•ï¼Œæ˜¯ä¸èƒ½ç»™ç”¨æˆ·çœ‹åˆ°çš„ã€‚ï¼ˆå½“ç„¶è¿˜æ˜¯å¯ä»¥é‡è½½äº†ã€‚ã€‚ã€‚ï¼‰ ä½¿ç”¨æˆ‘ä»¬çš„æ¡†æ¶ä¸€ä¸ªç®€å•çš„demoå·²ç»æ”¾åœ¨githubä¸Šäº†ï¼šé“¾æ¥åœ°å€ å¯åŠ¨å…¥å£åœ¨æ ¹ç›®å½•ä¸‹æ·»åŠ index.jsæ–‡ä»¶ï¼Œå¼•ç”¨æˆ‘ä»¬çš„æ¡†æ¶ã€‚1const Duck = require(\"node-duck\"); è‡ªå®šä¹‰é…ç½®åœ¨æ ¹ç›®å½•ä¸‹æ–°å»ºconfigç›®å½•ï¼Œæ–°å»ºdefault.jsé»˜è®¤é…ç½®ï¼Œproduction.jsç­‰ç¯å¢ƒé…ç½®ã€‚12345678910111213141516/** * é»˜è®¤çš„é…ç½®æ–‡ä»¶ * ä¸åŒç¯å¢ƒä¸‹è¿˜ä¼šåŠ è½½ä¸åŒçš„é…ç½® */module.exports = &#123; name: \"duck.js\",//ç»™è‡ªå·±ç”¨çš„é…ç½® port: \"3001\",//å¯åŠ¨çš„æ¥å£ //åˆå§‹åŒ–çš„bodyå¯¹è±¡å‚æ•° body: &#123; multipart: true, strict: false, jsonLimit: '10mb', formLimit: '10mb', textLimit: '10mb' &#125;&#125; è‡ªå®šä¹‰æ§åˆ¶å™¨åœ¨æ ¹ç›®å½•ä¸‹æ–°å»ºcontrollerç›®å½•ï¼Œå°†æˆ‘ä»¬çš„è·¯ç”±å†™åœ¨è¿™ä¸ªç›®å½•ä¸­ã€‚æ–‡ä»¶çš„åå­—å¯¹è·¯ç”±æ²¡æœ‰å½±å“ã€‚1234567891011121314151617/** * æµ‹è¯•è·¯ç”± */const Duck = require(\"node-duck\");//é»˜è®¤è·Ÿè·¯ç”±const Controller = new Duck.Controller(\"/\");//é¦–é¡µController.get(\"\", function (ctx) &#123; ctx.body = \"hi,duck!\";&#125;)//testç›®å½•Controller.get(\"test\", function (ctx) &#123; ctx.body = \"hi,duck!\";&#125;)//å¯¼å‡ºmodule.exports = Controller;` ä»è¿™é‡Œå¯ä»¥çœ‹åˆ°ï¼Œæˆ‘ä»¬çš„è·¯ç”±å¤©ç”Ÿå°±é…ç½®æ¯”è¾ƒç®€å•ã€‚åªéœ€è¦é…ç½®ä¸€ä¸ªprefixï¼Œå‰©ä¸‹å°±ç®€å•å¤šäº†ã€‚ è‡ªå®šä¹‰å®šæ—¶ä»»åŠ¡åœ¨æ ¹ç›®å½•ä¸‹æ–°å»ºscheduleç›®å½•ï¼Œé‡Œé¢çš„ä»»ä½•ä¸€ä¸ªæ–‡ä»¶éƒ½å¿…é¡»é›†æˆå¯¼å‡ºçš„scheduleå¯¹è±¡ï¼Œä¸ç„¶ä¼šæŠ¥é”™çš„^_^123456789101112131415/** * æµ‹è¯•å®šæ—¶ä»»åŠ¡ */const Schedule = require(\"node-duck\").Schedule;class testSchedule extends Schedule &#123; constructor() &#123; super(); this.time = \"*/1 * * * * *\"; &#125; start() &#123; console.log(\"æ‰§è¡Œä¸€æ¬¡\", Date.now()); &#125;&#125;module.exports = testSchedule; è¿™é‡Œä½¿ç”¨çš„æ—¶é—´é…ç½®æ˜¯cronçš„æ ¼å¼:123456789* * * * * *â”¬ â”¬ â”¬ â”¬ â”¬ â”¬â”‚ â”‚ â”‚ â”‚ â”‚ â”‚â”‚ â”‚ â”‚ â”‚ â”‚ â”” day of week (0 - 7) (0 or 7 is Sun)â”‚ â”‚ â”‚ â”‚ â””â”€â”€â”€â”€â”€ month (1 - 12)â”‚ â”‚ â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ day of month (1 - 31)â”‚ â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ hour (0 - 23)â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ minute (0 - 59)â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ second (0 - 59, OPTIONAL) ex: æ¯ç§’æ‰§è¡Œä¸€æ¬¡&quot;*/1 * * * * *&quot; æ¯åˆ†é’Ÿçš„ç¬¬ä¸€ç§’æ‰§è¡Œä¸€æ¬¡&quot;1 * * * * *&quot; ç¬¬2åˆ°5ç§’æ‰§è¡Œä¸€æ¬¡&quot;2-5 * * * * *&quot; timeå‚æ•°ä¹Ÿå¯ä»¥ä¼ Dateå¯¹è±¡ æ‰©å±•åˆ°è¿™é‡Œçš„æ—¶å€™ä¸€ä¸ªæ¡†æ¶çš„åŸºç¡€æ¶æ„ä»¥åŠdemoå±•ç¤ºéƒ½å·²ç»åšå®Œäº†ã€‚å¦‚æœä½ è¿˜æœ‰è‡ªå·±æ›´å¤šçš„éœ€æ±‚ï¼Œä¹Ÿå¯ä»¥åœ¨è¿™ä¸ªçš„åŸºç¡€ä¸Šæ‰©å±•ä¸€ä¸‹ã€‚ æ‰©å±•utilsï¼Œç»™è‡ªå·±æ·»åŠ æ›´å¤šçš„å·¥å…· æ‰©å±•æ’ä»¶ï¼Œæ·»åŠ æ•°æ®åº“æ“ä½œç±»ç­‰æ–¹æ³• æ‰©å±•äº‹ä»¶ï¼Œå°†applicationçš„å„ç§äº‹ä»¶æ‰©å±•å‡ºæ¥ æ€»ç»“å†™è¿™ä¸ªæ¡†æ¶æœ€åˆçš„ç›®çš„å¯èƒ½å°±æ˜¯ç”¨ä¸æƒ¯å…¶ä»–æ¡†æ¶å§ã€‚å¥½ç”¨çš„åˆå°è£…å¤ªå‰å®³äº†ã€‚å°è£…ä¸é‚£ä¹ˆå‰å®³çš„å®ç°åˆéå¸¸çš„å¤æ‚ã€‚æ—¢ç„¶å¦‚æ­¤ï¼Œå¹²è„†è‡ªå·±å†™ä¸€ä¸ªå¥½äº†ã€‚åæ­£è¿™ç©æ„ä¹Ÿä¸æ˜¯ä¸€ä¸ªå¤šéš¾çš„ä¸œè¥¿ï¼Œå†è¯´äº†æˆ‘è¿˜å¯ä»¥è‡ªå·±å¾€ä¸Šé¢å®‰è£…å„ç§å¥‡æ€ªçš„åŠŸèƒ½ã€‚ æˆ‘å°†æˆ‘è‡ªå·±çš„æƒ³æ³•åˆ†äº«å‡ºæ¥ï¼Œå¸Œæœ›æœ‰éœ€è¦çš„èƒ½å¤Ÿä»ä¸­æœ‰ä¸€äº›æ”¶è·ã€‚","categories":[{"name":"nodejs","slug":"nodejs","permalink":"http://www.guofangchao.com/categories/nodejs/"}],"tags":[{"name":"koa","slug":"koa","permalink":"http://www.guofangchao.com/tags/koa/"},{"name":"æ¡†æ¶","slug":"æ¡†æ¶","permalink":"http://www.guofangchao.com/tags/æ¡†æ¶/"}],"keywords":[{"name":"nodejs","slug":"nodejs","permalink":"http://www.guofangchao.com/categories/nodejs/"}]},{"title":"xcodeå†å²ç‰ˆæœ¬ä¸‹è½½","slug":"xcodeå†å²ç‰ˆæœ¬ä¸‹è½½","date":"2018-07-19T03:18:00.000Z","updated":"2018-07-19T03:19:36.160Z","comments":true,"path":"2018/07/19/xcodeå†å²ç‰ˆæœ¬ä¸‹è½½/","link":"","permalink":"http://www.guofangchao.com/2018/07/19/xcodeå†å²ç‰ˆæœ¬ä¸‹è½½/","excerpt":"","text":"xcodeå‡çº§å¤ªé«˜äº†? basesdkç‰ˆæœ¬éœ€è¦æ”¹åŠ¨äº†? æ‰“å¼€ç½‘ç«™:https://developer.apple.com/download/more/ æœç´¢xcodeå³å¯çœ‹è§å†å²ç‰ˆæœ¬,ä¹Ÿå¯ä»¥ä»é‡Œé¢è§£å‹å‡ºæ¥å„ç‰ˆæœ¬çš„sdk","categories":[{"name":"ios","slug":"ios","permalink":"http://www.guofangchao.com/categories/ios/"}],"tags":[{"name":"xcode","slug":"xcode","permalink":"http://www.guofangchao.com/tags/xcode/"},{"name":"ios","slug":"ios","permalink":"http://www.guofangchao.com/tags/ios/"}],"keywords":[{"name":"ios","slug":"ios","permalink":"http://www.guofangchao.com/categories/ios/"}]},{"title":"hpingå®‰è£…æ•™ç¨‹","slug":"hpingå®‰è£…æ•™ç¨‹","date":"2018-07-16T04:32:00.000Z","updated":"2018-07-16T04:33:18.204Z","comments":true,"path":"2018/07/16/hpingå®‰è£…æ•™ç¨‹/","link":"","permalink":"http://www.guofangchao.com/2018/07/16/hpingå®‰è£…æ•™ç¨‹/","excerpt":"","text":"å‡†å¤‡ å®‰è£…yum install epel-release yum -y install gcc libpcap-devel tcl-devel ä¸‹è½½ ä½¿ç”¨wgetå‘½ä»¤ä¸‹è½½wget http://www.hping.org/hping3-20051105.tar.gz è§£å‹tar -zxvf hping3-20051105.tar.gz ä¿®æ”¹æ–‡ä»¶ vi bytesex.h ä¿®æ”¹å¦‚ä¸‹: 1234#if defined(__i386__) \\ || defined(__x86_64__)\\ || defined(__alpha__) \\ || (defined(__mips__) &amp;&amp; (defined(MIPSEL) || defined (__MIPSEL__))) é…ç½®å¹¶å®‰è£…./configure make ln -s /usr/include/pcap.h /usr/include/net/bpf.h make strip make install","categories":[{"name":"hping","slug":"hping","permalink":"http://www.guofangchao.com/categories/hping/"}],"tags":[{"name":"hping","slug":"hping","permalink":"http://www.guofangchao.com/tags/hping/"}],"keywords":[{"name":"hping","slug":"hping","permalink":"http://www.guofangchao.com/categories/hping/"}]},{"title":"gitåŒæ—¶æ¨é€2ä¸ªä»“åº“","slug":"gitåŒæ—¶æ¨é€2ä¸ªä»“åº“","date":"2018-07-16T03:39:00.000Z","updated":"2018-07-16T03:39:57.211Z","comments":true,"path":"2018/07/16/gitåŒæ—¶æ¨é€2ä¸ªä»“åº“/","link":"","permalink":"http://www.guofangchao.com/2018/07/16/gitåŒæ—¶æ¨é€2ä¸ªä»“åº“/","excerpt":"","text":"æ€ä¹ˆæ ·å°†ä¸€ä¸ªæœ¬åœ°gitä»“åº“æ¨é€åˆ°2ä¸ªä¸åŒçš„è¿œç¨‹ä»“åº“å‘¢? æ–¹æ³•ä¸€ æœ¬åœ°ä»“åº“æ·»åŠ åˆ°è¿œç¨‹ç½‘ç«™,æ­£å¸¸æ¥å³å¯ ä½¿ç”¨å‘½ä»¤git remote add github https://github.com/xxxxæ·»åŠ æ–°çš„ä»“åº“åœ°å€ æ¨é€ç¬¬ä¸€ä¸ªä»“åº“git push origin master:master æ¨é€ç¬¬äºŒä¸ªä»“åº“git push github master:master æ–¹æ³•äºŒ æ·»åŠ ç¬¬äºŒä¸ªä»“åº“git remote set-url --add oginin https://github.com/xxxx æ¨é€ä¿®æ”¹åˆ°æ‰€æœ‰ä»“åº“git push origin master:master","categories":[{"name":"git","slug":"git","permalink":"http://www.guofangchao.com/categories/git/"}],"tags":[{"name":"git","slug":"git","permalink":"http://www.guofangchao.com/tags/git/"}],"keywords":[{"name":"git","slug":"git","permalink":"http://www.guofangchao.com/categories/git/"}]},{"title":"react-nativeåŠ¨æ€tabç»„ä»¶","slug":"react-nativeåŠ¨æ€tabç»„ä»¶","date":"2018-07-06T07:31:00.000Z","updated":"2018-07-06T07:34:16.507Z","comments":true,"path":"2018/07/06/react-nativeåŠ¨æ€tabç»„ä»¶/","link":"","permalink":"http://www.guofangchao.com/2018/07/06/react-nativeåŠ¨æ€tabç»„ä»¶/","excerpt":"","text":"åœ¨APPä¸­å…ä¸äº†è¦ä½¿ç”¨tabç»„ä»¶,æœ‰çš„æ˜¯tabåˆ‡æ¢,ä¹Ÿæœ‰çš„æ˜¯tabåˆ†ç±»åˆ‡æ¢. è¿™äº›ç»„ä»¶åˆ†æˆä¸‹é¢ä¸¤ç§. ç¬¬ä¸€ç§éå¸¸ç®€å•,åŒæ—¶å¤§å¤šæ•°ç¬¬ä¸‰æ–¹ç»„ä»¶éƒ½èƒ½è¾¾åˆ°æ•ˆæœ.è¿™é‡Œé‡ç‚¹è®²è¿°ç¬¬äºŒç§,æˆ‘ä»¬è¦è®©ç¬¬äºŒç§ç»„ä»¶ä¸ä»…èƒ½å·¦å³æ»‘åŠ¨,åŒæ—¶è¿˜èƒ½å¤Ÿåœ¨ç‚¹å‡»çš„æ—¶å€™è‡ªåŠ¨æ»‘åŠ¨,å°†ç‚¹å‡»çš„ä½ç½®æ»‘åŠ¨åˆ°æ­£ä¸­é—´. å‡†å¤‡æˆ‘ä»¬å…ˆæ¥åˆ†æä¸€æ³¢.ä¸€ä¸ªæ»‘åŠ¨ç»„ä»¶åœ¨APPä¸Šæ˜¯ä¸€ç§ä»€ä¹ˆçŠ¶æ€. è¿™é‡Œå¯ä»¥çœ‹å‡º,tabç»„ä»¶éœ€è¦è€ƒè™‘åˆ°é•¿åº¦è¶…è¿‡APPçš„å±å¹•,å¹¶ä¸”åœ¨è¶…è¿‡ä¹‹åèƒ½å¤Ÿæ»‘åŠ¨. åŒæ—¶è®¡ç®—å‡ºå½“å‰ä½ç½®éœ€è¦æ»‘åŠ¨å¤šå°‘è·ç¦»æ‰èƒ½å¤Ÿå°†ä½ç½®å±…ä¸­.éœ€è¦æ»‘åŠ¨çš„ä½ç½®=ç‚¹å‡»ä½ç½®çš„å·¦è¾¹è·-APPå±å¹•/2+ç‚¹å‡»ä½ç½®çš„å®½åº¦/2 è¿™ä¸ªå…¬å¼ä¹Ÿå°±æ˜¯æˆ‘ä»¬è‡ªåŠ¨æ»‘åŠ¨çš„æ ¸å¿ƒäº†. å¼€å‘ä½¿ç”¨ScrollViewç»„ä»¶æ‰¿è½½tabé¡¹,è¿™æ ·å°±å¯ä»¥éå¸¸ç®€å•çš„è¾¾åˆ°æ»‘åŠ¨çš„æ•ˆæœ.åŒæ—¶æ·»åŠ horizontalã€directionalLockEnabledã€showsHorizontalScrollIndicatorã€snapToAlignmentå‡ ä¸ªå±æ€§.12345678&lt;ScrollView ref=&#123;e =&gt; this.scroll = e&#125; horizontal directionalLockEnabled showsHorizontalScrollIndicator=&#123;false&#125; snapToAlignment=\"center\"&gt; &#123;this.props.data.map((item, index) =&gt; &#123;/*å…·ä½“é¡¹*/&#125; )&#125;&lt;/ScrollView&gt; ä½¿ç”¨TouchableOpacityåŒ…è£¹å†…å®¹é¡¹,åŒæ—¶è°ƒç”¨setLaoutæ–¹æ³•å°†æ¯ä¸ªé¡¹çš„å®½é«˜ç­‰å±æ€§è®°å½•ä¸‹æ¥,ä¸ºæˆ‘ä»¬åé¢è®¡ç®—å½“å‰ä½ç½®åšå‡†å¤‡.1234567&lt;TouchableOpacity onPress=&#123;() =&gt; this.setIndex(index)&#125; onLayout=&#123;e =&gt; this.setLaout(e.nativeEvent.layout, index)&#125; key=&#123;item.id&#125; style=&#123;tabBarStyle.itemBtn&#125;&gt; &lt;Text style=&#123;[tabBarStyle.item, this.state.index === index ? tabBarStyle.active : null]&#125; &gt; &#123;item.name&#125;&lt;/Text&gt; &lt;View style=&#123;[tabBarStyle.line, this.state.index === index ? tabBarStyle.active2 : null]&#125;&gt; &lt;/View&gt;&lt;/TouchableOpacity&gt; è®°å½•æ¯ä¸ªé¡¹æ¸²æŸ“ä¹‹åçš„ä½ç½®,å°†è¿™äº›å€¼å­˜åœ¨å˜é‡é‡Œ,ä¸ºåé¢è®¡ç®—åšå‡†å¤‡.1234567laout_list = []setLaout(layout, index) &#123; //å­˜å•ä¸ªé¡¹çš„ä½ç½® this.laout_list[index] = layout; //è®¡ç®—æ‰€æœ‰é¡¹çš„æ€»é•¿åº¦ this.scrollW += layout.width;&#125; æ¥ä¸‹æ¥å°±æ˜¯ç‚¹å‡»è‡ªåŠ¨å˜æ¢ä½ç½®çš„è®¡ç®—äº†.12345678910111213141516171819setIndex(index, bl = true) &#123; //å…ˆæ”¹å˜ç‚¹å‡»é¡¹çš„é¢œè‰² this.setState(&#123; index &#125;) //å…¼å®¹é”™è¯¯ if (!this.scroll) return; //æ‹¿åˆ°å½“å‰é¡¹çš„ä½ç½®æ•°æ® let layout = this.laout_list[index]; let rx = deviceWidth / 2; //å…¬å¼ let sx = layout.x - rx + layout.width / 2; //å¦‚æœè¿˜ä¸éœ€è¦ç§»åŠ¨,åŸåœ°å¾…ç€ if (sx &lt; 0) sx = 0; //ç§»åŠ¨ä½ç½® sx &lt; this.scrollW - deviceWidth &amp;&amp; this.scroll.scrollTo(&#123; x: sx, animated: bl &#125;); //ç»“å°¾éƒ¨åˆ†ç›´æ¥ç§»åŠ¨åˆ°åº• sx &gt;= this.scrollW - deviceWidth &amp;&amp; this.scroll.scrollToEnd(&#123; animated: bl &#125;); //è§¦å‘ä¸€äº›éœ€è¦çš„å¤–éƒ¨äº‹ä»¶ this.props.onChange &amp;&amp; this.props.onChange(index);&#125; æœ€åä¸Šä¸€å¼ ç»“æœå›¾: giteeåœ°å€ githubåœ°å€","categories":[{"name":"react-native","slug":"react-native","permalink":"http://www.guofangchao.com/categories/react-native/"}],"tags":[{"name":"tab","slug":"tab","permalink":"http://www.guofangchao.com/tags/tab/"}],"keywords":[{"name":"react-native","slug":"react-native","permalink":"http://www.guofangchao.com/categories/react-native/"}]},{"title":"æœåŠ¡å™¨å®‰è£…nodeç­‰è„šæœ¬","slug":"æœåŠ¡å™¨å®‰è£…nodeç­‰è„šæœ¬","date":"2018-06-13T09:57:00.000Z","updated":"2018-06-13T10:02:20.326Z","comments":true,"path":"2018/06/13/æœåŠ¡å™¨å®‰è£…nodeç­‰è„šæœ¬/","link":"","permalink":"http://www.guofangchao.com/2018/06/13/æœåŠ¡å™¨å®‰è£…nodeç­‰è„šæœ¬/","excerpt":"","text":"ä¸ºäº†å¿«é€Ÿç®€å•å®‰è£…æœåŠ¡å™¨ç¯å¢ƒ,è¿™é‡Œæä¾›äº†ä¸€äº›è„šæœ¬. ä¸‹é¢çš„è½¯ä»¶éƒ½æ”¾åœ¨æ ¹ç›®å½•ä¸‹çš„softæ–‡ä»¶å¤¹ä¸­,ä½¿ç”¨ä¹‹å‰éœ€è¦æå‰åˆ›å»ºå¥½. å®‰è£…node12345678910#!/bin/bashcd /soft#æ›´æ–°ç³»ç»Ÿg++yum install gcc gcc-c++#ä¸‹è½½å®‰è£…nodewget https://nodejs.org/dist/v8.9.4/node-v8.9.4.tar.gztar -zxvf node-v8.9.4.tar.gzcd node-v8.9.4 &amp;&amp; ./configuremake &amp;&amp; make install å®‰è£…mysql12345678#!/bin/bashcd /softwget http://repo.mysql.com/mysql-community-release-el7-5.noarch.rpmrpm -ivh mysql-community-release-el7-5.noarch.rpmyum install mysql-serverservice mysqld start å¯åŠ¨ä¸æˆåŠŸéœ€è¦æ‰‹åŠ¨æ‰¾åŸå› â€¦. æ‰‹åŠ¨è®¾ç½®è¿œç¨‹è¿æ¥ç­‰é¡¹ å®‰è£…nginx12345678910#!/bin/bashcd /softyum install -y pcre pcre-develyum install -y zlib zlib-develyum install -y openssl openssl-develwget https://nginx.org/download/nginx-1.14.0.tar.gztar -zxvf nginx-1.14.0.tar.gz &amp;&amp; cd nginx-1.14.0./configuremake &amp;&amp; make install é»˜è®¤å®‰è£…åœ¨/usr/local/nginx/ä¸‹ å®‰è£…redis123456#!/bin/bashcd /softwget http://download.redis.io/releases/redis-4.0.6.tar.gztar -zxvf redis-4.0.6.tar.gz &amp;&amp;cd redis-4.0.6make &amp;&amp; make install rediséœ€è¦æ‰‹åŠ¨è®¾ç½®åå°è¿è¡Œ/ç«¯å£/å¯†ç ç­‰é¡¹","categories":[{"name":"æœåŠ¡å™¨","slug":"æœåŠ¡å™¨","permalink":"http://www.guofangchao.com/categories/æœåŠ¡å™¨/"}],"tags":[{"name":"æœåŠ¡å™¨","slug":"æœåŠ¡å™¨","permalink":"http://www.guofangchao.com/tags/æœåŠ¡å™¨/"},{"name":"node","slug":"node","permalink":"http://www.guofangchao.com/tags/node/"}],"keywords":[{"name":"æœåŠ¡å™¨","slug":"æœåŠ¡å™¨","permalink":"http://www.guofangchao.com/categories/æœåŠ¡å™¨/"}]},{"title":"react-nativeå®šæ—¶å™¨","slug":"react-nativeå®šæ—¶å™¨","date":"2018-05-12T04:11:00.000Z","updated":"2018-05-12T04:12:05.969Z","comments":true,"path":"2018/05/12/react-nativeå®šæ—¶å™¨/","link":"","permalink":"http://www.guofangchao.com/2018/05/12/react-nativeå®šæ—¶å™¨/","excerpt":"","text":"react-nativeä¸­æœ‰æ—¶å€™éœ€è¦å®šæ—¶æ‰§è¡Œä¸€äº›åå°ä»»åŠ¡,æ¯”å¦‚å®šæ—¶å‘é€æ¶ˆæ¯,å®šæ—¶ç»Ÿè®¡æ•°æ®ç­‰.è¿™ä¸ªæ—¶å€™å°±éœ€è¦ä½¿ç”¨å¦å¤–æ³¨å†Œä¸€ä¸ªè§†å›¾æ¥åšè¿™äº›ä¸œè¥¿äº†,ä¸ç„¶åœ¨åŒæ­¥ä»»åŠ¡ä¸­åšè¿™äº›ä»»åŠ¡,ä¸€æ—¦ä»»åŠ¡æ¯”è¾ƒè€—æ—¶å°±ä¼šå¡ä½åé¢çš„è¿›ç¨‹,ç”šè‡³å¯¼è‡´åé¢çš„è¿›ç¨‹ä¸å†æ¸²æŸ“é¡µé¢. æ³¨å†Œå¦å¤–ä¸€ä¸ªå…¥å£åœ¨åˆé€‚çš„ä½ç½®:é¡µé¢å¯åŠ¨æˆ–è€…æŸä¸ªéœ€è¦çš„æ—¶å€™,æ³¨å†Œå¹¶å¯åŠ¨æˆ‘ä»¬çš„å¦å¤–ä¸€ä¸ªè§†å›¾.è¿™ä¸ªæ—¶å€™å…¶å®ç›¸å½“äºå¯åŠ¨äº†å¦å¤–ä¸€ä¸ªçº¿ç¨‹. è¿™é‡Œæ³¨æ„ä¸€ä¸‹,è¿™ä¸ªè§†å›¾é‡Œçš„ä¸œè¥¿åƒä¸‡ä¸è¦ç›´æ¥åˆ·æ–°UIç›¸å…³çš„æ•°æ®,æ‰€æœ‰çš„å†…å®¹éƒ½åº”è¯¥æ˜¯å†…å­˜ç›¸å…³çš„.123AppRegistry.registerRunnable('RunableTask', TaskRun)AppRegistry.runApplication('RunableTask', &#123;&#125;); å¯åŠ¨å®šæ—¶å™¨è°ƒç”¨initæ–¹æ³•,å¯åŠ¨æˆ‘ä»¬è‡ªå·±çš„å®šæ—¶å™¨åˆ·æ–°æ–¹æ³•,è¿™é‡Œæˆ‘æš‚æ—¶å®šä¹‰1ç§’åˆ·æ–°ä¸€æ¬¡,ä½äº1ç§’é—´éš”çš„å®šæ—¶å™¨å°†ä¸åœ¨æ‰§è¡Œ.è¿™é‡Œä¹Ÿæ˜¯ä¸ºäº†é˜²æ­¢éƒ¨åˆ†äººè®¾ç½®ä½é—´éš”çš„å®šæ—¶å™¨å¯¼è‡´APPå´©æºƒ. è¿™é‡Œä½¿ç”¨react-nativeå†…éƒ¨æä¾›çš„requestAnimationFrameæ–¹æ³•,æ¯æ¬¡åˆ·æ–°çš„æ—¶å€™å…ˆåˆ¤æ–­ä¸€æ¬¡æ˜¯å¦å¯ä»¥æ‰§è¡Œä»»åŠ¡.1234567891011121314151617181920const tasks = new Map();let currDate = Date.now();/** * åˆå§‹åŒ– */exports.init = function () &#123; global.requestAnimationFrame(run);&#125;/** * æ‰§è¡Œ,æ¯ç§’æ‰§è¡Œä¸€æ¬¡ * ä¿è¯ç§’çº§å·¥ä½œæ­£ç¡® */function run() &#123; const now = Date.now(); if (now &gt; currDate + 1000) &#123; currDate = now; tasks.forEach(item =&gt; item.preStart(now)); &#125; global.requestAnimationFrame(run);&#125; ä»»åŠ¡åŸºç±»æ‰€æœ‰çš„ä»»åŠ¡éƒ½éœ€è¦ç»§æ‰¿è¿™ä¸ªåŸºç±»,å®šæ—¶å™¨è¿è¡Œçš„æ—¶å€™ä¹Ÿä¼šé€šè¿‡åŸºç±»å†…éƒ¨çš„æ–¹æ³•å»åˆ¤æ–­æ˜¯å¦éœ€è¦æ‰§è¡Œæ–¹æ³•.è¿™é‡Œå¯¹å¤–å®ç°äº†ä¸€ä¸ªtimeræ˜¯æ—¶é—´é—´éš”,å•ä½æ˜¯æ¯«ç§’,è¿˜æœ‰ä¸€ä¸ªstartæ–¹æ³•ç”¨æ¥ç»™æ¯ä¸ªä»»åŠ¡ä½¿ç”¨çš„. é€šè¿‡æ¯æ¬¡æ‰§è¡ŒpreStartæ–¹æ³•åˆ¤æ–­ä¸‹æ¬¡æ‰§è¡Œçš„æ—¶é—´åˆ°äº†æ²¡æœ‰æ¥å†³å®šæ˜¯å¦æ‰§è¡Œè‡ªå®šä¹‰æ–¹æ³•.å¦‚æœåˆ°äº†åŒæ—¶è¿˜è¦è®¡ç®—ä¸‹ä¸€æ¬¡çš„æ—¶é—´å¹¶å­˜å¥½.12345678910111213141516171819202122232425262728/** * åŸºç¡€å·¥ä½œç±» */class Jobs &#123; name = \"base\"; /** * ä¸‹æ¬¡æ‰§è¡Œæ—¶é—´æˆ³ */ nextTime = 0; /** * é‡è½½:æ—¶é—´é—´éš” */ timer = 0; /** * é¢„å¯åŠ¨ */ preStart(now) &#123; if (this.timer &lt; 1000) return; if (this.nextTime &gt; now) return; if (this.nextTime === 0) return this.nextTime = now + this.timer; this.nextTime += this.timer; this.start(now); &#125; /** * é‡è½½:æ‰§è¡Œä¸€æ¬¡è®¾ç½®çš„æ–¹æ³• */ start() &#123; &#125;&#125; å®ç°å¹¶åŠ å…¥å°†è®¾ç½®å¥½çš„ä»»åŠ¡åŠ å…¥å…¨å±€çš„mapç¤ºä¾‹ä¸­,è¿è¡Œçš„æ—¶å€™ä¼šä»è¿™ä¸ªç¤ºä¾‹ä¸­å–éœ€è¦çš„ä»»åŠ¡å‡ºæ¥.1234567891011121314151617/** * æ·»åŠ ä¸€ä¸ªå·¥ä½œ * @param &#123;*&#125; name åç§° * @param &#123;*&#125; time æ—¶é—´ * @param &#123;*&#125; fn æ‰§è¡Œå‡½æ•° */const addJob = (name, Job) =&gt; tasks.set(name, new Job())exports.addJob = addJob;/** * å–æ¶ˆä»»åŠ¡ * @param &#123;*&#125; name */const cancelJob = name =&gt; tasks.delete(name);exports.cancelJob = cancelJob; æµ‹è¯•ä»»åŠ¡è¿™é‡Œæ¨¡æ‹Ÿä¸€æ¬¡å®šæ—¶å‘é€ç»Ÿè®¡æ¶ˆæ¯. å¦å¤–ä¸€ä¸ªåœ°æ–¹å®ç°äº†å°†æ¯æ¬¡éœ€è¦å‘é€çš„æ¶ˆæ¯å­˜å…¥å†…å­˜ä¸­,è¿™é‡Œåªè´Ÿè´£å–å‡ºéœ€è¦å‘é€çš„æ¶ˆæ¯. è®¾ç½®3ç§’æ‰§è¡Œä¸€æ¬¡å‘é€ä»»åŠ¡,å¦‚æœæ•°é‡æ¯”è¾ƒå°‘å°±ä¿®æ”¹å®šæ—¶ä»»åŠ¡çš„é—´éš”,åé¢çš„ä»»åŠ¡å»¶è¿Ÿå‘é€. å¦‚æœåå°æ¥æ”¶ä¸€æ¬¡å¤§é‡çš„æ•°æ®,ä¹Ÿå¯ä»¥å°†å¤šæ¬¡ç»Ÿè®¡åˆå¹¶ä¸ºä¸€æ¬¡ç»Ÿè®¡,è¯·æ±‚çš„ä¸ªæ•°ä¼šæ›´å°‘ä¸€äº›.12345678910111213141516171819/** * å®šæ—¶è§¦å‘ç»Ÿè®¡æ–¹æ³• */class TrackJob extends Jobs &#123; timer = 3000; start() &#123; let list = TackList(); if (list.length &gt; 10) &#123; this.timer = 3000; &#125; else &#123; this.timer = 5000; &#125; list.forEach(item =&gt; &#123; request.trackData(item.url, item.data); log(\"åŸ‹ç‚¹äº‹ä»¶\", item.data); &#125;) &#125;&#125;addJob(\"Track\", TrackJob); æ›´å¤šæ‰©å±•åœ¨ç›®å‰çš„åŸºç¡€ä¸Šæ‰©å±•æ—¶é—´é—´éš”çš„è®¾å®šæ–¹å¼,å®ç°å›ºå®šæ—¶é—´æ—¥æœŸæ‰§è¡Œä»»åŠ¡.è¿™é‡Œå¯èƒ½éœ€è¦appä¸€ç›´æ´»ç€æ‰èƒ½ä¿è¯. åŠ å…¥æ‰§è¡Œæ¬¡æ•°,æ‰§è¡Œè¶…è¿‡ä¸€å®šçš„æ­¤æ—¶å°±ä¸å†æ‰§è¡Œ.","categories":[{"name":"å‰ç«¯","slug":"big-front-end","permalink":"http://www.guofangchao.com/categories/big-front-end/"}],"tags":[{"name":"react-native","slug":"react-native","permalink":"http://www.guofangchao.com/tags/react-native/"},{"name":"å®šæ—¶å™¨","slug":"å®šæ—¶å™¨","permalink":"http://www.guofangchao.com/tags/å®šæ—¶å™¨/"}],"keywords":[{"name":"å‰ç«¯","slug":"big-front-end","permalink":"http://www.guofangchao.com/categories/big-front-end/"}]},{"title":"gitå¸¸ç”¨å‘½ä»¤","slug":"git-command","date":"2018-04-01T08:48:00.000Z","updated":"2018-04-01T09:02:25.355Z","comments":true,"path":"2018/04/01/git-command/","link":"","permalink":"http://www.guofangchao.com/2018/04/01/git-command/","excerpt":"","text":"gitå¸¸ç”¨å‘½ä»¤å°ç»“: 123456789101112git version # â†’ gitç‰ˆæœ¬git branch # â†’ æŸ¥çœ‹æœ¬åœ°æ‰€æœ‰çš„åˆ†æ”¯git branch -r # â†’ æŸ¥çœ‹æ‰€æœ‰è¿œç¨‹çš„åˆ†æ”¯git branch -a # â†’ æŸ¥çœ‹æ‰€æœ‰è¿œç¨‹åˆ†æ”¯å’Œæœ¬åœ°åˆ†æ”¯git branch -d &lt;branchname&gt; # â†’ åˆ é™¤æœ¬åœ°branchnameåˆ† git branch -m brancholdname branchnewname # â†’ é‡å‘½ååˆ†æ”¯ git branch &lt;branchname&gt; # â†’ åˆ›å»ºbranchnameåˆ†æ”¯git checkout &lt;branchname&gt; # â†’ åˆ‡æ¢åˆ†æ”¯åˆ°branchnamegit checkout -b &lt;branchname&gt; # â†’ ç­‰åŒäºæ‰§è¡Œä¸Šä¸¤æ­¥ï¼Œå³åˆ›å»ºæ–°çš„åˆ†æ”¯å¹¶åˆ‡æ¢åˆ°è¯¥åˆ†æ”¯git checkout -- xx/xx # â†’ å›æ»šå•ä¸ªæ–‡ä»¶git pull origin master:master # â†’ å°†è¿œç¨‹originä¸»æœºçš„masteråˆ†æ”¯åˆå¹¶åˆ°å½“å‰masteråˆ†æ”¯,å†’å·åé¢çš„éƒ¨åˆ†è¡¨ç¤ºå½“å‰æœ¬åœ°æ‰€åœ¨çš„åˆ†æ”¯git push origin -d &lt;branchname&gt; # â†’ åˆ é™¤è¿œç¨‹branchnameåˆ†æ”¯ 123456git fetch --p # â†’ æ›´æ–°åˆ†æ”¯git status # â†’ æŸ¥çœ‹ä»“åº“çŠ¶æ€git add xx # â†’ æŠŠxxæ–‡ä»¶æ·»åŠ åˆ°æš‚å­˜åŒºå»git commit -m &apos; &apos; # â†’ æäº¤æ–‡ä»¶ -m åé¢çš„æ˜¯æ³¨é‡Šgit commit -am(-a -m) # â†’ æäº¤æ‰€æœ‰çš„ä¿®æ”¹ï¼Œç­‰åŒäºä¸Šä¸¤æ­¥git commit --amend # â†’ å°†æš‚å­˜åŒºå’Œå½“å‰commitåˆå¹¶åˆ›å»ºä¸€ä¸ªæ–°commitå»æ›¿æ¢å½“å‰commit 123git stash # â†’ æŠŠå½“å‰çš„å·¥ä½œéšè—èµ·æ¥ ç­‰ä»¥åæ¢å¤ç°åœºåç»§ç»­å·¥ä½œgit stash pop # â†’ æ¢å¤å·¥ä½œç°åœºï¼ˆæ¢å¤éšè—çš„æ–‡ä»¶ï¼ŒåŒæ—¶åˆ é™¤stashåˆ—è¡¨ä¸­å¯¹åº”çš„å†…å®¹ï¼‰git fetch --all # â†’ å°†è¿œç¨‹ä¸»æœºçš„æ›´æ–°å…¨éƒ¨å–å›æœ¬åœ° 12345git merge origin/master # â†’ åœ¨æœ¬åœ°ï¼ˆå½“å‰ï¼‰åˆ†æ”¯ä¸Šåˆå¹¶è¿œç¨‹åˆ†æ”¯git merge --abort # â†’ ç»ˆæ­¢æœ¬æ¬¡mergeï¼Œå¹¶å›åˆ°mergeå‰çš„çŠ¶æ€ï¼ˆğŸ‘ï¼‰git pull origin master # â†’ ä»è¿œç¨‹è·å–æœ€æ–°ç‰ˆæœ¬å¹¶mergeåˆ°æœ¬åœ°ç­‰åŒäºgit fetch origin master + git merge origin/masterï¼ˆå‰è€…æ›´å®‰å…¨ä¸€äº›ï¼‰git push origin master # â†’ å°†æœ¬åœ°masteråˆ†æ”¯æ¨é€åˆ°è¿œç¨‹originä¸»æœºçš„masteråˆ†æ”¯ 123456git log xx # â†’ æŸ¥çœ‹xxæ–‡ä»¶çš„commitè®°å½•git log -p xx # â†’ æŸ¥çœ‹xxæ–‡ä»¶æ¯æ¬¡æäº¤çš„diffgit log --pretty=oneline xx # â†’ æŸ¥çœ‹xxæ–‡ä»¶æäº¤çš„å†å²è®°å½•ï¼ˆåªæ˜¾ç¤ºå“ˆå¸Œå€¼å’Œæäº¤è¯´æ˜ï¼‰git log --pretty=raw # â†’ æŸ¥çœ‹commitä¹‹é—´çš„çˆ¶å­å…³ç³»ï¼ˆroot commitæ˜¯æ²¡æœ‰çˆ¶æäº¤çš„ï¼‰git log --graph # â†’ æŸ¥çœ‹å½“å‰åˆ†æ”¯commitç”Ÿæˆçš„æ ‘çŠ¶å›¾git diff HEAD HEAD^1 -- xx # â†’ æŸ¥çœ‹xxæ–‡ä»¶ä¸åŒç‰ˆæœ¬ä¹‹é—´çš„å·®å¼‚ 1git diff HEAD~1 # â†’ æ˜¾ç¤ºçˆ¶èŠ‚ç‚¹çš„æäº¤ 1git reset --hard origin/master # â†’ å°†æœ¬åœ°masterä¸è¿œç¨‹masteråŒæ­¥ git revertä¼šå¢åŠ ä¸€æ¡æ–°çš„commitï¼Œå®ƒçš„å†…å®¹ä¸æŒ‡å®šcommitçš„ä¿®æ”¹æ˜¯ç›¸åçš„ï¼Œä¸¤æ¬¡ç›¸äº’æŠµæ¶ˆä»è€Œè¾¾åˆ°æ’¤é”€çš„æ•ˆæœï¼Œå¹¶ä¸”åœ¨commitå†å²ä¸­ï¼Œä¼šå­˜åœ¨ä¸¤æ¡æäº¤ï¼Œä¸€æ¡åŸå§‹commitï¼Œä¸€æ¡å®ƒçš„åè½¬commitï¼Œè€Œgit rebase â€“ontoæ˜¯ç›´æ¥å°†commitä»å†å²è®°å½•ä¸­ç›´æ¥åˆ é™¤ã€‚ 1git tag -l version1.* # â†’ åªä¼šåˆ—å‡º1.å‡ çš„ç‰ˆæœ¬","categories":[{"name":"è¿ç»´","slug":"è¿ç»´","permalink":"http://www.guofangchao.com/categories/è¿ç»´/"}],"tags":[{"name":"git","slug":"git","permalink":"http://www.guofangchao.com/tags/git/"}],"keywords":[{"name":"è¿ç»´","slug":"è¿ç»´","permalink":"http://www.guofangchao.com/categories/è¿ç»´/"}]},{"title":"nginxè‡ªåŠ¨è·³è½¬https","slug":"nginxè‡ªåŠ¨è·³è½¬https","date":"2018-03-30T10:14:00.000Z","updated":"2018-03-30T10:15:03.180Z","comments":true,"path":"2018/03/30/nginxè‡ªåŠ¨è·³è½¬https/","link":"","permalink":"http://www.guofangchao.com/2018/03/30/nginxè‡ªåŠ¨è·³è½¬https/","excerpt":"","text":"ä¸€ã€æŒ‰ç…§å¦‚ä¸‹æ ¼å¼ä¿®æ”¹nginx.conf é…ç½®æ–‡ä»¶ï¼Œ80ç«¯å£ä¼šè‡ªåŠ¨è½¬ç»™443ç«¯å£ï¼Œè¿™æ ·å°±å¼ºåˆ¶ä½¿ç”¨SSLè¯ä¹¦åŠ å¯†äº†ã€‚è®¿é—®httpçš„æ—¶å€™ä¼šè‡ªåŠ¨è·³è½¬åˆ°httpsä¸Šé¢ã€‚12345678910111213server &#123;listen 80;server_name www.åŸŸå.com;rewrite ^(.*) https://$server_name$1 permanent;&#125;server &#123;listen 443;server_name www.åŸŸå.com;root /home/www;ssl on;ssl_certificate /etc/nginx/certs/server.crt;ssl_certificate_key /etc/nginx/certs/server.key;&#125; äºŒã€ä¿®æ”¹é…ç½®æ–‡ä»¶åï¼Œé‡å¯nginxã€‚","categories":[{"name":"è¿ç»´","slug":"è¿ç»´","permalink":"http://www.guofangchao.com/categories/è¿ç»´/"}],"tags":[{"name":"nginx","slug":"nginx","permalink":"http://www.guofangchao.com/tags/nginx/"}],"keywords":[{"name":"è¿ç»´","slug":"è¿ç»´","permalink":"http://www.guofangchao.com/categories/è¿ç»´/"}]},{"title":"ä½¿ç”¨jså¼€å‘æ•°æ®åº“","slug":"ä½¿ç”¨jså¼€å‘æ•°æ®åº“","date":"2018-03-30T03:40:00.000Z","updated":"2018-03-30T10:54:47.215Z","comments":true,"path":"2018/03/30/ä½¿ç”¨jså¼€å‘æ•°æ®åº“/","link":"","permalink":"http://www.guofangchao.com/2018/03/30/ä½¿ç”¨jså¼€å‘æ•°æ®åº“/","excerpt":"","text":"å‰ç«¯å¾ˆå¤šæ—¶å€™è¿˜æ˜¯éœ€è¦ä¿å­˜ä¸€äº›æ•°æ®çš„ï¼Œè¿™é‡Œçš„ä¿å­˜æŒ‡çš„æ˜¯é•¿ä¹…çš„ä¿å­˜ã€‚ä»¥å‰çš„æ€æƒ³æ˜¯æŠŠæ•°æ®ä¿å­˜åœ¨cookieä¸­ï¼Œæˆ–è€…å°†keyä¿å­˜åœ¨cookieä¸­ï¼Œå°†å…¶ä»–æ•°æ®ä¿å­˜åœ¨æœåŠ¡å™¨ä¸Šã€‚ è¿™å‡ ä¸ªåœºæ™¯ç”¨å¤„å¾ˆå¤šï¼Œä¹Ÿéå¸¸çš„æˆç†Ÿå¥½ç”¨ã€‚ä½†æ˜¯æˆ‘è¿˜æ˜¯æƒ³è¦ä¸€ç§èƒ½å¤Ÿé•¿ä¹…çš„ä¿å­˜åœ¨æœ¬åœ°çš„æ•°æ®ï¼Œç±»ä¼¼æ•°æ®åº“æˆ–è€…ç±»ä¼¼web sqlã€‚ æ–°ä¸€ä»£æµè§ˆå™¨åŸºæœ¬éƒ½æ”¯æŒäº†æœ¬åœ°æ•°æ®åº“ï¼Œéœ€è¦ç”¨çš„æ—¶å€™ç›´æ¥ä½¿ç”¨å°±å¥½äº†ã€‚å®åœ¨ä¸è¡Œè¿˜å¯ä»¥ä½¿ç”¨Storageå°†å°±ä¸€ä¸‹ã€‚ å‡å¦‚æˆ‘éœ€è¦çš„æ˜¯ä¸€ä¸ªæ•°æ®åº“é‚£ç§åŠŸèƒ½å¹¶ä¸”æ²¡æœ‰å…¼å®¹çš„å­˜å‚¨æ–¹å¼å‘¢ï¼ŸåŠ å…¥æˆ‘è¿˜è¦åŠ å¯†å­˜å‚¨è¿™äº›ä¸œè¥¿åœ¨æœ¬åœ°å‘¢ï¼ŸåŠ å…¥æˆ‘è¦å­˜çš„ä¸œè¥¿éå¸¸å¤šå‘¢ï¼Ÿ ç›®å‰æˆ‘åœ¨ä½¿ç”¨ReactNativeçš„æ—¶å€™ç¡®å®é‡åˆ°äº†è¿™ç§æƒ…å†µã€‚æˆ‘éœ€è¦å°†éå¸¸å¤šçš„æ•°æ®å­˜åœ¨æœ¬åœ°ã€‚æœ‰äººè¯´äº†ï¼Œç›´æ¥ä½¿ç”¨sqliteä¸å°±å¥½äº†ä¹ˆï¼Ÿ å¥½å•Šï¼Œå®Œå…¨å¯ä»¥å•Šã€‚æˆ‘è¿™é‡Œä»…ä»…æ˜¯æœ¬ç€å‰ç«¯çš„æ€åº¦å»å¼€å‘è€Œå·²ã€‚å‡å¦‚æœ‰çš„åŒå­¦ä¸éœ€è¦sqliteå‘¢ï¼Œåªéœ€è¦ä¸€ä¸ªç®€å•çš„ï¼Œèƒ½å¤Ÿå­˜å‚¨ä¸€äº›å¤§é‡æ•°æ®çš„æ–¹å¼å‘¢ï¼Ÿ ä½¿ç”¨åœºæ™¯å¯èƒ½æœ‰å¾ˆå¤šï¼Œå®ç°çš„åº•å±‚ä¹Ÿå¯ä»¥éšä¾¿æ›¿æ¢ï¼Œç”šè‡³å®ç°æ–¹å¼éƒ½å¯ä»¥éšä¾¿å†™å†™ã€‚è¿™é‡Œæˆ‘æœ¬ç€å‰ç«¯åˆ›é€ ä¸–ç•Œçš„æ€åº¦æ¥åšä¸€ä¸ªéæ­£å¼çš„ã€å‰ç«¯å¥½ä½¿çš„æ•°æ®å­˜å‚¨åº“ã€‚ åº•å±‚å­˜å‚¨è¿™é‡Œçš„ä½¿ç”¨åœºæ™¯æ˜¯ReactNativeï¼Œæ‰€ä»¥æˆ‘ä½¿ç”¨çš„æ˜¯RNçš„AsyncStorageã€‚ å°†æ‰€æœ‰è¦ä¿å­˜çš„æ•°æ®è½¬æˆå¯¹è±¡ï¼Œå¹¶è½¬åŒ–ä¸ºå­—ç¬¦ä¸²ã€‚è¿™é‡Œçš„æ ¸å¿ƒæ€æƒ³å°±æ˜¯åºåˆ—åŒ–ã€‚å°†æ‰€æœ‰æ•°æ®å½“æˆå­—ç¬¦ä¸²æ¥å­˜ã€‚12345678import &#123; AsyncStorage &#125; from 'react-native';exports.setItem = async (key, value) =&gt; &#123; let item = JSON.stringify(&#123; v: value &#125;); return await AsyncStorage.setItem(key, item);&#125; å½“è¯»å–çš„æ—¶å€™ä¹Ÿéœ€è¦åšä¸€æ¬¡è½¬åŒ–ï¼Œå°†å­—ç¬¦ä¸²è½¬æˆå½“åˆå­˜å…¥çš„æ•°æ®ã€‚1234567exports.getItem = async (key) =&gt; &#123; let item = await AsyncStorage.getItem(key); if (!item) &#123; return null; &#125; return JSON.parse(item).v || null;&#125; éœ€è¦ç‰¹æ®Šå¤„ç†çš„æ˜¯åˆ—è¡¨çš„è·å–ã€‚RNæœ‰ä¸€ä¸ªæ ¹æ®å¤šä¸ªkeyè¿”å›å¤šæ¡æ•°æ®çš„apiã€‚å®ƒè¿”å›çš„æ˜¯ä¸€ä¸ªæ•°ç»„å¯¹è±¡ï¼Œæ•°ç»„åºå·0æ˜¯æ•°æ®å­˜å‚¨çš„keyå€¼ï¼Œåºå·1æ‰æ˜¯æ•°æ®å­˜å‚¨çš„å…·ä½“å­—ç¬¦ä¸²ã€‚12345exports.getlist = async (keys) =&gt; &#123; let list = await AsyncStorage.multiGet(keys); list = list.map(item =&gt; JSON.parse(item[1]).v || null); return list;&#125; å…¶ä»–ç”¨åˆ°çš„å‡ ä¸ªæ–¹æ³•ä¹Ÿé¡ºä¾¿æ‹¿å‡ºæ¥å§ã€‚è¿™é‡Œå¤šåµŒå¥—ä¸€å±‚ï¼Œè·Ÿä¸Šé¢çš„ä¿æŒé˜Ÿå½¢ã€‚12345exports.removeItem = async (key) =&gt; await AsyncStorage.removeItem(key);exports.removeItems = async (keys) =&gt; await AsyncStorage.multiRemove(keys);exports.allKeys = async () =&gt; await AsyncStorage.getAllKeys(); åº•å±‚ä¼˜åŒ–ä¸Šé¢åªæ˜¯ç®€å•çš„å®ç°ï¼Œå¦‚æœæ²¡æœ‰ç‰¹æ®Šéœ€æ±‚ä¹Ÿå°±å·®ä¸å¤šäº†ã€‚ä½†æ˜¯ï¼Œæƒ³è¦æ›´è¿›ä¸€æ­¥çš„å¯ä»¥è€ƒè™‘å¼€å§‹ä¼˜åŒ–äº†ã€‚ æ¯”å¦‚ï¼Œä¼˜åŒ–jsonè½¬åŒ–çš„é€Ÿåº¦ã€‚æˆ‘ä»¬ä½¿ç”¨JSONå¯¹è±¡çš„æ–¹æ³•å»è½¬åŒ–çš„æ—¶å€™å…¶å®è¿˜æœ‰ä¸€ä¸ªåˆ¤æ–­æ•°å€¼ç±»å‹çš„è¿‡ç¨‹ã€‚å¦‚æœæˆ‘ä»¬æŠŠæ•°æ®çš„ç±»å‹æå‰å®šä¹‰å¥½ã€‚å†è½¬åŒ–çš„æ—¶å€™å°±ä¸éœ€è¦å†åˆ¤æ–­äº†ã€‚ å¯ä»¥å®šä¹‰ä¸€ä¸ªmodelå¯¹è±¡ï¼Œå°†è¿™ä¸ªè¡¨éœ€è¦çš„å­—æ®µé¢„å…ˆå®šä¹‰å¥½ã€‚å¯ä»¥æŸ¥çœ‹ä¸€ä¸‹Sequelizeçš„å®šä¹‰æ–¹å¼ã€‚æŒ‰ç…§å…³ç³»è¡Œæ•°æ®åº“çš„æ–¹å¼æ¥æè¿™ä¸ªäº‹æƒ…å°±å¾ˆç®€å•äº†ã€‚123456789101112131415161718192021222324252627282930313233//ç”¨æˆ·å¯¹è±¡const users = db.define('t_users', &#123; id: &#123; type: Sequelize.INTEGER, primaryKey: true, &#125;, //ç”¨æˆ·å username: &#123; type: Sequelize.STRING &#125;, //å¯†ç  pwd: &#123; type: Sequelize.STRING &#125;, //çŠ¶æ€ status: &#123; type: Sequelize.INTEGER &#125;, //æ˜µç§° nickname: &#123; type: Sequelize.STRING &#125;, //token token: &#123; type: Sequelize.STRING &#125;, create_time: &#123; type: Sequelize.TIME &#125;&#125;, &#123; freezeTableName: true, timestamps: false,&#125;); å®ç°å­˜å‚¨æˆ‘ä»¬è¿™é‡Œå‚è€ƒä¸€ä¸‹å…³ç³»å‹æ•°æ®åº“çš„å®ç°ã€‚ é¦–å…ˆéœ€è¦åˆ†è¡¨å’Œåˆ†åº“ã€‚è¿™æ ·åœ¨å­˜å…¥æ•°æ®çš„æ—¶å€™å¯ä»¥æ›´å°‘çš„å…³æ³¨è¿™æ–¹é¢çš„ä¿¡æ¯ï¼Œå°†ä¸»è¦ç²¾åŠ›æ”¾åœ¨æ•°æ®æ“ä½œä¸Šã€‚12345678constructor(tableName = \"table\", db = \"db\") &#123; //æ£€æŸ¥åº“,è¡¨æ˜¯å¦å­˜åœ¨ //åˆå§‹åŒ–ç´¢å¼•è¡¨ this.db = db; this.tableName = tableName; this.tableKey = db + \"_\" + tableName; this.init(); &#125; å°†å®ƒä»¬åˆ†å¼€å­˜å‚¨åœ¨å½“å‰å¯¹è±¡å†…éƒ¨ï¼Œåœ¨åˆ›å»ºå¯¹è±¡çš„æ—¶å€™å°±å¯ä»¥æ ¹æ®ä¸åŒçš„åº“ã€è¡¨åˆ›å»ºä¸åŒçš„æ“ä½œæ–¹æ³•ã€‚è¿™é‡Œä½¿ç”¨çš„æ˜¯classï¼Œæ¯ä¸ªè¡¨éƒ½å¯¹åº”ä¸€ä¸ªå•ç‹¬çš„å¯¹è±¡ã€‚ ç”±äºæˆ‘ä»¬ä½¿ç”¨çš„æ˜¯RNæä¾›çš„å­˜å‚¨æ–¹æ³•ï¼Œæ‰€ä»¥è¿™é‡Œçš„æ·»åŠ å’Œæ›´æ–°å…¶å®æ˜¯ä¸€ä¸ªæ–¹æ³•ã€‚åœ¨æ·»åŠ çš„æ—¶å€™ä¼šæ ¹æ®å½“å‰æ—¶é—´æˆ³åˆ›å»ºä¸€ä¸ªå”¯ä¸€idï¼Œä½¿ç”¨è¿™ä¸ªidä½œä¸ºkeyå­˜å‚¨åœ¨æ•°æ®åº“ä¸­ã€‚æ‰€ä»¥åœ¨ä½¿ç”¨çš„æ—¶å€™ä¸éœ€è¦å†å•ç‹¬å­˜å…¥idï¼Œä¸è¿‡å¦‚æœä½ è§‰å¾—è¿™ä¸ªidè·Ÿä½ éœ€è¦çš„æœ‰å·®åˆ«ä¹Ÿå¯ä»¥è‡ªå·±å®šä¹‰ä¸€ä¸ªidæ¥ä½œä¸ºkeyå€¼å­˜å‚¨ã€‚1234567//æ·»åŠ å’Œæ›´æ–° async add(data = &#123;&#125;) &#123; if (data.constructor !== Object) return; if (!data._id)data._id = uuid(); await setItem(this.tableKey + \"_\" + data._id, data); return data; &#125; åœ¨è·å–çš„æ—¶å€™å•ç‹¬æä¾›äº†ä¸€ä¸ªæ ¹æ®idè·å–çš„æ–¹å¼ã€‚è¿™é‡Œè€ƒè™‘çš„æ˜¯é€šè¿‡idè·å–éå¸¸çš„ç®€å•æ–¹ä¾¿ï¼Œå¯¹äºæŸäº›æ•°æ®å®Œå…¨å¯ä»¥å¿«é€Ÿè¯»å–ï¼Œæ²¡å¿…è¦ä¸€è¡Œä¸€è¡Œçš„å»æŸ¥è¯¢ã€‚12345678/** * é€šè¿‡idæŸ¥è¯¢ * @param &#123;*&#125; id */async getById(id) &#123; if (!id) return &#123;&#125;; return await getItem(this.tableKey + \"_\" + id);&#125; ç›¸å¯¹äºæ ¹æ®idæŸ¥è¯¢æ¥è¯´ï¼Œæ¨¡ç³ŠæŸ¥è¯¢ç¡®å®å¾ˆæ…¢ï¼Œå¦‚æœä¸æ˜¯çœŸå®éœ€è¦ï¼Œè¿˜æ˜¯ä¸è¦ä½¿ç”¨è¿™ç§æ¨¡ç³ŠæŸ¥è¯¢çš„å¥½ã€‚è¿™é‡Œæä¾›äº†ä¸€ä¸ªè‡ªå®šä¹‰æŸ¥è¯¢çš„æ–¹æ³•ï¼Œå¯ä»¥æ ¹æ®è¿”å›çš„å¯¹è±¡åˆ¤æ–­æ˜¯å¦éœ€è¦è¿™è¡Œæ•°æ®ã€‚åŒæ—¶ä¹Ÿå¯ä»¥æ·»åŠ topå‚æ•°æ¥é™åˆ¶è¿”å›çš„æ•°é‡ã€‚ä½¿ç”¨è¿™ä¸ªå‚æ•°ä¹Ÿå¯ä»¥åœ¨æ•°æ®å¾ˆå¤šçš„æ—¶å€™æé«˜æ€§èƒ½ã€‚1234567891011121314/** * é€šè¿‡è¿‡æ»¤æ–¹æ³•æŸ¥è¯¢ * @param &#123;*&#125; fn */async get(fn, top = 0) &#123; let keys = await allKeys(); if (keys.length == 0) return []; if (top &gt; 0 &amp;&amp; keys.length &gt; top) keys.length = top; const listkey = keys.filter(item =&gt; item.indexOf(this.tableKey + \"_\") === 0); if (listkey.length == 0) return []; let list = await getlist(listkey); list = list.filter(item =&gt; fn(item)); return list;&#125; æœ€åæŠŠåˆ é™¤å’Œæ¸…ç©ºçš„æ–¹æ³•åŠ ä¸Šï¼Œè¿™æ ·ä¸€ä¸ªç®€å•çš„åˆ é™¤åº“å°±å®Œæˆäº†ã€‚1234567891011121314151617 /** * åˆ é™¤ * @param &#123;*&#125; id */async delete(id) &#123; if (!id) return &#123;&#125;; await removeItem(this.tableKey + \"_\" + id);&#125;/** * æ¸…ç©ºè¡¨ */async clear() &#123; let keys = await allKeys(); const listkey = keys.filter(item =&gt; item.indexOf(this.tableKey + \"_\") === 0); if (listkey.length == 0) return; removeItems(listkey);&#125; ä½¿ç”¨çš„æ—¶å€™åªéœ€è¦åˆ›å»ºå¯¹è±¡ï¼Œç„¶ååœ¨éœ€è¦çš„åœ°æ–¹è°ƒç”¨å³å¯ã€‚ä½¿ç”¨èµ·æ¥ç®€å•åˆæ–¹ä¾¿ï¼Œå†åŠ ä¸Šä¼˜åŒ–ä¹‹åçš„æƒ…å†µç”šè‡³å¯ä»¥å½“æˆå®¢æˆ·ç«¯çš„redisæ¥ä½¿ç”¨ã€‚1234567891011121314151617//åˆå§‹åŒ–æ•°æ®åº“let db=new JSDB(); //æ·»åŠ ä¸€ä¸ªè‡ªå®šä¹‰æ•°æ®db.add(&#123;name:\"test\",key:\"abc\"&#125;); //æ ¹æ®idè·å–æ•°æ®db.getById(\"1223467890\"); //æ ¹æ®æ¡ä»¶æŸ¥è¯¢æ•°æ®db.get(d=&gt;d.name===\"test\"); //åˆ é™¤å¯¹åº”çš„æ•°æ®db.delete(\"1223467890\"); //æƒ…å†µæ‰€æœ‰æ•°æ®db.clear() ä¼˜åŒ–åˆ›å»ºé¦–å…ˆè¦ä¼˜åŒ–çš„å°±æ˜¯å¯¹è±¡çš„åˆ›å»ºã€‚æ¯ä¸ªå¯¹è±¡åˆ›å»ºå…¶å®éƒ½æ˜¯ä¸€ä¸ªå¾ˆå¤§çš„æ¶ˆè€—ï¼Œå¦‚æœèƒ½æŠŠè¿™ä¸ªæ¶ˆè€—é™ä½å²‚ä¸æ˜¯ç¾æ»‹æ»‹ï¼ è¿™é‡Œæˆ‘ä»¬å€Ÿé‰´æ•°æ®åº“æ± çš„æ¦‚å¿µï¼Œå®ç°ä¸€ä¸ªå¯¹è±¡æ± çš„æ–¹æ³•ã€‚åœ¨å¯¹è±¡åˆ›å»ºä¹‹åå¹¶æ²¡æœ‰ç›´æ¥è¿”å›ï¼Œè¦åœ¨ç»è¿‡æ± çš„æ“ä½œã€‚ å°†å¯¹è±¡æ”¾å…¥æ± å†…ï¼Œå¹¶åœ¨é¡µé¢é”€æ¯çš„æ—¶å€™é‡ç½®ä¸ºä¸€ä¸ªç©ºå¯¹è±¡ã€‚ä¸‹æ¬¡è¯·æ±‚åˆ›å»ºçš„æ—¶å€™å°±ä¸å¿…å†åˆ›å»ºæ–°çš„äº†ã€‚ç›´æ¥èµ‹å€¼è¡¨ã€åº“çš„åç§°å°±å¯ä»¥ä½¿ç”¨äº†ã€‚å†…å­˜æ¯«æ— å˜åŒ–ï¼Œå¹¶ä¸”æœ‰ç‚¹æƒ³ç¬‘ã€‚ ä¼˜åŒ–æŸ¥è¯¢æ¯æ¬¡æŸ¥è¯¢éƒ½éœ€è¦å»è¯»Stroageè¿˜æ˜¯å¾ˆéº»çƒ¦çš„ï¼Œå°¤å…¶è¿™ä¸ªæ“ä½œæ˜¯å¼‚æ­¥æ“ä½œï¼Œæ˜¯éœ€è¦å‘æ¶ˆæ¯åˆ°nativeç«¯çš„ã€‚ æˆ‘ä»¬å¯ä»¥å°†ä¸Šæ¬¡è¯»å–çš„æ•°æ®å…ˆå­˜åœ¨ä¸€ä¸ªå˜é‡ä¸­ï¼Œå¦‚æœä¸‹æ¬¡è¿˜éœ€è¦ä½¿ç”¨è¿™è¡Œæ•°æ®ï¼Œå°±å®Œå…¨ä¸éœ€è¦å†å»è¯»å–äº†ã€‚è¿™æ ·å°±å¯ä»¥å¾ˆç®€å•çš„æä¾›è¯»å–é€Ÿåº¦ã€‚12345678910111213141516171819//æŒ‰ç…§ä½¿ç”¨æƒ…å†µä¿å­˜æ•°æ®åˆ°ç¼“å­˜async getById(id) &#123; if (!id) return &#123;&#125;; id = this.tableKey + \"_\" + id; //å¦‚æœæœ‰ç¼“å­˜ if (this.cacheList.has(id)) &#123; let tmp = this.cacheList.get(id); //å¦‚æœè¿‡é‡äº† if (this.cacheKeyList.length &gt; 20) &#123; this.cacheKeyList.push(id); let k = this.cacheKeyList.shift(); this.cacheList.delete(k); &#125; return tmp; &#125; this.cacheKeyList.push(id); this.cacheList.set(tmp); return await getItem(id);&#125; è¿™ä¸ªæ–¹å¼è¿˜å¯ä»¥ç»§ç»­ä¼˜åŒ–ã€‚å°†å˜é‡ä¸­ä¿å­˜çš„æ•°æ®é™åˆ¶æ•°é‡ï¼Œé˜²æ­¢æ•°é‡å¤ªå¤šè¶…è¿‡äº†APPçš„é™åˆ¶ã€‚è¿˜å¯ä»¥å°†è¿™ä¸ªä¿å­˜çš„æ—¶é™åšä¸€ä¸ªé€»è¾‘åˆ¤æ–­ï¼Œå¸¸ä½¿ç”¨çš„æ•°æ®æ”¾åœ¨é‡Œé¢ï¼Œä¸å¸¸ç”¨çš„å°±æ‰¾æœºä¼šåˆ é™¤ã€‚ ä½¿ç”¨è¿™ç§æ–¹å¼ä¹Ÿå¯ä»¥ä¼˜åŒ–å˜é‡ä¸­æ•°æ®çš„æœ‰æ•ˆæ€§ï¼Œå‡å°‘å˜é‡å ç”¨å†…å­˜çš„å¤§å°ã€‚ä¸è¿‡å®ç°çš„æ–¹å¼å°½é‡ä¸è¦ä½¿ç”¨å®šæ—¶å™¨çš„å½¢å¼ï¼Œå¯ä»¥è€ƒè™‘ä½¿ç”¨è§¦å‘å¼çš„ã€‚åœ¨æ¡ä»¶æ»¡è¶³çš„æ—¶å€™å†è§¦å‘åˆ é™¤åŠ¨ä½œã€‚ ä¼˜åŒ–å†™å…¥ä¸Šé¢æåˆ°è¯»å–çš„æ—¶å€™éœ€è¦æ”¾å…¥å˜é‡æ¥æé«˜è¯»å–é€Ÿåº¦ã€‚æˆ‘ä»¬é¡ºä¾¿æƒ³åˆ°å†™å…¥çš„é€Ÿåº¦æ˜¯ä¸æ˜¯ä¹Ÿå¯ä»¥æé«˜å•Šï¼Ÿ æˆ‘ä»¬å°†è¦å­˜çš„æ•°æ®æ”¾åœ¨ä¸´æ—¶çš„å˜é‡é‡Œï¼Œå¦‚æœæŸ¥è¿‡æˆ‘ä»¬è®¾ç½®çš„æ—¶é—´æˆ–è€…æ•°æ®é•¿åº¦æŸ¥è¿‡æˆ‘ä»¬è®¾ç½®çš„æ•°é‡å°±è§¦å‘ä¸€æ¬¡ä¿å­˜æ“ä½œã€‚ è¿™é‡Œè¦æ³¨æ„ï¼Œä¿å­˜æ•°æ®çš„å˜é‡å’Œå­˜å…¥æ—¶å€™ä½¿ç”¨çš„å˜é‡è¦äº¤æ›¿ä½¿ç”¨ï¼Œé˜²æ­¢å‡ºç°ä¸¢æ•°æ®çš„æƒ…å†µã€‚ æ¯”å¦‚ï¼šå­˜çš„æ—¶å€™ä½¿ç”¨å˜é‡1ï¼Œåœ¨å†™åˆ°æ•°æ®åº“ä¹‹å‰ï¼Œå°†è¦å­˜çš„å¯¹è±¡æ”¹æˆå˜é‡2ï¼Œç„¶åè¯»å–å˜é‡1çš„æ•°æ®å¹¶å­˜å…¥æ•°æ®åº“ä¸­ã€‚è¿™å°±æ˜¯åŒç¼“å­˜å†™å…¥ã€‚ å½“ç„¶è¿˜æ˜¯è¦åˆ¤æ–­ä¸€æ¬¡APPçš„é€€å‡ºäº‹ä»¶çš„ï¼Œå¦‚æœAPPé€€å‡ºäº†ï¼Œè¯·ä¸€å®šè¦æŠŠå˜é‡ä¸­çš„å†…å®¹ä¿å­˜ä¸€æ¬¡ï¼Œä¸ç„¶ä½ çš„å¿ƒè¡€å°±å…¨ä¸¢äº†ã€‚ æ³¨æ„å†™å…¥è¦å’Œä¸Šé¢çš„è¯»å–ç»“åˆèµ·æ¥ï¼Œä¸ç„¶å°±ä¼šå‘ç°å†™å…¥çš„æ•°æ®ä¼šæœ‰ä¸€ä¸ªå¾ˆå¤§çš„å»¶è¿Ÿã€‚123456789101112131415161718192021 //æ·»åŠ å’Œæ›´æ–°async add(data = &#123;&#125;) &#123; if (data.constructor !== Object) return; data._id = uuid(); const key = this.tableKey + \"_\" + data._id this.writeList.set(key, data); this.write(); //this.read(); return data;&#125;//å†™å…¥çš„å®ç°,nowç«‹é©¬å†™å…¥write(now = false) &#123; if (now || this.writeList.size &gt; 20) &#123; let tmp = this.writeList; this.writeList = this.backWriteList; this.backWriteList = tmp; this.backWriteList.forEach((v, k) =&gt; &#123; setItem(k, v); &#125;) &#125;&#125; å¥½äº†ï¼Œä¸€ä¸ªç®€å•çš„æ•°æ®åº“å°±å®Œæˆäº†ã€‚æƒ³è¦ä½¿ç”¨çš„å¯ä»¥å…ˆåœ¨npmä¸Šæœç´¢react-native-jsdbè¿™ä¸ªåº“ã€‚æˆ‘å·²ç»å°†ç¬¬ä¸€éƒ¨åˆ†å®ç°æ”¾åœ¨äº†npmä¸Šï¼Œåç»­çš„ä¼˜åŒ–ä¹Ÿä¼šæ»¡æ»¡çš„å¼€æºå‡ºæ¥çš„ã€‚ npmä»“åº“åœ°å€","categories":[{"name":"å‰ç«¯","slug":"big-front-end","permalink":"http://www.guofangchao.com/categories/big-front-end/"}],"tags":[{"name":"react-native","slug":"react-native","permalink":"http://www.guofangchao.com/tags/react-native/"},{"name":"database","slug":"database","permalink":"http://www.guofangchao.com/tags/database/"}],"keywords":[{"name":"å‰ç«¯","slug":"big-front-end","permalink":"http://www.guofangchao.com/categories/big-front-end/"}]},{"title":"RNçš„ç¼“å­˜ç­–ç•¥æ¢ç´¢","slug":"appç¼“å­˜ç­–ç•¥æ¢ç´¢","date":"2018-03-28T11:26:00.000Z","updated":"2018-03-28T11:33:17.961Z","comments":true,"path":"2018/03/28/appç¼“å­˜ç­–ç•¥æ¢ç´¢/","link":"","permalink":"http://www.guofangchao.com/2018/03/28/appç¼“å­˜ç­–ç•¥æ¢ç´¢/","excerpt":"","text":"æœ€è¿‘ä½¿ç”¨RNåšAPPï¼Œæ—¶é—´é•¿äº†æ€»æ˜¯è§‰å¾—æ¥å£è¯·æ±‚æ˜¯åœ¨å¤ªé¢‘ç¹ã€‚é‚æƒ³åˆ°ï¼Œä¸å¦‚ç»™æ¥å£åšä¸ªç¼“å­˜å§ã€‚ è¿™é‡Œç”³æ˜ä¸€ä¸‹ï¼Œæˆ‘æ˜¯ä»å‰ç«¯å¼€å§‹æ¥è§¦RNï¼Œç„¶ååˆ°APPçš„ã€‚å¯¹äºAPPåŸæœ¬æ˜¯ä½¿ç”¨ä»€ä¹ˆæ ·çš„ç¼“å­˜ç­–ç•¥è¿˜çœŸçš„æ²¡æœ‰å»æ·±å…¥äº†è§£ã€‚è¿™é‡Œæœ¬ç€å°†å‰ç«¯çš„æ€æƒ³å¸¦å…¥APPçš„åŸåˆ™æ¥æ¢è®¨ä¸€ä¸‹ä½¿ç”¨RNæ¥åšæ¥å£éƒ¨åˆ†çš„ç¼“å­˜ç­–ç•¥ã€‚ æœåŠ¡å™¨æ¥å£ç¼“å­˜æœ€å¼€å§‹çš„æ—¶å€™åªæ˜¯å¸Œæœ›å‡è½»æœåŠ¡å™¨å‹åŠ›ï¼Œå‡å°‘ä¸å¿…è¦çš„è®¡ç®—è¿‡ç¨‹ã€‚æ¯”å¦‚ç”¨æˆ·æ•°æ®æ²¡å˜åŒ–çš„æ—¶å€™å°±ä¸éœ€è¦å»è®¡ç®—ç”¨æˆ·çš„å„ç§æ•°æ®ï¼Œç›´æ¥ä½¿ç”¨ç¼“å­˜å°±å¥½äº†ã€‚ è¿™é‡Œå°†æœåŠ¡å™¨çš„æ¥å£è¿”å›æ•°æ®æ ¹æ®ç­–ç•¥ç¼“å­˜åœ¨redisä¸­ï¼Œç„¶åæ ¹æ®ä¸Šæ¬¡æ›´æ–°ä¹‹åçš„æ—¶é—´æˆ³æ¥åˆ¤æ–­æ˜¯å¦éœ€è¦é‡æ–°è®¡ç®—ç¼“å­˜ä¸­çš„æ•°æ®ã€‚ æœ‰äººå¯èƒ½å¼€å§‹è´¨ç–‘ã€‚è¿™ä¸ªæ•°æ®æœ¬æ¥å°±æ˜¯æ”¾åœ¨ç¼“å­˜ä¸­çš„ï¼Œå°¤å…¶æ˜¯ç”¨æˆ·æ•°æ®ï¼Œæ ¹æœ¬ä¸å¯èƒ½å®æ—¶å»è®¡ç®—ã€‚è¿™é‡Œç¨å¾®è¯´ä¸€ä¸‹è¿™ä¸ªæ–¹æ¡ˆçš„èƒŒæ™¯ã€‚ åç«¯è®¡ç®—å’Œæ›´æ–°çš„æ•°æ®å…¶å®å·²ç»å­˜åœ¨åœ¨redisä¸­äº†ï¼Œä½†æ˜¯åœ¨ä¸šåŠ¡æ¯”è¾ƒå¤æ‚çš„æƒ…å†µä¸‹ï¼Œæœ‰äº›æ•°æ®å…¶å®è¿˜æ˜¯éœ€è¦å»è·å–çš„ã€‚è¿™é‡Œçš„ç¼“å­˜å…¶å®ç±»ä¼¼äºä¸€ä¸ªhttpçš„ç¼“å­˜ã€‚å®ƒçš„æœ¬æ„åªæ˜¯ä¸ºäº†ç¼“å­˜æœ€ç»ˆæ¥å£éœ€è¦è¿”å›çš„æ•°æ®ã€‚è¿™é‡Œä½¿ç”¨rediså»å­˜å‚¨æœ¬æ¥åªæ˜¯ä¸€ä¸ªè¿‡åº¦æ–¹æ¡ˆã€‚æ‰“ç®—ä½¿ç”¨è¿™ä¸ªæ–¹æ¡ˆçš„åŒå­¦å¯ä»¥å»å…³æ³¨ä¸€ä¸‹varnishï¼Œè¿™ä¸ªæ‰æ˜¯çœŸæ­£çš„httpç¼“å­˜ã€‚ ä½¿ç”¨APPç¼“å­˜è¿™ä¸ªé˜¶æ®µå…¶å®æ‰å¼€å§‹ç®—çœŸæ­£çš„ç¼“å­˜ã€‚ APPç«¯ä¼šæŠŠç¬¬ä¸€æ¬¡ä»æ¥å£è·å–åˆ°çš„æ•°æ®ç¼“å­˜åœ¨æœ¬åœ°ï¼Œå¹¶ä¸”è¿”å›æ¥å£çš„æ—¶é—´æˆ³ã€‚å½“ä¸‹ä¸€æ¬¡è¯·æ±‚çš„æ—¶å€™ç›´æ¥å¸¦ä¸Šè¿™ä¸ªæ—¶é—´æˆ³å»è¯·æ±‚ã€‚ æœåŠ¡å™¨æ ¹æ®è¿™ä¸ªæ—¶é—´æˆ³å»åˆ¤æ–­æ¥å£æ˜¯å¦æœ‰æ›´æ–°ï¼Œæˆ–è€…ä¹Ÿå¯ä»¥å®šä¸€ä¸ªå›ºå®šçš„æ—¶é—´ã€‚åœ¨è¿™ä¸ªæ—¶é—´æ®µå†…é»˜è®¤ç¼“å­˜ä¸è¿‡æœŸã€‚æœåŠ¡å™¨è¿”å›304è¿™æ ·çš„http codeã€‚APPæ ¹æ®è¿™ä¸ªcodeåˆ¤æ–­ç¼“å­˜æœªè¿‡æœŸï¼Œç›´æ¥ä½¿ç”¨æœ¬åœ°ç¼“å­˜çš„æ¥å£ä¿¡æ¯ã€‚ è¿™æ ·æœ‰å¾ˆå¤šå¥½å¤„ï¼š å‡å°‘ä¸å¿…è¦çš„è®¡ç®— å…³é”®æ—¶åˆ»å¯ä»¥ç«‹é©¬æ›´æ–°æ¥å£æ•°æ®ï¼Œç”šè‡³å¯ä»¥ç°åº¦æ›´æ–°æŸäº›åœ°åŒºçš„ã€ipçš„ç”¨æˆ·ç¼“å­˜ ä¸è¿”å›å¤§å—çš„æ•°æ®ï¼ŒåŠ é€Ÿäº†è¯·æ±‚é€Ÿåº¦ å¦‚æœé‡åˆ°ç½‘ç»œé”™è¯¯ï¼Œå¯ä»¥ç›´æ¥ä½¿ç”¨ç¼“å­˜çš„ä¿¡æ¯ã€‚ç›¸å½“äºç¦»çº¿APP ä½¿ç”¨æ¥å£hashå°†æ¥å£è¿”å›çš„æ•°æ®çœ‹è¿‡ä¸€æ®µå›ºå®šçš„å­—ç¬¦ä¸²ï¼Œæ¯æ¬¡éƒ½è®¡ç®—å­—ç¬¦ä¸²çš„hashå€¼ã€‚è¿™æ ·å¯ä»¥æ›´åŠ æ–¹ä¾¿çš„åˆ¤æ–­æ¥å£è¿”å›æ•°æ®æ˜¯å¦éœ€è¦æ›´æ–°ã€‚ åœ¨ä¸Šä¸€æ­¥çš„ç­–ç•¥ä¸­ï¼Œæ¥å£è¿”å›çš„æ•°æ®æ ¹æ®æ—¶é—´æˆ³å…¶å®æ˜¯æ ¹æ®æ¥å£æ›´æ–°çš„æ—¶é—´æ¥å®šçš„ã€‚åŠ å…¥æ¥å£æ›´æ–°äº†ï¼Œä½†æ˜¯æ•°æ®å¹¶æ²¡æœ‰å˜åŒ–ï¼Œè¿™ä¸ªæ—¶å€™å°±ä¼šäº§ç”Ÿä¸€æ¬¡é¢å¤–çš„è¯·æ±‚ã€‚ç”¨æˆ·å¤šçš„æ—¶å€™ä¹Ÿæ˜¯ä¸€ä¸ªéå¸¸æµé‡çš„æ“ä½œã€‚ å¦‚æœä½¿ç”¨hashæ¥åˆ¤æ–­æ¥å£æ˜¯å¦éœ€è¦æ›´æ–°ï¼Œè¿™æ ·å°±å¯ä»¥ç›´æ¥å…å»äº†è¿™ç§æ— ç”¨çš„æ›´æ–°æ“ä½œã€‚ç›¸æ¯”ä¸Šä¸€ä¸ªç‰ˆæœ¬æ›´åŠ çš„é«˜æ•ˆã€‚ä¸è¿‡æœåŠ¡ç«¯è®¡ç®—hashè®©æ•´ä¸ªé¡¹ç›®çš„å¤æ‚åº¦åˆé«˜äº†ä¸å°‘ã€‚è¿™ä¸ªå°±è¦è€ƒè™‘è¿™æ ·åšæ˜¯å¦å€¼å¾—äº†ã€‚ å¦‚æœåŸæœ‰çš„æ›´æ–°ç­–ç•¥å·²ç»å®Œæˆäº†ã€‚æ¯”å¦‚åˆ·æ–°redisçš„ç­–ç•¥å·²ç»åšå®Œäº†ã€‚å…¶å®è¿™ä¸ªæ—¶å€™å°†redisä¸­çš„æ•°æ®åšä¸€æ¬¡hashä¹Ÿä¸è´¹äº‹ï¼Œè¿™æ ·ä¹Ÿå¯ä»¥éå¸¸ç®€å•çš„å°†ç¼“å­˜ç­–ç•¥å‡çº§ã€‚ ä½¿ç”¨APPè¿‡æœŸç­–ç•¥è¿™é‡Œå†æå‡ºä¸€ä¸ªæ›´åŠ æ¿€è¿›çš„ç­–ç•¥ã€‚å‡å¦‚æŸäº›æ¥å£çš„æ›´æ–°é€Ÿåº¦éå¸¸æ…¢ï¼Œæˆ‘å«è¿™äº›æ¥å£é™æ€æ¥å£ã€‚é‚£ä¹ˆæ¯æ¬¡çš„304è¯·æ±‚æ˜¯ä¸æ˜¯éå¸¸å¤šä½™ï¼Ÿ è¿™é‡Œå°±å°†è¿™ç§æ¥å£è®¾ç½®ä¸€ä¸ªå›ºå®šçš„è¿‡æœŸæ—¶é—´ã€‚åœ¨è¿™ä¸ªè¿‡æœŸæ—¶é—´å†…ï¼Œæ¯æ¬¡è¯·æ±‚æ¥å£éƒ½ä¼šä½¿ç”¨æœ¬åœ°ç¼“å­˜ï¼Œç›´åˆ°è¿‡æœŸä¹‹åé‡‡å–è¯·æ±‚è¿œç¨‹æ¥å£ã€‚ æœ‰äººæå‡ºè¯´ï¼Œè¿™ç§ç­–ç•¥åœ¨åç«¯æœ‰æ›´æ–°çš„æ—¶å€™ä¸èƒ½å³æ—¶çš„æ›´æ–°æ•°æ®ã€‚åˆ«ç€æ€¥ï¼Œæ›´æ–°æ•°æ®ä¹Ÿå¯ä»¥éå¸¸åŠæ—¶ã€‚ åœ¨æ‰€æœ‰æ¥å£ä¹‹åï¼Œåœ¨æ–°å¢ä¸€ä¸ªæœ¬åœ°ç¼“å­˜ç­–ç•¥æ¥å£ã€‚å°†ä¸Šè¿°å‡ ä¸ªæ¥å£çš„çŠ¶æ€æ”¾åœ¨è¿™é‡Œã€‚æ¯æ¬¡éƒ½è¯·æ±‚åç«¯æ¥å£ï¼Œè®©åç«¯æ¥åˆ¤æ–­è¿™ä¸ªæ¥å£æ˜¯å¦éœ€è¦æ›´æ–°ã€‚æ¯”å¦‚ï¼šè¯·æ±‚hashï¼Œå¦‚æœéœ€è¦æ›´æ–°å°±è¿”å›æœ€æ–°çŠ¶æ€ï¼Œä¸éœ€è¦æ›´æ–°å°±ä¸è¿”å›æ•°æ®ã€‚ å…¶ä»–çš„é™æ€æ¥å£åœ¨è¯·æ±‚ä¹‹å‰éƒ½ä¼šä½¿ç”¨è¿™ä¸ªçŠ¶æ€æ¯”è¾ƒä¸€æ¬¡ã€‚å¦‚æœéœ€è¦æ›´æ–°å°±å‘è¯·æ±‚ï¼Œä¸éœ€è¦æ›´æ–°å°±ä½¿ç”¨æœ¬åœ°ç¼“å­˜ã€‚è¿™æ ·å°±å®Œç¾çš„è§£å†³äº†æ¥å£ç¼“å­˜çš„é—®é¢˜ã€‚ä»ä¸€ä¸ªæ¯æ¬¡éƒ½è¦è¯·æ±‚æ¥å£å˜æˆäº†éƒ¨åˆ†æ¥å£å¿«é€Ÿè¿”å›304ï¼Œéƒ¨åˆ†æ¥å£ä¸è¯·æ±‚ã€‚ RNå¼€å‘çš„APPå¯ä»¥éå¸¸å¿«çš„å‘å¸ƒç‰ˆæœ¬ï¼ˆçƒ­æ›´æ–°ï¼‰ï¼ŒåŒæ—¶å¼€å‘çš„æ—¶å€™ç”±äºjsçš„åŸå› ä¹Ÿä¼šéå¸¸çš„çµæ´»ã€‚è¿™ä¸ªæ—¶å€™ä½¿ç”¨ä¸Šé¢çš„ç¼“å­˜ç­–ç•¥ä¼šæ›´åŠ ç®€å•æ–¹ä¾¿ã€‚ é€šè¿‡ä¸Šè¿°å‡ ä¸ªç­–ç•¥å°±å¯ä»¥å‡å°‘éå¸¸å¤šçš„æ— ç”¨è¯·æ±‚ã€‚æ¯”å¦‚åç«¯çš„çƒ­é…ç½®ä¿¡æ¯ï¼Œå¾ˆå¤šæ—¶å€™å…¶å®æ²¡æœ‰æ”¹åŠ¨ï¼Œå®Œå…¨å¯ä»¥ä½¿ç”¨é™æ€æ¥å£çš„ç­–ç•¥ã€‚ è¿›å…¥APPçš„æ—¶å€™ä¹Ÿå¯ä»¥å…ˆä½¿ç”¨æ—§çš„æ•°æ®å±•ç¤ºåˆ—è¡¨ï¼Œç„¶åä¼ºæœºæ›´æ–°ã€‚å½“ç„¶è¯¦æƒ…ä¹Ÿå’Œè¿‡æœŸä¸‹æ¶çš„äº§å“è¿˜æ˜¯è¦å³æ—¶çš„æ’é™¤æ‰çš„ã€‚","categories":[{"name":"å‰ç«¯","slug":"big-front-end","permalink":"http://www.guofangchao.com/categories/big-front-end/"}],"tags":[{"name":"react-native","slug":"react-native","permalink":"http://www.guofangchao.com/tags/react-native/"},{"name":"app","slug":"app","permalink":"http://www.guofangchao.com/tags/app/"}],"keywords":[{"name":"å‰ç«¯","slug":"big-front-end","permalink":"http://www.guofangchao.com/categories/big-front-end/"}]},{"title":"ä¿®æ”¹centosçš„æ¬¢è¿ç•Œé¢","slug":"ä¿®æ”¹centosçš„æ¬¢è¿ç•Œé¢","date":"2018-03-28T04:34:00.000Z","updated":"2018-03-28T04:34:37.488Z","comments":true,"path":"2018/03/28/ä¿®æ”¹centosçš„æ¬¢è¿ç•Œé¢/","link":"","permalink":"http://www.guofangchao.com/2018/03/28/ä¿®æ”¹centosçš„æ¬¢è¿ç•Œé¢/","excerpt":"","text":"123456789101112131415161718192021 * , _/^\\_ &lt; &gt;* /.-.\\ * * `/&amp;\\` * ,@.*;@, /_o.I %_\\ * * (`&apos;--:o(_@; /`;--.,__ `&apos;) * ;@`o % O,*`&apos;`&amp;\\ * (`&apos;--)_@ ;o %&apos;()\\ * /`;--._`&apos;&apos;--._O&apos;@; /&amp;*,()~o`;-.,_ `&quot;&quot;`)* /`,@ ;+&amp; () o*`;-&apos;;\\ (`&quot;&quot;--.,_0o*`;-&apos; &amp;()\\ /-.,_ ``&apos;&apos;--....-&apos;`) * * /@%;o`:;&apos;--,.__ __.&apos;\\ ;*,&amp;(); @ % &amp;^;~`&quot;`o;@(); * /(éƒ­æ–¹è¶…çš„ æŠ€æœ¯åšå®¢ ç©ºé—´\\ `&quot;=&quot;==&quot;&quot;==,,,.,=&quot;==&quot;===&quot;` __.----.---&apos;&apos;#####---...___...-----._ å¦‚æœä½ çš„æœåŠ¡å™¨å·²ç™»å½•å°±æç¤ºä¸Šé¢çš„è¿™ä¸€æ®µä¿¡æ¯æ˜¯ä¸æ˜¯å¾ˆæ¼‚äº®å•Šã€‚å¦‚æœä½ è¿˜ä¸çŸ¥é“æ€ä¹ˆè®¾ç½®å°±æ¥çœ‹çœ‹ä¸‹é¢çš„æ•™ç¨‹å§ã€‚ è¿™æ®µä¿¡æ¯å…¶å®å­˜å‚¨åœ¨æœåŠ¡å™¨çš„etcç›®å½•ä¸‹:/etc/motdã€‚åªè¦ä½¿ç”¨vimæ‰“å¼€å³å¯çœ‹åˆ°é»˜è®¤çš„ä¸€æ®µä¿¡æ¯ã€‚å¦‚æœä½ çš„æœåŠ¡å™¨æ˜¯é˜¿é‡Œäº‘ï¼Œé»˜è®¤çš„æ˜¯ä½ çš„æœåŠ¡å™¨åå­—ç­‰ç®€å•çš„ä¸€æ®µä¿¡æ¯ã€‚ç™»å½•çš„æ—¶å€™ä¹Ÿéå¸¸æ²¡æœ‰è¶£å‘³ã€‚ æç¤º:å¯ä»¥ä½¿ç”¨ä¸€ç‚¹é¢œè‰²,è®©æ˜¾ç¤ºæ›´æœ‰è¶£ ä¹Ÿå¯ä»¥ä¿®æ”¹è„šæœ¬,å½“ç”¨æˆ·ç™»å½•çš„æ—¶å€™æ˜¾ç¤ºç”¨æˆ·çš„ä¿¡æ¯ã€‚æ¯”å¦‚ä¿®æ”¹rootä¸‹çš„è„šæœ¬ã€‚vi /root/.bash_profile è¿™é‡Œå°±éå¸¸éšæ„äº†ï¼Œç›´æ¥åœ¨æœ€åé¢åŠ echoè¾“å‡ºå³å¯ã€‚ä¹Ÿå¯ä»¥ä½¿ç”¨å˜é‡è¾“å‡ºè¯¸å¦‚ç£ç›˜ç”¨é‡ç­‰ä¿¡æ¯ã€‚12echo -e &quot;\\e[1;34mThis is a blue text.\\e[0m&quot;echo df","categories":[{"name":"æœåŠ¡å™¨","slug":"æœåŠ¡å™¨","permalink":"http://www.guofangchao.com/categories/æœåŠ¡å™¨/"}],"tags":[{"name":"æœåŠ¡å™¨","slug":"æœåŠ¡å™¨","permalink":"http://www.guofangchao.com/tags/æœåŠ¡å™¨/"}],"keywords":[{"name":"æœåŠ¡å™¨","slug":"æœåŠ¡å™¨","permalink":"http://www.guofangchao.com/categories/æœåŠ¡å™¨/"}]},{"title":"å‰ç«¯å¦‚ä½•æ‹¥æœ‰è‡ªå·±çš„æœåŠ¡å™¨","slug":"å‰ç«¯å¦‚ä½•æ‹¥æœ‰è‡ªå·±çš„æœåŠ¡å™¨","date":"2018-03-28T04:00:00.000Z","updated":"2018-03-28T04:00:39.414Z","comments":true,"path":"2018/03/28/å‰ç«¯å¦‚ä½•æ‹¥æœ‰è‡ªå·±çš„æœåŠ¡å™¨/","link":"","permalink":"http://www.guofangchao.com/2018/03/28/å‰ç«¯å¦‚ä½•æ‹¥æœ‰è‡ªå·±çš„æœåŠ¡å™¨/","excerpt":"","text":"å‰è¨€ä½œä¸ºå‰ç«¯å¼€å‘è€…ä¸€ç›´éƒ½åœ¨å…³æ³¨æµè§ˆå™¨çš„è¡Œä¸ºã€è¡¨ç°ã€‚ä½†æ˜¯æ—¶é—´é•¿äº†å…ä¸äº†è¦æ¥è§¦åˆ°åç«¯çš„çŸ¥è¯†ã€æœåŠ¡å™¨çš„çŸ¥è¯†ã€‚å°¤å…¶æ˜¯åœ¨å‰ç«¯æŠ€æœ¯çˆ†å‘å¼å‘å±•çš„å½“ä¸‹ï¼Œå‰ç«¯æ…¢æ…¢çš„æ¸—é€åˆ°äº†æ›´å¤šçš„é¢†åŸŸã€‚æ¯”å¦‚ï¼Œä½¿ç”¨ express/koa åˆ›å»º http æœåŠ¡ï¼Œä½¿ç”¨React-Nativeå¼€å‘Androidå’ŒIOSé€šç”¨çš„APPï¼Œç”šè‡³ä½¿ç”¨nodeå¼€å‘ç³»ç»Ÿã€åµŒå…¥å¼ç¨‹åºç­‰ã€‚è¿™ä¸ªæ—¶å€™ï¼Œæˆ‘çš„å†…å¿ƒå¼€å§‹è ¢è ¢æ¬²åŠ¨ï¼Œæˆ‘ä»¬èƒ½åšçš„ä¸ä»…ä»…æ˜¯ç½‘é¡µã€‚ é¦–å…ˆï¼Œæˆ‘éœ€è¦ä¸€å°æœåŠ¡å™¨ã€‚ä¸Šé¢æœ‰æˆ‘éœ€è¦çš„å„ç§æœ‰ç”¨çš„åº“ï¼Œæ¯å½“æˆ‘æœ‰æ–°çš„æƒ³æ³•éœ€è¦å®è·µçš„æ—¶å€™æˆ‘å°±æ‹¿å‡ºæ¥æä¸€æ³¢ï¼Œç®€å•å¿«é€Ÿæˆå‹ã€‚æˆ‘ä¸å¿…ä¾èµ–åç«¯åŒäº‹ï¼Œæˆ‘ä¹Ÿä¸æƒ³å ç”¨å…¬å¸çš„èµ„æºï¼Œå“ªæ€•æ˜¯åˆ›ä¸šæˆ–è€…æˆ‘æƒ³å¼€å‘è‡ªå·±çš„è½¯ä»¶/åº“ï¼Œæˆ‘ä¹Ÿä¸ä¼šæœ‰ä»»ä½•çš„é—®é¢˜ã€‚ æ¥çœ‹è¿™ç¯‡æ–‡ç« çš„åŒå­¦æƒ³å¿…éƒ½æ˜¯éœ€è¦è¿™ä¹ˆä¸€ä¸ªæœåŠ¡å™¨çš„ï¼Œåˆšå¼€å§‹å­¦ä¹ çš„æ—¶å€™ï¼Œæˆ‘ä¸å»ºè®®å¤§å®¶ä½¿ç”¨å¤æ‚çš„ç¯å¢ƒï¼Œè¿™ä¸ªä¼šå¸¦æ¥å¤§é‡çš„è°ƒè¯•æˆæœ¬ï¼ŒåŒæ—¶é¡µä¼šé‡åˆ°å¾ˆå¤šä¸å¯é¢„çŸ¥çš„é”™è¯¯ï¼Œè¿™é‡Œæˆ‘æ¨èä½¿ç”¨äº‘æœåŠ¡å™¨ï¼ˆå…¶ä»–åŒå­¦å¯ä»¥ä½¿ç”¨è™šæ‹Ÿæœºï¼Œæ•ˆæœä¹Ÿå¯ä»¥ï¼‰ï¼Œå¤§å®¶æ ¹æ®æˆ‘çš„æ•™ç¨‹å°±å¯ä»¥è½»æ¾æ„‰å¿«çš„åˆ›å»ºä¸€ä¸ªå®Œæ•´çš„æœåŠ¡å™¨ã€‚ å‡†å¤‡æˆ‘éœ€è¦ä»¥ä¸‹è¿™äº›æ¥å®Œæˆåé¢çš„å·¥ä½œã€‚ 1.ä¸€ä¸ªåŸŸåï¼šä¸‹é¢å°†è®²è§£ä½¿ç”¨ Nginx ç®¡ç†è‡ªå·±çš„å„ä¸ªæœåŠ¡ï¼Œä¸€ä¸ªåŸŸåæ˜¯å¿…ä¸å¯å°‘çš„ï¼Œå¦‚æœä½ ç»å¸¸ä½¿ç”¨åŸŸåé‚£å°±æ›´å¥½äº†ã€‚2.ä¸€å°LinuxæœåŠ¡å™¨ï¼šè¿™ç¯‡æ–‡ç« ä¸»è¦åœ¨ Linux ä¸Šåšå„ç§å¼€å‘ï¼ŒWindow çš„æ²¡æœ‰ä»€ä¹ˆéš¾åº¦ï¼Œç½‘ä¸Šä¹Ÿæœ‰å¾ˆå¤šæ•™ç¨‹ï¼Œè¿™é‡Œå°±ä¸ä»‹ç»äº†ã€‚ä½œä¸ºä¸€ä¸ªæœåŠ¡å™¨æ€ä¹ˆèƒ½ç”¨ Windows å‘¢?3.å¦‚æœä½¿ç”¨ Windows ç”µè„‘åšä¸ªäººç”µè„‘ï¼Œæˆ‘è¿™é‡Œæ¨èå¤§å®¶å®‰è£…ä¸€ä¸ª xshell åšä¸ºè¿æ¥æœåŠ¡å™¨çš„å·¥å…·ï¼Œè¿™ä¸ªè½¯ä»¶éå¸¸å¥½ç”¨ï¼Œå…¶ä»–è¯¸å¦‚ Mac/Ubuntu çš„è¯·ä½¿ç”¨ç”µè„‘è‡ªå¸¦çš„ç»ˆç«¯ã€‚ åˆ›å»ºè‡ªå·±çš„æœåŠ¡å™¨ä½¿ç”¨äº‘æœåŠ¡å™¨æˆ‘è¿™é‡Œæ¨èä½¿ç”¨äº‘æœåŠ¡å™¨ï¼Œç›¸æ¯”ä½¿ç”¨è‡ªå·±çš„æœåŠ¡å™¨ï¼Œäº‘æœåŠ¡å™¨æœ‰å¾ˆå¤šæ–¹ä¾¿çš„åœ°æ–¹ï¼Œè€Œä¸”äº‘æœåŠ¡å™¨æä¾›ä¸€ä¸ªä¸€å‘¨çš„è¯•ç”¨ç‰ˆï¼Œç”¨èµ·æ¥éå¸¸çš„æ–¹ä¾¿ã€‚ åˆ›å»ºä¸€ä¸ªè½»é‡çº§çš„æœåŠ¡å™¨é˜¿é‡Œäº‘å¯ä»¥è´­ä¹°ä¸€å°å¯ä½¿ç”¨ä¸€å‘¨çš„æœåŠ¡å™¨ï¼Œè¿™ä¸ªæœåŠ¡å™¨æ­£å¥½ç”¨æ¥åšè¿™æ¬¡å¼€å‘ï¼ˆå·²æœ‰çš„è¯·è·³è¿‡ï¼‰ã€‚ ç™»å½•é˜¿é‡Œäº‘ï¼Œè¿›å…¥è´­ä¹° CES çš„åœ°æ–¹ï¼Œé“¾æ¥åœ°å€è¯·å•å‡»è¿™é‡Œã€‚ ä¾æ¬¡é€‰æ‹©ï¼š è®¡è´¹æ–¹å¼ï¼šåŒ…å¹´åŒ…æœˆã€‚ åœ°åŸŸï¼šååŒ—5ï¼ˆå½“å‰ååŒ—5æœ‰ä¼˜æƒ ï¼‰ã€‚ å®ä¾‹ï¼šè¯·å¯»æ‰¾1vCPUã€1Gå†…å­˜çš„å®ä¾‹ï¼ˆæˆ‘æœ€ç»ˆé€‰æ‹©äº†çªå‘æ€§èƒ½å®ä¾‹ t5ï¼‰ã€‚ é•œåƒï¼šé€‰æ‹©CentOS 7.4 ï¼ˆç°åœ¨åç«¯æ™®éä½¿ç”¨6+çš„ç‰ˆæœ¬ï¼Œ7ç›¸æ¯”6æœ‰äº†å¾ˆå¤§æ”¹è¿›ï¼Œå‰ç«¯é€‰æ‹©7å¯ä»¥å‡å°‘å¾ˆå¤šéº»çƒ¦ï¼‰ï¼Œå‹¾é€‰å®‰å…¨åŠ å›ºã€‚ äº‘ç›˜ï¼š40Gé«˜æ•ˆäº‘ç›˜ã€‚ å…¬ç½‘å¸¦å®½ï¼šå‹¾é€‰è‡ªåŠ¨åˆ†é…å…¬ç½‘ IPï¼Œé€‰æ‹©1Må¸¦å®½ã€‚ å®‰å…¨ç»„ï¼šé€‰æ‹©é»˜è®¤å®‰å…¨ç»„ï¼Œå¹¶å‹¾é€‰http80ç«¯å£å’Œhttp443ç«¯å£ã€‚ è´­ä¹°å‘¨æœŸï¼šé€‰æ‹©1å‘¨ã€‚ æœ€ç»ˆç»“æœï¼šæˆ‘ä»¬çš„æœåŠ¡å™¨ä¸»è¦åšç½‘ç«™ç±»çš„å¼€å‘ï¼Œæ‰€ä»¥æœ‰é’ˆå¯¹æ€§éœ€æ±‚çš„ç”¨æˆ·å¯ä»¥è€ƒè™‘å°†å†…å­˜å¢å¤§ï¼Œå…¶ä»–åœ¨éœ€è¦çš„æ—¶å€™é‡‡å–è€ƒè™‘ã€‚ ä½¿ç”¨è™šæ‹Ÿæœºå¦‚æœä½ æ‰“ç®—ä½¿ç”¨è™šæ‹Ÿæœºï¼Œè¿™å¯èƒ½ä¼šå¢åŠ ä½ çš„å¼€å‘éš¾åº¦ï¼Œè€Œä¸”æ•ˆæœå¯èƒ½å’Œåœ¨è‡ªå·±çš„ç”µè„‘ä¸Šç›´æ¥å¼€å‘æ²¡æœ‰å¤ªå¤§åŒºåˆ«ï¼Œè¿™é‡Œè™½ç„¶ä¸æ¨èï¼Œæˆ‘è¿˜æ˜¯ç¨å¾®è®²ä¸€ä¸‹å§ã€‚ä¸‹é¢æ¼”ç¤ºä¸€ä¸‹ä½¿ç”¨VM12è™šæ‹Ÿæœºä»¥åŠUbuntuç³»ç»Ÿæ¥å®‰è£…ä¸€ä¸ªè™šæ‹Ÿæœºï¼Œå®‰è£…æ˜¯åœ¨windowsç³»ç»Ÿä¸‹è¿›è¡Œï¼Œè¿™ä¹Ÿæ˜¯å¤§å¤šæ•°å®‰è£…è™šæ‹Ÿæœºçš„åœºæ™¯äº†ã€‚ ä¸‹è½½è¦å®‰è£…çš„ç³»ç»ŸUbuntuï¼Œä¸‹è½½åœ°å€ã€‚ ä¸‹è½½å®‰è£…VMwareï¼Œè¿™ä¸ªè¯·è‡ªè¡Œç™¾åº¦ï¼Œäº§å“æ¿€æ´»å¯†é’¥ç­‰ä¹Ÿå¯ä»¥é€šè¿‡ç™¾åº¦è§£å†³ã€‚ æ‰“å¼€VMå¹¶åˆ›å»ºä¸€ä¸ªè™šæ‹Ÿæœºï¼š é€‰æ‹©è‡ªå®šä¹‰ï¼š å•å‡»ä¸‹ä¸€æ­¥æŒ‰é’®ç›´åˆ°è¿™ä¸€æ­¥ï¼š è¯·è¾“å…¥ä¸€ä¸ªå·²ç»å­˜åœ¨çš„ä½ç½®ï¼š é»˜è®¤çš„é…ç½®å·²ç»è¶³å¤Ÿäº†ï¼Œè¯·æ³¨æ„ç”µè„‘çš„å‰©ä½™ç©ºé—´ï¼š ä¸‹ä¸€æ­¥å¹¶é€‰æ‹©ç¡¬ä»¶ï¼š é€‰æ‹©ç¬¬ä¸€æ­¥ä¸‹è½½çš„é•œåƒï¼š ä¸‹ä¸€æ­¥ç›´åˆ°å®Œæˆã€‚æ­¤æ—¶å·²ç»å¯ä»¥å¯åŠ¨è™šæ‹Ÿæœºäº†ï¼š é€‰æ‹©ä¸­æ–‡ç®€ä½“ï¼Œè¿™ä¹Ÿæ˜¯é€‰æ‹©ubuntuçš„ä¸€ä¸ªé‡è¦åŸå› ï¼š è¿™ä¸€æ­¥æ¯”è¾ƒé‡è¦çš„æ˜¯å–æ¶ˆæ‰ä¸‹è½½æ›´æ–°ï¼Œä¸ç„¶ä½ å¾—åˆ°ä¸€ä¸ªä¸‹è½½ä¸­çš„çŠ¶æ€ï¼Œå›½å†…ç½‘ç»œä¸å¤ªå¥½ï¼Œä¸‹è½½ä¼šæ¯”è¾ƒåƒåŠ›ï¼Œè¿™é‡Œå°±ç›´æ¥å–æ¶ˆäº†ï¼š ç¬¬ä¸€æ¬¡å®‰è£…çš„æ—¶å€™ç›´æ¥æ¸…é™¤å°±å¥½äº†ï¼š ç‚¹å‡»ä¸‹ä¸€æ­¥ä¾æ®ä¸ªäººå–œå¥½é€‰æ‹©é”®ç›˜å¸ƒå±€/ä½ç½®ç­‰ï¼Œç„¶åè¾“å…¥è‡ªå·±çš„ç”¨æˆ·åå¯†ç å°±å¼€å§‹æ­£å¼çš„å®‰è£…äº†ï¼š åˆ°è¿™é‡Œå°±å®‰è£…å¥½äº†ï¼šä»¥ä¸ŠåŸºæœ¬å°±å¯ä»¥å®‰è£…å¥½ä¸€å°è™šæ‹Ÿæœºäº†ï¼Œå®é™…çš„ä½¿ç”¨ä¸Šå’Œä¸€å°çœŸå®çš„æœºå™¨å¹¶æ²¡æœ‰å¤ªå¤§çš„åŒºåˆ«ï¼Œå‰©ä¸‹çš„è¯·å„ä½è‡ªè¡Œæ¢ç´¢ã€‚æœ¬æ–‡ä¸»è¦ä»‹ç»çš„è¿˜æ˜¯åœ¨äº‘æœåŠ¡å™¨ä¸Šçš„å¼€å‘ã€‚ å®‰è£…è‡ªå·±çš„å¼€å‘ç¯å¢ƒåˆ°è¿™é‡Œå°±å¯ä»¥å¼€å§‹ç¬¬ä¸€æ¬¡åœ¨Linuxä¸Šå¼€å‘äº†ï¼Œæ˜¯ä¸æ˜¯å¾ˆå…´å¥‹? è¿æ¥åˆ°æœåŠ¡å™¨LinuxæœåŠ¡å™¨ä¸åƒwindowé‚£æ ·æœ‰ä¸€ä¸ªå¯è§†åŒ–çš„ç•Œé¢ï¼Œwindow/macè¿æ¥çš„æ—¶å€™ä¹Ÿä¸åƒè¿œç¨‹æ¡Œé¢é‚£æ ·æ–¹ä¾¿ã€‚è¿™é‡Œè¿æ¥æœåŠ¡å™¨éœ€è¦ä½¿ç”¨å‘½ä»¤æ‰è¡Œã€‚ windowè¿æ¥æœåŠ¡å™¨å¥½æ¶ˆæ¯æ˜¯windowä¸‹æœ‰ä¸€æ¬¾ç¥å™¨:xshellï¼Œå‘½ä»¤å¯ä»¥å¾ˆæ–¹ä¾¿çš„è¾“å…¥åˆ°ä¸€å°æœåŠ¡å™¨æˆ–è€…å¤šå°æœåŠ¡å™¨ä¸Šï¼Œç”¨æˆ·å¯†ç ä¹Ÿå¯ä»¥å¾ˆæ–¹ä¾¿çš„ä¿å­˜åœ¨æœ¬åœ°ï¼Œå¤šä¸ªæœåŠ¡å™¨è¿˜å¯ä»¥åˆ†ç»„ï¼Œä½ è¦åšçš„å°±æ˜¯ä¸“æ³¨äºçœ¼å‰çš„æœåŠ¡å™¨å¼€å‘ã€‚ è¿™ä¸ªè½¯ä»¶å¤šç”¨äºå¸¸å¹´è·ŸæœåŠ¡å™¨æ‰“äº¤é“çš„åŒå­¦é‚£é‡Œã€‚å¦‚æœä½ æ²¡æœ‰ï¼Œå¯ä»¥æ‰¾ä»–ä»¬è¦ä¸€ä¸ªã€‚ é¦–å…ˆä½ éœ€è¦å®‰è½¬ä¸€ä¸ªxshellï¼Œä¸‹è½½éœ€è¦å¡«ä¸€äº›ä¿¡æ¯ï¼Œæœ€æ–¹ä¾¿çš„å°±æ˜¯é—®åŒäº‹è¦ä¸€ä¸ªï¼Œå®‰è£…éå¸¸ç®€å•ï¼Œè¦æ³¨æ„çš„æ˜¯å®‰è£…çš„æ—¶å€™éœ€è¦é€‰æ‹©ä¸ªäººå¼€å‘ä½¿ç”¨ï¼Œä¸ç„¶å®‰è£…å¥½ä¹‹åå‘ç°éœ€è¦äº¤é’±æ‰èƒ½ç”¨å°±å‘äº†ã€‚ å®‰è£…å¥½ä¹‹åä½ å°±å¯ä»¥æŠŠè‡ªå·±çš„æœåŠ¡å™¨ipã€ç”¨æˆ·åã€å¯†ç éƒ½å¡«å¥½äº†ï¼Œä»¥ååªéœ€è¦é¼ æ ‡ä¸€ç‚¹å°±è¿›å…¥äº†è‡ªå·±çš„æœåŠ¡å™¨äº†ã€‚ éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œé€‰æ‹©ä¸€ä¸‹é»˜è®¤çš„å­—ç¬¦ï¼Œä¸ç„¶ä½ çš„ä¸­æ–‡ä¼šå˜æˆä¹±ç ã€‚ è¿æ¥ä¹‹åçš„ç•Œé¢æ˜¯ä¸‹é¢è¿™æ ·ã€‚ é¦–å…ˆæœ‰ä¸€ä¸ªè¿›å…¥æœåŠ¡å™¨çš„æç¤ºï¼Œç„¶åä¸‹é¢å°±æ˜¯ç†Ÿæ‚‰çš„å‘½ä»¤è¡Œäº†ï¼Œä¸åŒçš„æ˜¯å‰é¢é‚£æ®µæ˜¾ç¤ºçš„è§„åˆ™æ˜¯ç”¨æˆ·å@æœºå™¨åã€‚ Macè¿æ¥æœåŠ¡å™¨Macè¿æ¥æœåŠ¡å™¨å¯ä»¥ä½¿ç”¨è‡ªå¸¦çš„ç»ˆç«¯åº”ç”¨ï¼Œä¹Ÿå¯ä»¥è‡ªå·±ä¸‹è½½ä¸€ä¸ªiTerm2ï¼Œè¿™é‡Œæˆ‘æ¨èä½¿ç”¨iTerm2ï¼Œå¯ä»¥æ–¹ä¾¿çš„ä½¿ç”¨ä¸åŒçš„ä¸»é¢˜ï¼Œæ·»åŠ å„ç§æœ‰ç”¨çš„æ’ä»¶ã€‚ æ‰“å¼€iTerm2ï¼Œè¾“å…¥è¿æ¥å‘½ä»¤ssh ç”¨æˆ·å@ipåœ°å€ç„¶åå›è½¦ï¼Œä½ ä¼šçœ‹åˆ°æç¤ºä½ è¾“å…¥å¯†ç ï¼Œè¿™ä¸ªæ—¶å€™è¾“å…¥ä½ åœ¨è´­ä¹°æœåŠ¡å™¨çš„æ—¶å€™è®¾ç½®çš„å¯†ç å°±å¥½äº†ã€‚ åªè¦å¯†ç æ­£ç¡®ï¼Œä½ å°±å¯ä»¥è¿›å…¥æœåŠ¡å™¨äº†ï¼Œä¾æ—§æ˜¯ç†Ÿæ‚‰çš„å‘½ä»¤è¡Œæ¨¡å¼ã€‚ ä½ ä¼šåœ¨ç¬¬ä¸€æ—¶é—´çœ‹åˆ°æœåŠ¡å™¨åé¦ˆçš„ä¸Šæ¬¡ç™»å½•ä¿¡æ¯ï¼Œæ¬¢è¿ä¿¡æ¯ï¼Œç„¶åæ˜¯å‘½ä»¤è¡Œçš„æç¤ºï¼Œå‰é¢çš„æ˜¾ç¤ºè§„åˆ™æ˜¯ç”¨æˆ·å@æœºå™¨åï¼Œè¿™é‡Œçš„æ¬¢è¿ä¿¡æ¯æ˜¯æˆ‘è‡ªå·±æ”¹çš„ï¼Œæœ‰å…´è¶£çš„åŒå­¦å¯ä»¥è‡ªè¡Œæ¢ç´¢ï¼ˆæ¯”å¦‚æ˜¾ç¤ºä¸€ä¸ªç¾å¥³ï¼‰ã€‚ å‡ ä¸ªå¸¸ç”¨çš„å‘½ä»¤è¦æƒ³ä½¿ç”¨Linuxç³»ç»ŸæœåŠ¡å™¨åšå¼€å‘ï¼Œä¸æ‡‚å‡ ä¸ªå¸¸ç”¨å‘½ä»¤æ€ä¹ˆè¡Œï¼Ÿ ssh ç”¨æˆ·å@ipï¼Œè¿æ¥æœåŠ¡å™¨çš„å‘½ä»¤ã€‚ cd ç»å¯¹è·¯å¾„/ç›¸å¯¹è·¯å¾„ï¼Œè·³è½¬åˆ°è·¯å¾„å¯¹åº”çš„ç›®å½•ä¸‹ã€‚ rm æ–‡ä»¶åï¼Œåˆ é™¤æ–‡ä»¶ã€‚ rm -rf ç›®å½•è·¯å¾„ï¼Œåˆ é™¤ç›®å½•ä»¥åŠç›®å½•ä¸‹çš„æ‰€æœ‰æ–‡ä»¶ï¼Œè°¨æ…æ“ä½œ! ls [-a]ï¼ŒæŸ¥çœ‹å½“å‰ç›®å½•ä¸‹çš„æ–‡ä»¶å’Œç›®å½•ï¼ŒåŠ -aå‚æ•°å¯ä»¥æŸ¥çœ‹æ‰€æœ‰æ–‡ä»¶ï¼ŒåŒ…æ‹¬éšè—æ–‡ä»¶ï¼ˆ.å¼€å¤´çš„æ–‡ä»¶æ˜¯éšè—æ–‡ä»¶ï¼Œé»˜è®¤æ˜¯çœ‹ä¸è§çš„ï¼‰ã€‚ llï¼ŒæŸ¥çœ‹å½“å‰ç›®å½•ä¸‹çš„æ–‡ä»¶è¯¦æƒ…ï¼Œå¯ä»¥æ–‡ä»¶çš„æƒé™ï¼Œé‡åˆ°æ²¡æœ‰æƒé™æ‰§è¡Œçš„æƒ…å†µä¸‹å¯ä»¥ä½¿ç”¨è¿™ä¸ªå‘½ä»¤æŸ¥çœ‹ã€‚ pwdï¼ŒæŸ¥çœ‹å½“å‰è·¯å¾„çš„å®Œæ•´è·¯å¾„ï¼Œä¸çŸ¥é“è‡ªå·±åœ¨å“ªå„¿çš„æ—¶å€™å¯ä»¥ä½¿ç”¨è¿™ä¸ªå‘½ä»¤æŸ¥çœ‹ã€‚ which åå­—ï¼Œåœ¨å‡ ä¸ªé»˜è®¤ä½ç½®æŸ¥æ‰¾æ”¹åå­—ï¼Œæ¯”å¦‚æŸ¥æ‰¾pm2å®‰è£…åœ¨å“ªä¸ªåœ°æ–¹äº†ã€‚ mkdir ç›®å½•åï¼Œåˆ›å»ºä¸€ä¸ªç©ºç›®å½•ã€‚ cat ç›¸å¯¹/ç»å¯¹æ–‡ä»¶è·¯å¾„ï¼ŒæŸ¥çœ‹æ–‡ä»¶çš„å†…å®¹ï¼Œå¤šä¸ºæŸ¥çœ‹æ—¥å¿—æˆ–è€…å…¶ä»–æ–‡æœ¬æ–‡ä»¶ã€‚ cp æ–‡ä»¶è·¯å¾„ ç›®æ ‡è·¯å¾„ï¼Œå¤åˆ¶ä¸€ä¸ªæ–‡ä»¶åˆ°å¦å¤–ä¸€ä¸ªåœ°æ–¹ã€‚ mv æ–‡ä»¶è·¯å¾„ ç›®æ ‡è·¯å¾„ï¼Œç§»åŠ¨ä¸€ä¸ªæ–‡ä»¶åˆ°å¦å¤–ä¸€ä¸ªåœ°æ–¹ï¼Œä¹Ÿå¯ä»¥é‡å‘½åã€‚ ps -auxï¼Œæ˜¾ç¤ºå½“å‰è¿›ç¨‹ï¼Œæœ‰æ—¶å€™éœ€è¦ç”¨è¿™ä¸ªæŸ¥çœ‹è¿›ç¨‹æ˜¯å¦å­˜æ´»ã€‚ kill -9 è¿›ç¨‹idï¼Œç»“æŸè¿›ç¨‹ï¼Œè¿›ç¨‹idå°±æ˜¯ä¸Šä¸€æ¡å‘½ä»¤æŸ¥åˆ°çš„pidã€‚ tar -zxvf æ–‡ä»¶ï¼Œè§£å‹ç¼©æ–‡ä»¶ã€‚ tar -zcvf å‹ç¼©åçš„æ–‡ä»¶ è¦å‹ç¼©çš„æ–‡ä»¶/ç›®å½•ï¼Œå‹ç¼©æ–‡ä»¶ã€‚ vi æ–‡ä»¶è·¯å¾„ï¼Œä½¿ç”¨vimè¿›å…¥æ–‡ä»¶çš„ç¼–è¾‘æ¨¡å¼ã€‚ vié€€å‡ºæ–‡ä»¶ï¼ŒæŒ‰ä¸‹escé”®ä¿è¯é€€å‡ºç¼–è¾‘æ¨¡å¼ï¼Œè¾“å…¥:qæˆ–è€…:q!å¼ºåˆ¶é€€å‡ºã€‚ viç¼–è¾‘ï¼ŒæŒ‰ä¸‹iå·¦ä¸‹è§’ä¼šæç¤ºè¿›å…¥ç¼–è¾‘æ¨¡å¼ï¼Œç„¶åå°±æ˜¯æ­£å¸¸çš„è¾“å…¥æ–‡å­—ï¼Œå†æŒ‰escé”®é€€å‡ºç¼–è¾‘æ¨¡å¼ã€‚ viä¿å­˜ç¼–è¾‘ç»“æœï¼ŒæŒ‰ä¸‹escé”®ä¿è¯é€€å‡ºç¼–è¾‘æ¨¡å¼ï¼Œè¾“å…¥:xä¿å­˜å¹¶é€€å‡ºã€‚ åé¢è¿˜æœ‰å¾ˆå¤šå†…å®¹,åŒ…æ‹¬: å¦‚ä½•è´­ä¹°ä¸€ä¸ªé˜¿é‡Œäº‘æœåŠ¡å™¨ï¼ŸæœåŠ¡å™¨çš„é€‰æ‹©ã€ç³»ç»Ÿçš„é€‰æ‹©ã€æ€ä¹ˆæŒ‘é€‰æœ€åˆç®—ï¼Ÿ å®‰è£… Nodeã€PM 2 å¹¶å¤‡ä»½ç³»ç»Ÿï¼› å®‰è£… MySQLã€Redisã€Nginx å¹¶é…ç½®å®‰å…¨è§„åˆ™ï¼Œé˜²æ­¢æœåŠ¡å™¨è¢«æ‰«æï¼› éƒ¨ç½²ä¸€ä¸ªç®€å•çš„ Express æœåŠ¡ï¼› ç®€å•çš„æ•°æ®åº“è¿æ¥ã€PM2 å®ˆæŠ¤ã€Nginx ç«¯å£æ˜ å°„ï¼› å†™è‡ªå·±çš„è„šæœ¬ã€çœŸæ­£çš„åšåˆ°ä¸€é”®éƒ¨ç½²ã€ä¸€é”®é‡å¯ã€‚ æ–‡ç« åœ°å€:ç‚¹å‡»è·³è½¬","categories":[{"name":"å‰ç«¯","slug":"big-front-end","permalink":"http://www.guofangchao.com/categories/big-front-end/"}],"tags":[{"name":"æœåŠ¡å™¨","slug":"æœåŠ¡å™¨","permalink":"http://www.guofangchao.com/tags/æœåŠ¡å™¨/"}],"keywords":[{"name":"å‰ç«¯","slug":"big-front-end","permalink":"http://www.guofangchao.com/categories/big-front-end/"}]},{"title":"ä½¿ç”¨VarnishåŠ é€Ÿhttp","slug":"ä½¿ç”¨VarnishåŠ é€Ÿhttp","date":"2018-03-28T03:17:00.000Z","updated":"2018-03-28T03:17:53.633Z","comments":true,"path":"2018/03/28/ä½¿ç”¨VarnishåŠ é€Ÿhttp/","link":"","permalink":"http://www.guofangchao.com/2018/03/28/ä½¿ç”¨VarnishåŠ é€Ÿhttp/","excerpt":"","text":"varnishæ˜¯ä¸€ä¸ªhttpç¼“å­˜æ–¹æ¡ˆã€‚å®ƒä½¿ç”¨çº¯å†…å­˜ä½œä¸ºç¼“å­˜å¯¹è±¡ï¼Œæ‰€ä»¥åœ¨é€Ÿåº¦ä¸Šéå¸¸æœ‰ä¼˜åŠ¿ã€‚å¦‚æœæ‰“ç®—åŠ é€ŸwebæœåŠ¡å™¨çš„å›¾ç‰‡ç­‰é™æ€èµ„æºæˆ–è€…cookieã€æŸäº›å˜åŠ¨ä¸é¢‘ç¹çš„æ¥å£ç­‰èµ„æºéƒ½å¯ä»¥ä½¿ç”¨Varnishæ¥åšåŠ é€Ÿã€‚ æ™®é€šæƒ…å†µä¸‹ä¹Ÿå¯ä»¥ä½¿ç”¨nginxæ¥åšç¼“å­˜ï¼Œä½†æ˜¯ngxinæ¯•ç«Ÿä¸»ä¸šæ˜¯åä»£ã€‚å¦‚æœé‡åˆ°å¤§è§„æ¨¡ä½¿ç”¨çš„æƒ…å†µä¸‹è¿˜æ˜¯æ¢ä¸ªä¸“ä¸šçš„å§ã€‚ å¯ä»¥ä½¿ç”¨å®‰è£…åŒ…å®‰è£…,è¿™é‡Œç»™å‡ºä¸€ä¸ªåœ¨Red Hatå’Œcentosä¸Šå®‰è£…çš„åœ°å€:https://packagecloud.io/varnishcache/varnish60/install#manual-rpm ä¹Ÿå¯ä»¥ä½¿ç”¨æºä»£ç å®‰è£…git clone https://github.com/varnishcache/varnish-cache è¿˜éœ€è¦å®‰è£…ä¸‹é¢çš„å‡ ä¸ªä¾èµ– autoconf automake jemalloc-devel libedit-devel libtool ncurses-devel pcre-devel pkgconfig python-docutils python-sphinx ä¹‹åç¼–è¯‘æºä»£ç 1234cd varnish-cachesh autogen.shsh configuremake ä¹Ÿå¯ä»¥åœ¨ç¼–è¯‘çš„æ—¶å€™åšä¸€æ¬¡æ£€æµ‹1make check æœ€ååªéœ€è¦å®‰è£…åˆ°ç³»ç»Ÿä¸­å°±å¯ä»¥äº†1sudo make install ä¹‹åå¯ä»¥å¯åŠ¨varnishæœåŠ¡äº†1service varnish start","categories":[{"name":"æœåŠ¡å™¨","slug":"æœåŠ¡å™¨","permalink":"http://www.guofangchao.com/categories/æœåŠ¡å™¨/"}],"tags":[{"name":"varnish","slug":"varnish","permalink":"http://www.guofangchao.com/tags/varnish/"}],"keywords":[{"name":"æœåŠ¡å™¨","slug":"æœåŠ¡å™¨","permalink":"http://www.guofangchao.com/categories/æœåŠ¡å™¨/"}]},{"title":"React Native å®æˆ˜ï¼šæ„å»ºç”µå•† App","slug":"React-Native-å®æˆ˜ï¼šæ„å»ºç”µå•†-App","date":"2018-03-28T02:23:00.000Z","updated":"2018-03-28T02:24:44.903Z","comments":true,"path":"2018/03/28/React-Native-å®æˆ˜ï¼šæ„å»ºç”µå•†-App/","link":"","permalink":"http://www.guofangchao.com/2018/03/28/React-Native-å®æˆ˜ï¼šæ„å»ºç”µå•†-App/","excerpt":"","text":"è¯¾ç¨‹ä»‹ç»React Native å……åˆ†åˆ©ç”¨äº† Facebook çš„ç°æœ‰è½®å­ï¼Œæ˜¯ä¸€ä¸ªå¾ˆä¼˜ç§€çš„é›†æˆä½œå“ï¼Œä½¿ç”¨ RN å³å¯åšåˆ°æ— éœ€ç¼–è¯‘å°±èƒ½è¿œç¨‹çƒ­æ›´æ–° Appï¼Œå†åŠ ä¸Šå‹å¥½çš„å¼€å‘æ–¹å¼ã€å¿«åˆ°çˆ†ç‚¸çš„å¼€å‘æ•ˆç‡ã€RN å·²ç»å®Œçˆ†äº†å…¶ä»–çš„ App å¼€å‘æ–¹å¼ï¼Œå³ä½¿æ˜¯ä¸€ä¸ªåˆå…¥å‰ç«¯çš„å¼€å‘è€…ä¹Ÿèƒ½è¿…é€Ÿå¼€å‘ä¸€å¥— iOSã€Android åŒå¹³å°çš„ Appã€‚ æ–‡ç« ä¸­å°†åˆ†ä¸‰ä¸ªéƒ¨åˆ†è®²è§£ RN çš„å¼€å‘ã€‚é€šè¿‡å¼€å‘ä¸€ä¸ªæ¯”è¾ƒå®Œæ•´çš„ç”µå•† App æ¥é€æ­¥å¸¦é¢†è¯»è€…èµ°å…¥ React Native çš„ä¸–ç•Œã€‚è¯»è€…å¯ä»¥ä»ä¸­æ±²å–åˆ°å®Œæ•´çš„é¡¹ç›®ç»éªŒï¼Œä»èœé¸Ÿåˆ°ç²¾é€šä¹Ÿåªéœ€è¦å­¦å®Œè¿™ä¸ªè¾¾äººè¯¾å³å¯ã€‚ ç¬¬ä¸€éƒ¨åˆ†ä¸»è¦è®²è¿°å°è£…åŸºæœ¬ç»„ä»¶ã€ç®€å•é¡µé¢çš„å¼€å‘ï¼šè¿™ä¸ªé˜¶æ®µä¸»è¦è§£å†³å¼€å‘ä¸­é‡åˆ°çš„å…¼å®¹é—®é¢˜ï¼Œåœ¨æ–‡ä¸­ä¼šæå‡ºè§£å†³æ–¹æ¡ˆã€é¿å…æ— ç”¨çš„ä»£ç ã€‚ ç¬¬äºŒä¸ªéƒ¨åˆ†å°†è®²è¿°å¤æ‚çš„ä¸šåŠ¡é€»è¾‘ï¼šè®©ç¬¬ä¸€æ¬¡åšå¼€å‘çš„è¯»è€…ä¹Ÿèƒ½éå¸¸å¿«é€Ÿçš„é€‚åº”ä¸šåŠ¡å½¢æ€ï¼Œè®©å¼€å‘æœ‰åº•æ°”ã€ä¸å†å—åˆ¶äºäº§å“çš„çº¦æŸã€‚ ç¬¬ä¸‰éƒ¨åˆ†å°†è®²è¿°æ€§èƒ½çš„æè‡´ä¼˜åŒ–ã€çƒ­æ›´æ–°ã€ç»Ÿè®¡ç­‰è¿™äº› App å¿…é¡»çš„ä¸œè¥¿ï¼Œè®©å¼€å‘çš„ App èƒ½å¤ŸçœŸæ­£çš„æ¯”å¾—ä¸ŠåŸç”Ÿ App å’Œæ··åˆ Appã€‚ è¯¥è¯¾ç¨‹å·²ç»ä¸Šçº¿,éœ€è¦è®¢é˜…çš„åŒå­¦å¯ä»¥ç‚¹å‡»æŸ¥çœ‹è¯¾ç¨‹åœ°å€","categories":[{"name":"å‰ç«¯","slug":"big-front-end","permalink":"http://www.guofangchao.com/categories/big-front-end/"}],"tags":[{"name":"react-native","slug":"react-native","permalink":"http://www.guofangchao.com/tags/react-native/"}],"keywords":[{"name":"å‰ç«¯","slug":"big-front-end","permalink":"http://www.guofangchao.com/categories/big-front-end/"}]},{"title":"ä½¿ç”¨ReactNativeçš„å¿ƒå¾—","slug":"ReactNativeä¸­é‡åˆ°çš„é—®é¢˜","date":"2018-03-27T11:09:00.000Z","updated":"2018-03-27T11:15:25.477Z","comments":true,"path":"2018/03/27/ReactNativeä¸­é‡åˆ°çš„é—®é¢˜/","link":"","permalink":"http://www.guofangchao.com/2018/03/27/ReactNativeä¸­é‡åˆ°çš„é—®é¢˜/","excerpt":"","text":"é€‚é…iPhoneXRNç‰ˆæœ¬0.52ä¹‹åæä¾›äº†é€‚é…iPhoneXçš„ç»„ä»¶SafeViewã€‚ä¸è¿‡å•ç‹¬è¿™ä¸ªæ˜¯ä¸è¡Œçš„ï¼Œè¿˜éœ€è¦åœ¨iosä¸­ä¿®æ”¹é…ç½®ï¼ŒæŠŠè§†å›¾ä»ä¸€ä¸ªçŸ­å°çš„åŒºåŸŸæ‹‰ä¼¸åˆ°å…¨å±çš„å¤§å°ã€‚ è¿™é‡Œé€šè¿‡ä¿®æ”¹è®¾ç½®æ‰“å¼€é»˜è®¤çš„å®‰å…¨åŒºåŸŸã€‚ ç”±äºä¹‹å‰ä½¿ç”¨çš„è¿˜æ˜¯æ—§ç‰ˆçš„RNï¼Œè¿™é‡Œæˆ‘ä¸ºäº†å…¼å®¹æ—§çš„ç‰ˆæœ¬åšäº†ä¸€ä¸ªjsçš„åˆ¤æ–­ã€‚é€šè¿‡åˆ¤æ–­é«˜åº¦æ˜¯å¦ç¬¦åˆ812æ¥åˆ¤æ–­æ˜¯å¦iPhoneXã€‚åŒæ—¶æœ‰ä¸€ä¸ªå°å°çš„ç¼“å­˜ï¼Œä¸éœ€è¦æ¯æ¬¡éƒ½é‡å¤åˆ¤æ–­ã€‚è¿™é‡Œçš„1.0.6æ˜¯å¼€å§‹ä½¿ç”¨æ–°èƒ½åŠ›çš„ç‰ˆæœ¬å·ã€‚ æ·»åŠ é¢å¤–çš„çº¿ç¨‹æœ‰äº›åŠŸèƒ½å…¶å®æ²¡å¿…è¦è·‘åœ¨UIçº¿ç¨‹ä¸Šã€‚è¿™äº›ä¸œè¥¿å¦‚æœæ”¾åœ¨ç»„ä»¶é‡Œåè€Œä¸æ˜¯é‚£ä¹ˆèæ´½ã€‚ç”šè‡³æœ‰æ—¶å€™ä¼šå¯¹æ­£å¸¸çš„é€»è¾‘äº§ç”Ÿå½±å“ã€‚ å¯ä»¥ä½¿ç”¨ä¸‹é¢çš„æ–¹å¼æ³¨å†Œä¸€ä¸‹é¢å¤–çš„å±‚ã€‚è¿™ä¸ªä¸æ˜¾ç¤ºUIï¼Œä½†æ˜¯å¯ä»¥ç”¨æ¥æ›´æ–°ä¸€äº›ç¼“å­˜ï¼Œè¿”å›è¿œç¨‹æ•°æ®ç­‰ã€‚123AppRegistry.registerRunnable(&apos;RunableTask&apos;, TaskRun)AppRegistry.runApplication(&apos;RunableTask&apos;, &#123;&#125;); åœ¨çº¿ä¸Šäº§å“ä¸­å°±æ˜¯åˆ©ç”¨äº†è¿™ä¸€ä¸ªå±‚åšäº†ä¸€äº›é¢å¤–çš„äº‹æƒ…ã€‚è¿™é‡Œæˆ‘ä½¿ç”¨äº‹ä»¶è§¦å‘çš„å½¢å¼æ¥åšæ­£å¸¸ç»„ä»¶å’Œè¿™ä¸€ä¸ªå±‚çš„é€šçŸ¥ã€‚ éœ€è¦å°å¿ƒä¸€ç‚¹ã€‚å¦‚æœåœ¨è¿™ä¸€å±‚åšäº†å®šæ—¶å™¨ã€å¾ªç¯äº‹ä»¶ç­‰æ“ä½œï¼Œè®°å¾—è¦å–æ¶ˆæ‰ï¼Œä¸ç„¶äº‹ä»¶å°±ä¼šå˜æˆä¸¤æ¬¡ã€‚ ç¼“å­˜APPè¿˜æ˜¯éœ€è¦ç¼“å­˜çš„ã€‚è¿™é‡Œå¯ä»¥ç¼“å­˜ä¸€äº›ä¸Šæ¬¡æ‰“å¼€çš„æ•°æ®ï¼Œæ¯”å¦‚å¹¿å‘Šã€ç”¨æˆ·ä¿¡æ¯ç­‰ã€‚ åœ¨æ‰“å¼€APPçš„æ—¶å€™å¯ä»¥å…ˆç”¨è¿™äº›æ•°æ®èµ°æ­£å¸¸çš„æµç¨‹ï¼Œç„¶ååœ¨ç”¨ä¸€ä¸ªå¼‚æ­¥çš„ä»»åŠ¡å»é‰´å®šã€æ›´æ–°è¿™äº›æ•°æ®ã€‚è¿™æ ·ä¸‹æ¥å¯ä»¥è®©APPæ‰“å¼€éå¸¸æµç•…ï¼ŒåŒæ—¶ç”¨æˆ·ä¹Ÿä¸ä¼šå‘ç°æ•°æ®å˜åŒ–å¤§ç­‰å¼‚å¸¸ã€‚è¿™äº›åŒæ—¶ä¹Ÿæ˜¯éœ€è¦åç«¯æ¥å£æ•°æ®æ”¯æŒçš„ã€‚ å…³äºAlertã€Modalæ­£å¸¸æƒ…å†µä¸‹Alertã€Modalæ˜¯ç‹¬ç«‹äºå½“å‰ç»„ä»¶Viewä¹‹ä¸Šçš„ã€‚å¦‚æœè¿™ä¸ªæ—¶å€™é‡åˆ°æ„å¤–æƒ…å†µã€‚æ¯”å¦‚ç»„ä»¶é”€æ¯ã€æš‚åœç­‰æƒ…å†µä¸‹Alertè¿˜æœªé”€æ¯ã€‚è¿™ä¸ªæ—¶å€™å°±ä¼šå‘ç”Ÿæ¯”è¾ƒä¸¥é‡çš„é”™è¯¯ã€‚ Alertå¤§å¤šæ•°ä¼šæŠ¥é”™ï¼ŒAPPé—ªé€€ã€‚ Modaléƒ¨åˆ†ä¼šæŠ¥é”™ï¼Œéƒ¨åˆ†ä¼šæš‚åœï¼Œå¤±å»äº‹ä»¶ç­‰æ“ä½œã€‚å¯¼è‡´APPä¸€ç›´åœç•™åœ¨Modalè§†å›¾ä¸Šï¼Œç”¨æˆ·ä¹Ÿä¸èƒ½æ“ä½œä»»ä½•ä¸œè¥¿ã€‚æ—¶é—´é•¿äº†ç³»ç»Ÿå°±ä¼šåˆ¤æ–­APPæœªå“åº”ç­‰ç­‰ã€‚ å¦‚æœä½ ä¸æƒ³å¤„ç†è¿™äº›ä¸œè¥¿ï¼Œå¯ä»¥è€ƒè™‘ä½¿ç”¨ä¸€ä¸ªè‡ªå®šä¹‰çš„Alertæˆ–è€…å†…åµŒåœ¨ç»„ä»¶ä¸­çš„Viewæ¥ä»£æ›¿Modalã€‚ è‡ªå®šä¹‰ç»„ä»¶åœ¨APPä¸­å…¶å®æœ‰äº›å±æ€§æ˜¯è¦ç»å¸¸ç”¨åˆ°çš„ã€‚æ¯”å¦‚Textç»„ä»¶çš„ç¦æ­¢ä½¿ç”¨ç³»ç»Ÿå­—ä½“å¤§å°ï¼ŒImageçš„ç¼©æ”¾æ–¹å¼ç­‰ã€‚è¿™äº›ç»„ä»¶åœ¨å¹³å¸¸ä½¿ç”¨è¿‡ç¨‹ä¸­ä¼šç»å¸¸é‡å¤æ·»åŠ å„ç§å±æ€§ï¼Œå¯ä»¥å°†è¿™äº›ç»„ä»¶ç‹¬ç«‹å‡ºæ¥ï¼Œå¹¶ä¸”ä½¿ç”¨æ›´åŠ è¯­ä¹‰åŒ–çš„å±æ€§åæ¥ä»£æ›¿RNæä¾›çš„ä½¿ç”¨æ–¹å¼ã€‚ åœ¨è¿™ä¸ªçš„åŸºç¡€ä¸Šè¿˜å¯ä»¥å°†æŒ‰é’®ã€å¡ç‰‡ç­‰ç»„ä»¶è¿›ä¸€æ­¥æŠ½è±¡å‡ºæ¥ã€‚å¯¹äºä¸ä½¿ç”¨ç¬¬ä¸‰æ–¹å¼€æºç»„ä»¶çš„é¡¹ç›®æ¥è¯´è¿˜æ˜¯å¾ˆæœ‰å¿…è¦çš„ã€‚ è§£å†³é‡åˆ°çš„é—®é¢˜ä½¿ç”¨RNå¼€å‘ä¼šé‡åˆ°å¾ˆå¤šé—®é¢˜ï¼Œè¿™äº›é—®é¢˜éƒ½å¯ä»¥åœ¨RNçš„Issuesä¸­æ‰¾åˆ°ç­”æ¡ˆã€‚å¦‚æœè¿˜æ²¡æœ‰å°±ä¸Šgoogleå»æœä¸€ä¸‹ï¼Œè¿™ä¸ªè¦æ±‚ä½¿ç”¨ç§‘å­¦ä¸Šç½‘çš„å½¢å¼ã€‚ æœ‰äº›é—®é¢˜éœ€è¦ä¿®æ”¹RNçš„ä»£ç ã€‚ä¸è¦æ€•éº»çƒ¦ï¼Œå¦‚æœæ˜¯jséƒ¨åˆ†çš„ä¿®æ”¹ï¼Œç›´æ¥å°†ä¸‹è½½çš„åŒ…ä¿®æ”¹æˆå¯ä¸Šä¼ çš„åŒ…å°±è¡Œäº†ã€‚è¿™é‡Œè®°å¾—ä¸Šä¼ åˆ°ç§æœ‰npmåº“ä¸­ã€‚å¦‚æœæ˜¯nativeçš„é—®é¢˜æœ€å¥½æ˜¯åœ¨è‡ªå·±çš„nativeä»£ç ä¸­è¦†ç›–æ‰æ—§çš„ä»£ç ï¼Œæ¯•ç«Ÿå‰ç«¯å»ç¼–è¯‘RNçš„æºä»£ç è¿˜æ˜¯æœ‰å¾ˆå¤§çš„é£é™©çš„ã€‚ ä¸è¦å»ç™¾åº¦ï¼Œç™¾åº¦çœŸçš„æ²¡æœ‰ç­”æ¡ˆã€‚ æŒ‰é’®RNæä¾›çš„æŒ‰é’®å…¶å®å¾ˆä¸‘ï¼Œæ­£å¸¸å¼€å‘çš„æ—¶å€™å¤§å®¶éƒ½æ˜¯ä½¿ç”¨è‡ªå®šä¹‰çš„æŒ‰é’®ã€‚ ä½¿ç”¨è¿™ç§æ¨¡å¼åšå‡ºæ¥çš„æŒ‰é’®éå¸¸æ¼‚äº®ï¼Œä¹Ÿæ›´èƒ½ç¬¦åˆè®¾è®¡çš„ç»“æœã€‚ä¸è¿‡ä½¿ç”¨çš„æ—¶å€™å°½é‡ä¸è¦ç»™æŒ‰é’®æœ¬èº«åŠ æ ·å¼ï¼Œæœ‰æ ·å¼å°½é‡æ·»åŠ åˆ°å†…éƒ¨çš„Viewç­‰ç»„ä»¶ä¸Šã€‚ å‘ä¸‹å…¼å®¹RNä½¿ç”¨çš„è¿‡ç¨‹ä¸­æˆ‘ä»¬å‡çº§äº†ä¸€ä¸ªå¤§çš„ç‰ˆæœ¬ï¼Œä»0.40ç³»åˆ—å‡çº§åˆ°äº†0.50ç³»åˆ—ã€‚ç”±äºå¤§éƒ¨åˆ†æ‰‹æœºç”¨æˆ·è¿˜å­˜åœ¨ä¸æ„¿æ„å‡çº§APPçš„æƒ…å†µï¼Œå‘ä¸‹å…¼å®¹æˆäº†å”¯ä¸€çš„é€‰æ‹©ã€‚ æˆ‘ä½¿ç”¨çš„ç­–ç•¥æ˜¯ä¿®æ”¹æºä»£ç ã€‚ã€‚ã€‚ã€‚ æ¯”å¦‚å‡çº§0.53çš„æ—¶å€™å‘ç°æœ‰äº›nativeç»„ä»¶åå˜äº†ã€‚åŸæ¥ä½¿ç”¨çš„æ˜¯RCTMultilineTextInputViewï¼Œç°åœ¨å˜æˆäº†RCTTextViewã€‚ä¸ç®¡RNå‡ºäºä»€ä¹ˆç†ç”±æ”¹å˜äº†è¿™ä¸ªç»„ä»¶åå­—ï¼Œé€ æˆçš„ç»“æœå°±æ˜¯ç°åœ¨çš„æ—§ä»£ç ä¸èƒ½è·‘åœ¨æ–°çš„APPå£³ä¸‹ã€‚ æˆ‘ä»¬å¯ä»¥æ‰“å°å‡ºNativeModulesçš„UIManagerå¯¹è±¡çœ‹çœ‹ã€‚ è€Œå…¼å®¹ä¹Ÿæ˜¯ä»è¿™é‡Œå¼€å§‹åšçš„ã€‚æˆ‘ä»¬åˆ¤æ–­ä¸€ä¸‹å½“å‰çš„RNæ˜¯å¦åœ¨UIManagerä¸­æä¾›äº†å¯¹åº”çš„åŸç”Ÿç»„ä»¶å³å¯åˆ¤æ–­å½“å‰çš„ç¯å¢ƒæ˜¯å¦æ­£ç¡®çš„ç¯å¢ƒã€‚ æ¯”å¦‚è¦å‡çº§åˆ°53ï¼Œä¿®æ”¹53çš„æºä»£ç react-native/Libraries/Components/TextInput/TextInput.jsã€‚1234567891011121314//å®‰å“çš„æ²¡å˜åŒ–,è¦æ’é™¤if (Platform.OS === 'android') &#123; var AndroidTextInput = requireNativeComponent('AndroidTextInput', null);&#125; else if (Platform.OS === 'ios') &#123;//å¦‚æœæ”¯æŒRCTTextView,æ—¢æ–°APP if(UIManager.RCTTextView)&#123; var RCTMultilineTextInputView = requireNativeComponent('RCTTextView', null); var RCTSinglelineTextInputView = requireNativeComponent('RCTTextField', null); &#125;else&#123; //å…¶ä»–æƒ…å†µ var RCTMultilineTextInputView = requireNativeComponent('RCTMultilineTextInputView', null); var RCTSinglelineTextInputView = requireNativeComponent('RCTSinglelineTextInputView', null); &#125;&#125; ä½¿ç”¨ç±»ä¼¼è¿™æ ·çš„æ‰‹æ®µå°±èƒ½åŒºåˆ«ä¸¤ç§APPå£³çš„ç¯å¢ƒã€‚ç”¨æˆ·åœ¨ä½¿ç”¨çš„æ—¶å€™ä¹Ÿä¸è‡³äºè¦å¿…é¡»å‡çº§APPæ‰èƒ½ä½¿ç”¨æ–°ç‰ˆAPPçš„åŠŸèƒ½äº†ã€‚ ä½¿ç”¨RNå¼€å‘APPç¡®å®éå¸¸å¿«ï¼Œä½†æ˜¯å„ä½åœ¨å¼€å‘ä¸­è¿˜æ˜¯ä¸è¦å¿˜è®°é’»ç ”RNçš„æºä»£ç ã€‚å¾ˆå¤šè§£å†³æ–¹æ¡ˆå…¶å®å¾ˆç®€å•ï¼Œæœ‰äº›æ—¶å€™å¯èƒ½åªæ˜¯ç”±äºä½ç‰ˆæœ¬çš„APPä¸æ”¯æŒè€Œå¯¼è‡´çš„ã€‚ å¦‚æœä½ æƒ³å¯¹RNæœ‰ä¸€ä¸ªè¿›ä¸€æ­¥çš„äº†è§£ï¼Œè¿˜éœ€è¦å¯¹åŸç”Ÿçš„ä»£ç ä¹Ÿæœ‰ä¸€å®šçš„äº†è§£ã€‚å½“ç„¶æ­£å¸¸æƒ…å†µä¸‹è¿˜æ˜¯æœ‰ä½è¿™æ–¹é¢çš„åŒäº‹ä¸€èµ·å¼€å‘æ¯”è¾ƒå¥½ã€‚","categories":[{"name":"å‰ç«¯","slug":"big-front-end","permalink":"http://www.guofangchao.com/categories/big-front-end/"}],"tags":[{"name":"react-native","slug":"react-native","permalink":"http://www.guofangchao.com/tags/react-native/"}],"keywords":[{"name":"å‰ç«¯","slug":"big-front-end","permalink":"http://www.guofangchao.com/categories/big-front-end/"}]},{"title":"ç§‘å­¦è€Œè‡ªç”±çš„ä¸Šç½‘æŒ‡å—","slug":"ç§‘å­¦è€Œè‡ªç”±çš„ä¸Šç½‘æŒ‡å—","date":"2018-03-25T09:03:00.000Z","updated":"2018-03-25T09:04:06.079Z","comments":true,"path":"2018/03/25/ç§‘å­¦è€Œè‡ªç”±çš„ä¸Šç½‘æŒ‡å—/","link":"","permalink":"http://www.guofangchao.com/2018/03/25/ç§‘å­¦è€Œè‡ªç”±çš„ä¸Šç½‘æŒ‡å—/","excerpt":"","text":"å‰æ®µæ—¶é—´å’Œè°å¤§ç¥æ¯”è¾ƒå‰å®³,æˆ‘è¾ˆç å†œçš„å¾ˆå¤šè‡ªç”±ä¸Šç½‘å·¥å…·éƒ½è¢«å¢™æ‰äº†.æˆ‘ä¹Ÿæ˜¯å…¶ä¸­çš„ä¸€å‘˜â€¦. å…¶å®æˆ‘åŸºæœ¬ä¸Šæ˜¯ä¸ç”¨çš„,å›½å†…çš„èµ„æºå¾ˆå¤šå¾ˆä¸°å¯Œ.åœ¨å¤§å¤šæ•°æ—¶å€™ä¸€ä¸ªç™¾åº¦å°±è§£å†³äº†é—®é¢˜äº†.å¶å°”é‡åˆ°ä¸€äº›æ¯”è¾ƒå¥‡æ€ªçš„é—®é¢˜æ‰ä¼šå»äº†è§£ä¸€ä¸‹å›½å¤–å¤§ç¥çš„æƒ³æ³•.è¿™ä¸ªæ—¶å€™å°±æœ‰å¾ˆå¤§çš„å¯èƒ½é‡åˆ°æ‰“ä¸å¼€çš„æƒ…å†µ.å‡‘å·§è¿™ä¸ªæ—¶å€™ä¹‹å‰ç”¨çš„æ”¶è´¹å·¥å…·ä¸èƒ½ç”¨äº†.çœŸçš„æ˜¯è®©äººç€æ€¥å•Š. ç´¢æ€§æˆ‘è¿˜æ˜¯è‡ªå·±æƒ³åŠæ³•å§.åˆ«äººæ­çš„å•†ä¸šæœåŠ¡ä¸è¡Œ,è¿™é‡Œæˆ‘å°±è‡ªå·±æ­ä¸€ä¸ªçº¯ç§äººçš„æœåŠ¡ç®—äº†. é¦–å…ˆè¦é€‰æ‹©ä¸€ä¸ªåˆé€‚çš„æœåŠ¡å™¨.è¿™é‡Œé¦–å…ˆå°±æ’é™¤äº†é˜¿é‡Œè…¾è®¯ç­‰å›½å†…å¤§å…¬å¸äº§å“,å…¶æ¬¡äºšé©¬é€Šè¿™ç§è´¹é’±çš„å¤§æˆ·ä¹Ÿæ˜¯ä¸è€ƒè™‘çš„.è¿™é‡Œç¨å¾®æ¨èå‡ ä¸ªé è°±çš„ä¸“ä¸šæœåŠ¡å™¨æä¾›å•†. Vultr.æœºæˆ¿éåŠå„å¤§å·,èµ„æºéå¸¸ä¸°å¯Œ.æ­£å¸¸æœåŠ¡å™¨500G/æœˆæµé‡,512MBçš„å†…å­˜.ä»·æ ¼ä¸º2.5$/æœˆ.ä¸è¿‡å¾ˆå¤šæ—¶å€™æœ‰ä¼˜æƒ ,å¯ä»¥æ‹¿åˆ°1.5$/æœˆçš„æœåŠ¡å™¨.é€šè¿‡ä¼˜æƒ åœ°å€è¿˜å¯ä»¥åœ¨ç¬¬ä¸€æ¬¡è´­ä¹°çš„æ—¶å€™å¢åŠ æ›´å¤šä¼˜æƒ .ä¼˜æƒ åœ°å€:https://www.vultr.com/?ref=7331073 sugarhosts.æä¾›Sataå’ŒSSDä¸¤ç§ç¡¬ç›˜VPS,49ï¿¥/æœˆ. æ¬ç“¦å·¥.æœºæˆ¿éå¸¸å¤š,ç›®å‰å¹´ä»˜ä½è‡³19.99ç¾é‡‘ï¼Œå¤šæœºæˆ¿å¯é€‰/åˆ‡æ¢. å¦‚æœä½ æ‰“å¼€vulträ¹‹åå‘ç°å¯ä»¥è´­ä¹°1.5$çš„æœåŠ¡å™¨,ä¸è¦çŠ¹è±«,é©¬ä¸Šä¸‹æ‰‹å§.è¿™ä¸ªæœåŠ¡å™¨å‡ ä¹æ˜¯å…¨ç½‘æœ€ä¾¿å®œçš„äº†.å¦‚æœæ²¡æœ‰ä¹Ÿå¯ä»¥æ¢æ¢æ¬ç“¦å·¥,20$/å¹´ç®—ä¸‹æ¥ä¹Ÿæ˜¯éå¸¸ä¾¿å®œäº†.ä¸€æœˆæ‰ç”¨äº†1Gçš„æµé‡â€¦. æˆ‘è¿™é‡Œå°±æ˜¯ä¹°äº†ä¸€ä¸ª1.5$çš„æœåŠ¡å™¨.é€Ÿåº¦ç®—ä¸ä¸Šå¿«,ä½†æ˜¯çœ‹ä¸ªfacebookçš„è§†é¢‘è¿˜æ˜¯å¯ä»¥çš„.ç³»ç»ŸæŒ‘çš„æ˜¯centos7, åœ¨vulträ¸Šé¢è´­ä¹°æœåŠ¡å™¨ä¹‹åéœ€è¦å®‰è£…ssæ‰èƒ½å®‰å…¨è‡ªç”±çš„ä¸Šç½‘.å¯ä»¥åœ¨githubä¸Šé¢æœç´¢æºä»£ç https://github.com/search?utf8=%E2%9C%93&amp;q=ShadowSocks&amp;type= ç¬¬ä¸€ä¸ªå°±æ˜¯ssçš„åœ°å€,æ‰“å¼€ä¹‹åçœ‹åˆ°çš„æ˜¯ä¸€ä¸ªé»˜è®¤çš„ç©ºåœ°å€.å…¶å®è¿™é‡Œæ˜¯ä¸ªå‡è±¡,åªéœ€è¦åˆ‡æ¢åˆ°masteråˆ†æ”¯å³å¯.https://github.com/shadowsocks/shadowsocks/tree/master è¿™é‡Œé¡ºä¾¿æä¾›ä¸€ä¸ªssç®¡ç†ç«¯çš„åœ°å€https://github.com/orvice/ss-panel/tree/master æ‰§è¡Œä¸€é”®å®‰è£…è„šæœ¬.è¿™é‡Œä½¿ç”¨çš„æ˜¯åˆ«çš„å¤§ç¥æ•´ç†å¥½çš„è„šæœ¬,ç›´æ¥å®‰è£…æˆåŠŸ.è¿™ä¸ªè„šæœ¬æ˜¯centosä¸Šå®‰è£…çš„è„šæœ¬.åˆ«çš„ç³»ç»Ÿæ²¡æœ‰è¯•è¿‡,ä¸ç¡®å®šæ˜¯å¦å¯è¡Œ.123wget --no-check-certificate -O shadowsocks-libev.sh https://raw.githubusercontent.com/teddysun/shadowsocks_install/master/shadowsocks-libev.shchmod +x shadowsocks-libev.sh./shadowsocks-libev.sh 2&gt;&amp;1 | tee shadowsocks-libev.log å®‰è£…è¿‡ç¨‹ä¸­ä¼šæç¤ºè¾“å…¥ip/ç«¯å£ç­‰ä¿¡æ¯.12345Congratulations, Shadowsocks-libev server install completed!Your Server IP :your_server_ipYour Server Port :your_server_portYour Password :your_passwordYour Encryption Method:your_encryption_method åˆ°è¿™é‡ŒåŸºæœ¬ä¸Šå°±å®‰è£…æˆåŠŸäº†,æœ‰ä¸€äº›æ”¹åŠ¨ä¹Ÿå¯ä»¥æ ¹æ®å®˜ç½‘çš„æ•™ç¨‹æ¥ä¿®æ”¹é…ç½®æ–‡ä»¶. ä¹Ÿå¯ä»¥è‡ªå·±ä¼˜åŒ–ssçš„æ•ˆç‡,æé«˜ssçš„é€Ÿåº¦.è¿™é‡Œæ¨èä¸€ä¸ªä¼˜åŒ–æ–‡ç« ,é“¾æ¥åœ°å€ sså·²ç»åœæ­¢æ›´æ–°äº†,æœ‰å…´è¶£çš„å¯ä»¥è½¬å‘ç ”ç©¶ssçš„è¿›é˜¶ç‰ˆæœ¬ssr.","categories":[{"name":"èµ„æº","slug":"resource","permalink":"http://www.guofangchao.com/categories/resource/"}],"tags":[{"name":"è‡ªç”±","slug":"è‡ªç”±","permalink":"http://www.guofangchao.com/tags/è‡ªç”±/"},{"name":"ç§‘å­¦","slug":"ç§‘å­¦","permalink":"http://www.guofangchao.com/tags/ç§‘å­¦/"}],"keywords":[{"name":"èµ„æº","slug":"resource","permalink":"http://www.guofangchao.com/categories/resource/"}]},{"title":"ä½¿ç”¨googleçš„å…è´¹æœåŠ¡è¿è¡Œæœºå™¨å­¦ä¹ ä»£ç ","slug":"ä½¿ç”¨googleçš„å…è´¹æœåŠ¡è¿è¡Œæœºå™¨å­¦ä¹ ä»£ç ","date":"2018-03-23T02:14:00.000Z","updated":"2018-03-23T02:15:00.418Z","comments":true,"path":"2018/03/23/ä½¿ç”¨googleçš„å…è´¹æœåŠ¡è¿è¡Œæœºå™¨å­¦ä¹ ä»£ç /","link":"","permalink":"http://www.guofangchao.com/2018/03/23/ä½¿ç”¨googleçš„å…è´¹æœåŠ¡è¿è¡Œæœºå™¨å­¦ä¹ ä»£ç /","excerpt":"","text":"å¦‚æœä½ æƒ³å­¦ä¹ æœºå™¨å­¦ä¹ ,ä½†æ˜¯åˆæ²¡æœ‰ä¸€ä¸ªè‡ªå·±çš„ç¯å¢ƒ/æ˜¾å¡.è¿™é‡Œå‘Šè¯‰å¤§å®¶ä¸€ä¸ªå¥½æ¶ˆæ¯,googleä¸Šé¢æœ‰ä¸€ä¸ªå…è´¹çš„æœºå™¨å­¦ä¹ ç¯å¢ƒå¯ä»¥ä½¿ç”¨äº†. åœ¨googleæœç´¢google colab,æ‰“å¼€æœç´¢åˆ°çš„åœ°å€:https://colab.research.google.com é»˜è®¤ä¼šæç¤ºåˆ›å»ºä¸€ä¸ªæ–°çš„è®°äº‹æœ¬.è¿™æ˜¯å› ä¸ºgoogleæä¾›çš„æ˜¯ä¸€ä¸ªç¬”è®°æœ¬çš„ç¯å¢ƒ,æ‰€æœ‰çš„ä»£ç éƒ½æ˜¯å­˜å‚¨åœ¨ä¸€ä¸ªä¸ªçš„è®°äº‹æœ¬ä¸­çš„. è¿™ä¸ªæ—¶å€™å¯ä»¥ç‚¹å‡»å–æ¶ˆæŸ¥çœ‹é»˜è®¤çš„æ¡ˆä¾‹. ä»æ¡ˆä¾‹ä¸­å¯ä»¥çœ‹åˆ°ä»£ç å’Œæ–‡æ¡£æ˜¯ç›´æ¥ç»“åˆåœ¨ä¸€èµ·çš„,åŒæ—¶å¯ä»¥åœ¨ä»£ç çš„æœ€ä¸‹é¢çœ‹åˆ°æ‰§è¡Œçš„ç»“æœ.è¿™é‡Œç¨å¾®æ³¨æ„ä¸‹ä¸€ä¸‹,æ¯æ®µä»£ç éƒ½æ˜¯å•ç‹¬çš„ä¸€è¡Œ. å¯ä»¥åœ¨ä¹‹å‰çš„ç•Œé¢ç‚¹å‡»åˆ›å»º,ä¹Ÿå¯ä»¥åœ¨å·¦ä¸Šè§’çš„æ–‡ä»¶ä¸­é€‰æ‹©åˆ›å»º.å¯é€‰çš„æœ‰python2å’Œpython3è¿™ä¸¤ç§ç‰ˆæœ¬,æ ¹æ®è‡ªå·±çš„å–œå¥½æ¥é€‰æ‹©å°±å¥½. åˆ›å»ºä¹‹åè®°å¾—é€‰æ‹©æ‰§è¡Œä»£ç ç¨‹åºä¸‹çš„æ›´æ”¹è¿è¡Œæ—¶ç±»å‹. åœ¨ä¸‹é¢çš„ç¡¬ä»¶åŠ é€Ÿå™¨ä¸­é€‰æ‹©GPU,è¿™æ ·ä¹‹åçš„ä»£ç å°±è¿è¡Œåœ¨gpuä¸Šäº†.å†ä¹Ÿä¸æ€•å®¶é‡Œçš„ç”µè„‘æ²¡gpuäº†. è¿™é‡Œæ·»åŠ ä¸€è¡Œä»£ç ,è¾“å…¥ä¸‹é¢çš„ä¸€ä¸ªæ¡ˆä¾‹.ç„¶åç‚¹å‡»å·¦ä¾§çš„è¿è¡ŒæŒ‰é’®,è¿™æ ·å°±å¯ä»¥åœ¨ä¸‹é¢çœ‹åˆ°è¿è¡Œçš„ç»“æœäº†.1234567import matplotlib.pyplot as pltimport numpy as npx = np.arange(20)y = [x_i + np.random.randn(1) for x_i in x]a, b = np.polyfit(x, y, 1)plt.plot(x, y, 'o', np.arange(20), a*np.arange(20)+b, '-');","categories":[{"name":"æœºå™¨å­¦ä¹ ","slug":"æœºå™¨å­¦ä¹ ","permalink":"http://www.guofangchao.com/categories/æœºå™¨å­¦ä¹ /"}],"tags":[{"name":"google","slug":"google","permalink":"http://www.guofangchao.com/tags/google/"}],"keywords":[{"name":"æœºå™¨å­¦ä¹ ","slug":"æœºå™¨å­¦ä¹ ","permalink":"http://www.guofangchao.com/categories/æœºå™¨å­¦ä¹ /"}]},{"title":"hexoæ·»åŠ seoä¼˜åŒ–","slug":"hexoæ·»åŠ seoä¼˜åŒ–","date":"2018-03-22T06:26:00.000Z","updated":"2018-03-22T06:43:35.341Z","comments":true,"path":"2018/03/22/hexoæ·»åŠ seoä¼˜åŒ–/","link":"","permalink":"http://www.guofangchao.com/2018/03/22/hexoæ·»åŠ seoä¼˜åŒ–/","excerpt":"","text":"ç«™ç‚¹æ”¶å½•ä¸€èˆ¬æ¥è¯´ä½ çš„ç½‘ç«™æ­å»ºå¥½åä¾æ—§æ˜¯æ— æ³•åœ¨å„å¤§æœç´¢å¼•æ“ä¸­æœåˆ°çš„ï¼Œå…·ä½“å¯ä»¥é€šè¿‡åœ¨æœç´¢å¼•æ“è¾“å…¥site:ä½ çš„åŸŸåéªŒè¯ã€‚æ‰€ä»¥ä½ éœ€è¦æäº¤ä½ çš„ç«™ç‚¹åˆ°å„å¤§æœç´¢å¼•æ“ï¼š https://ziyuan.baidu.com/linksubmit/url https://www.google.com/webmasters/tools/home?hl=zh-CN æ–‡ä»¶æ”¶å½•:1.éœ€è¦å…ˆä¸‹è½½éªŒè¯æ–‡ä»¶ï¼Œå°†ä¸‹è½½çš„æ–‡ä»¶æ”¾åˆ°ç«™ç‚¹æ ¹ç›®å½•/sourceæ–‡ä»¶ä¸‹2.åœ¨ç«™ç‚¹é…ç½®æ–‡ä»¶ä¸­æ‰¾åˆ°skip_render:ä¿®æ”¹ï¼š 1234skip_render: - README.md - CNAME - baidu_verify_XXXXXXXXXX.html #ä¸‹è½½çš„æ–‡ä»¶å tokenéªŒè¯1.æŠŠå›¾ä¸­é©¬èµ›å…‹éƒ¨åˆ†çš„tokenå¤åˆ¶ä¸‹æ¥2.æ‰“å¼€ä¸»é¢˜é…ç½®æ–‡ä»¶ï¼Œæœç´¢site_verificationï¼Œä¿®æ”¹ï¼š æ·»åŠ ç«™ç‚¹åœ°å›¾sitemapå®‰è£…hexoçš„sitemapç½‘ç«™åœ°å›¾ç”Ÿæˆæ’ä»¶12npm install hexo-generator-sitemap --savenpm install hexo-generator-baidu-sitemap --save","categories":[{"name":"èµ„æº","slug":"resource","permalink":"http://www.guofangchao.com/categories/resource/"}],"tags":[{"name":"seo","slug":"seo","permalink":"http://www.guofangchao.com/tags/seo/"}],"keywords":[{"name":"èµ„æº","slug":"resource","permalink":"http://www.guofangchao.com/categories/resource/"}]},{"title":"react-native:ä¸€åœºAPPä¸­çš„é©å‘½","slug":"react-native-ä¸€åœºAPPä¸­çš„é©å‘½","date":"2018-03-20T03:35:00.000Z","updated":"2018-04-01T08:44:11.165Z","comments":true,"path":"2018/03/20/react-native-ä¸€åœºAPPä¸­çš„é©å‘½/","link":"","permalink":"http://www.guofangchao.com/2018/03/20/react-native-ä¸€åœºAPPä¸­çš„é©å‘½/","excerpt":"","text":"è®°å¾—ä»2010å¹´å¼€å§‹ï¼Œå‰ç«¯å°±é€æ¸ç»½æ”¾å…‰èŠ’ã€‚ åœ¨é‚£ä¹‹å‰çš„æˆ‘è¿˜æ˜¯ä¸€ä¸ªå‹¤æ³çš„åç«¯å·¥ç¨‹å¸ˆï¼Œæ¯å¤©çš„å·¥ä½œå°±æ˜¯ä¸€è¾¹å¹²ç€åç«¯ä»£ç ä¸€è¾¹è¿˜è¦å†™ä¸€ç‚¹tableä¹‹ç±»çš„å‰ç«¯ä»£ç ã€‚å—¯ï¼Œä¹Ÿç®—ä¸ä¸Šå‰ç«¯ï¼Œä»…ä»…æ˜¯ä¸€ä¸ªåˆä¸€ä¸ªè¡¨æ ¼çš„åµŒå¥—è€Œå·²ã€‚é‚£ä¸ªæ—¶å€™çš„å‰ç«¯çœŸçš„æ˜¯ä¸ªåƒåœ¾å•Šã€‚ ä¹Ÿå°±åœ¨é‚£ä¸€å¹´ï¼Œæˆ‘ç¬¬ä¸€æ¬¡è½¬åšå¼€å‘webåº”ç”¨ï¼Œä¾ç„¶è®°å¾—è·Ÿæˆ‘é…åˆçš„æ˜¯ä¸€ä¸ªå¯çˆ±çš„å‰ç«¯å¦¹å­ã€‚ä»å‰ç«¯å¦¹å­èº«ä¸Šæˆ‘å­¦åˆ°äº†åŸºç¡€çš„å‰ç«¯å¼€å‘æ–¹å¼ï¼Œä¹Ÿå°±æ˜¯åœ¨é‚£ä¸€å¹´æˆ‘è®¤è¯†äº†é”‹åˆ©çš„jqueryã€‚é‚£æ˜¯æ€æ ·ä¸€ç§ä¸åŒçš„è¯­è¨€å•Šï¼Œç®€å•å¿«é€Ÿã€ä¸Šæ‰‹å°±èƒ½ä½¿ç”¨ã€å³æ—¶äº§ç”Ÿæ•ˆæœã€‚ä¸€äº›å¥½çœ‹çš„æ•ˆæœå®ç°å‡ºæ¥çœŸçš„æ˜¯åˆå¿«é€Ÿåˆç®€å•ã€‚æˆ‘å›å¤´çœ‹äº†çœ‹æ— è¶£çš„javaä»£ç â€¦..å—¯ï¼Œå°å¦¹å¦¹æ•™æ•™æˆ‘å¥½ä¸å¥½ï¼Ÿ ä»æ­¤çœŸå¯è°“ä¸€å‘ä¸å¯æ”¶æ‹¾å•Šã€‚æˆ‘ä»jqueryå…¥é—¨çš„å‰ç«¯ï¼Œåˆå›å¤´ç ”ç©¶äº†åŸç”Ÿçš„å„ç§ä½¿ç”¨å§¿åŠ¿ã€‚ä¸€åº§æ–°ä¸–ç•Œçš„å¤§é—¨ä»æ­¤å‘æˆ‘æ‰“å¼€ã€‚æˆ‘å¼€å§‹åˆ¶ä½œå„ç§æœ‰æ„æ€çš„å°ç»„ä»¶ã€‚æœ‰æ”¹äº†å¥½å‡ ä¸ªç‰ˆæœ¬çš„æ— é™å¾ªç¯çš„è½®æ’­å›¾ä¸€ä¸ªç³»åˆ—ã€‚ç”µè„‘æ‰‹æœºä¸Šè‡ªé€‚åº”ç½‘é¡µå®½åº¦çš„å„ç§å§¿åŠ¿ã€‚å¯¼èˆªç­‰èœå•ä¸­ä½¿ç”¨åˆ°çš„ä¸‹æ‹‰åˆ—è¡¨çš„å„ç§ç‰¹æ•ˆã€‚å„ç§æ•ˆæœçš„ç½‘é¡µåŠ è½½ä½¿ç”¨çš„loadingåŠ¨ç”»ã€‚ä¸€è·¯èµ°æ¥æˆ‘æ·±æ·±çš„å–œæ¬¢ä¸Šäº†è¿™ç§å†™å®Œå°±èƒ½çœ‹æ•ˆæœï¼Œè€Œä¸”æ•ˆæœè¿˜æ—¥å¸¸çˆ†ç‚¸çš„æŠ€æœ¯ã€‚ å½“æˆ‘ä»¥ä¸ºè¿™å°±æ˜¯å‰ç«¯çš„å…¨éƒ¨çš„æ—¶å€™ï¼Œæˆ‘çœ‹åˆ°äº†æ¨¡å—åŒ–æŠ€æœ¯ã€‚åŸæ¥æˆ‘ä¹‹å‰éª‘çš„æ˜¯è‡ªè¡Œè½¦ï¼Œæœç„¶æˆ‘è¿˜æ˜¯å¤ªå¹´è½»äº†ã€‚æ¨¡å—è§£å†³äº†å¤§å‹é¡¹ç›®åˆ†å·¥åˆä½œçš„é—®é¢˜ï¼Œé¡ºä¾¿è®©ç½‘é¡µåŠ è½½çš„æ›´åŠ æµç•…ï¼Œä¸€ä¸¾å¤šå¾—è«ä¸è¿‡å¦‚æ­¤æŠŠã€‚ æˆ‘ä»¥ä¸ºæ¨¡å—åŒ–å·²ç»éå¸¸å‰å®³äº†ï¼Œä½†æ˜¯ç‰›äººçš„ä¸–ç•Œæˆ‘ä¸æ‡‚ã€‚åé¢æœ‰é™†ç»­é‡åˆ°äº†gulpã€babelã€webpackï¼Œä¸€ä¸ªæ›´æ¯”ä¸€ä¸ªå‰å®³ï¼Œå®ƒä»¬çš„æ€æƒ³çœŸæ­£è®©æˆ‘çŸ¥é“ï¼Œä¸–ç•Œè¿˜å¯ä»¥è¿™æ ·å­ã€‚è‡³äºåæ¥é‡åˆ°çš„äº†SPAåº”ç”¨ï¼Œå—¯ï¼Œè¿™ä¸ªspaæœ‰ç‚¹çˆ½ã€‚æœç„¶ï¼Œåœ¨ä¸€ä¸ªé€‚å½“çš„æœºä¼šï¼Œæˆ‘å½“æœºç«‹æ–­è½¬æˆ˜vueJsã€‚ åœ¨ä¸çŸ¥ä¸è§‰ä¸­å‰ç«¯çš„è§¦è§’å·²ç»è”“å»¶åˆ°äº†æ•´ä¸ªä¸–ç•Œã€‚å°¤å…¶æ˜¯åœ¨æˆ‘ä»¬æœ‰äº†nodejsä¹‹åã€‚æ›¾ç»çš„ä¸€ä¸ªè„šæœ¬è¯­è¨€ï¼Œç”±äºå„è·¯ç¥ä»™çš„åŠ å…¥ï¼Œå†åŠ ä¸Šå®ƒå¤©ç”Ÿçš„å¼€æºåŸºå› ï¼Œä¸€ä¸ªå¹¿é˜”çš„ä¸–ç•Œå·²ç»åœ¨å‘å„ä½å‰ç«¯å¼€å‘è€…èµ°æ¥ã€‚è¿˜æœ‰ä»€ä¹ˆæ˜¯æˆ‘ä»¬åšä¸åˆ°çš„å‘¢ï¼Ÿ åœ¨ä¹‹å‰ä¸€ç›´æƒ³è¦åšä¸€ä¸ªè‡ªå·±çš„APPã€‚ä½†æ˜¯å¼€å‘ä¸€ä¸ªAPPéå¸¸çš„éº»çƒ¦ï¼Œä¸ä»…ä»…æ˜¯è¿˜éœ€è¦å­¦ä¹ å®‰å“çš„å¼€å‘è¯­è¨€å’Œæ¨¡å¼ï¼ŒåŒæ—¶è¦å¼€å‘iosè¿˜éœ€è¦å†å­¦ä¹ ä¸€å¥—ocçš„ä¸œè¥¿ï¼Œå¦‚æœä½ è¿˜è¦å…¼å®¹swiftè®¾ç½®wpâ€¦.æˆ‘çš„å¤©ï¼Œæƒ³æƒ³å°±ä¸å¼€å¿ƒä¸€æ•´å¤©ã€‚ ä»”ç»†æƒ³æƒ³æˆ‘è¿˜èƒ½å›å¿†æ›¾ç»ä¸Šæ‰‹å®‰å“ä»£ç çš„é‚£æ®µè‰°éš¾å²æœˆã€‚ä¸‹äº†ä¸€æ•´å¤©çš„SDKï¼Œåæ¥æ‰å‘ç°å¯ä»¥æ‰¾å›½å†…çš„æºã€‚æäº†ä¸€å¤©çš„ç¼–è¾‘å™¨ï¼Œæœ€åè¿˜æ˜¯å±ˆæœäºAndroid studioï¼Œé‚£ä¸ªæ—¶å€™çœŸçš„å¾ˆå°‘æœ‰å¥½ç”¨çš„IDEã€‚å¤æ‚çš„é…ç½®ã€è‰°éš¾çš„ç•Œé¢å¸ƒå±€ã€çŠ¶å†µé¢‘å‡ºçš„å¼€å‘è¿‡ç¨‹ã€‚ã€‚ã€‚ã€‚ã€‚å¿ƒé…¸å•Šã€‚æœ¬æ¥å¥½å¥½çš„å­¦ä¹ å¿ƒæ€ä¹Ÿåªå‰©ä¸‹äº†æ— å°½çš„æŒ£æ‰ã€‚ æˆ‘åœ¨æƒ³facebookçš„å¼€å‘è€…ä»¬ä¹Ÿè‚¯å®šæ˜¯è¿™ä¹ˆæƒ³çš„ï¼Œä¸ç„¶ä¸ä¼šå‡ºç°react-nativeã€‚è¿™çœŸçš„æ˜¯ä¸€ä¸ªå¤©æ‰çš„æƒ³æ³•ï¼Œä¸€ä¸‹å­è§£å†³äº†å¾ˆå¤šç–‘éš¾æ‚ç—‡ã€‚è™½ç„¶å®ƒç›®å‰è¿˜å¤„åœ¨æµ‹è¯•ç‰ˆæœ¬ï¼Œè¿™å†³å®šäº†å®ƒè¿˜æœ‰å¾ˆå¤šé—®é¢˜ï¼Œå¼€å‘çš„æ—¶å€™ä¹Ÿè®¸ä¼šé‡åˆ°ä¸€äº›éº»çƒ¦ã€‚ä½†æ˜¯æ ¸å¿ƒçš„é—®é¢˜ç¡®å®è¢«çœŸæ­£çš„è§£å†³äº†ï¼Œå¼€å‘ä¸€ä¸ªAPPå†ä¹Ÿä¸æ˜¯å·¨å¤§çš„å·¥ä½œé‡äº†ã€‚ ä¸éœ€è¦ä¸€ä¸ªé™¡å³­çš„å­¦ä¹ æ›²çº¿ï¼Œä¸€ä¸ªå‰ç«¯å¼€å‘è€…å°±å¯ä»¥å¿«é€Ÿå¼€å‘ä¸€ä¸ªè‡ªå·±çš„APPã€‚ä¸åœ¨éœ€è¦å¤šä¸ªå›¢é˜Ÿé…åˆï¼Œä¸€ä¸ªå›¢é˜Ÿæå®šæ‰€æœ‰å¹³å°ã€‚é¡ºä¾¿ä½¿ç”¨nodejsæ­å»ºä¸€ä¸ªåç«¯æ¥å£ï¼Œå†é…åˆMongoDBæˆ–è€…MySQLï¼Œå®Œç¾ï¼ å½“æˆ‘ä½¿ç”¨å‡ å¤©çš„æ—¶é—´å¼€å‘å®Œä¸€ä¸ªå®Œæ•´çš„APPçš„æ—¶å€™ï¼Œæˆ‘æœ€å¤§çš„æ„Ÿå—å°±æ˜¯â€”çˆ½ã€‚ çœŸçš„ä¸éœ€è¦å†è´¹åŠ›å‘å¸ƒAPPå®¢æˆ·ç«¯äº†ã€‚ä¸€æ¬¡å®‰è£…æ°¸ä¹…æœ€æ–°ï¼Œåªéœ€è¦æ›´æ–°æœåŠ¡å™¨çš„jsç‰ˆæœ¬å°±èƒ½åšåˆ°è®©ç”¨æˆ·æ›´æ–°æœ€æ–°çš„UIç•Œé¢ã€‚å‡çº§è¿‡ç¨‹ç”¨æˆ·å®Œå…¨æ— æ„ŸçŸ¥ã€‚å®¢æˆ·ç«¯ç‰ˆæœ¬å‡çº§ï¼Ÿé‚£æ˜¯ä»€ä¹ˆã€‚ å†ä¹Ÿä¸éœ€è¦åš2å¥—ä»£ç äº†ã€‚å¼€å‘iOSå’ŒAndroidåªéœ€è¦ä¸€å¥—å‰ç«¯ä»£ç ã€‚åœ¨å¼ºå¤§çš„ç¤¾åŒºå¸®åŠ©ä¸‹ï¼ŒRNå‡ ä¹æ”¯æŒæ‰€æœ‰çš„åŸç”ŸåŠŸèƒ½ã€‚ä¸€ä¸ªå›¢é˜Ÿåªéœ€è¦é…å¤‡ä¸€ä¸ªæ‡‚åŸç”Ÿçš„å¼€å‘å°±èƒ½è½»æ˜“æ·»åŠ å„ç§è‡ªå®šä¹‰çš„åŸç”Ÿæ”¯æŒï¼Œæƒ³è¦åŠ é€ŸæŸäº›æ–¹é¢åªéœ€è¦éšç€è‡ªå·±çš„å¿ƒæ„è‡ªå®šä¹‰å°±å¥½äº†ï¼ŒRNæä¾›äº†å®Œæ•´çš„è‡ªå®šä¹‰æµç¨‹ã€‚è¿˜æœ‰ä»€ä¹ˆä¸æ»¡è¶³ï¼Ÿ ä¸éœ€è¦åšä»€ä¹ˆåŸç”Ÿçš„å¼€å‘ï¼Œä¸€ä¸ªç¨å¾®å¤æ‚çš„APPå°±å¯ä»¥è¯ç”Ÿå‡ºæ¥ã€‚è¿™å¾—ç›Šäºæ´»è·ƒçš„ç¤¾åŒºå’Œçƒ­æƒ…çš„å¼€æºå…±äº«è€…ã€‚åªéœ€è¦npmå’Œreact-nativeçŸ­çŸ­ä¸€æ¡å‘½ä»¤ï¼Œå°±è·Ÿå®‰è£…webçš„ç¬¬ä¸‰æ–¹åŒ…ä¸€æ ·ç®€å•ã€‚nativeå°±å·²ç»å®‰è£…å¥½äº†ä½ éœ€è¦çš„å„ç§åŒ…ï¼Œä¸€åˆ‡éƒ½æ˜¯é‚£ä¹ˆçš„ç®€ä¾¿ã€‚å¼€å‘æ•ˆç‡ç¿»å€çš„æå‡ã€‚éœ€è¦çš„å¼€å‘äººå‘˜ç¿»å€çš„ä¸‹é™ã€‚ å¾€å¸¸ä¸¤ä¸ªå›¢é˜Ÿæ‰èƒ½å¼€å‘çš„é¡¹ç›®ï¼Œç°åœ¨åªéœ€è¦ä¸€ä¸ªå›¢é˜Ÿã€‚å¦‚æœæ˜¯ç®€å•é¡¹ç›®ç”šè‡³ä¸¤ä¸‰ä¸ªäººå°±æå®šäº†ã€‚å¦‚æœå‰ç«¯å¼€å‘åŒå­¦æ¯”è¾ƒå…¨é¢çš„è¯â€¦.ä»”ç»†æƒ³æƒ³å§ï¼Œä¸€ä¸ªå‰ç«¯æAPPï¼Œä¸€ä¸ªå‰ç«¯ææ¥å£ï¼Œä¸€ä¸ªå‰ç«¯æDBã€‚å“‡ï¼å‰ç«¯æå®šæ•´ä¸ªé¡¹ç›®ã€‚ å¦‚æœä½ çœŸçš„æƒ³è¦å­¦ä¹ ä¸€ä¸‹è¿™ç§é«˜å¤§ä¸Šçš„æŠ€æœ¯ï¼Œè¯·åœ¨gitbook.cnä¸Šæœç´¢react-nativeçš„å®æˆ˜è¾¾äººè¯¾ã€‚ä¸€ä¸ªçœŸå®çš„æ¡ˆä¾‹åŠ ä¸€ä¸ªèµ„æ·±çš„è€å¸ˆæ•™ä½ å¼€å‘ä¸€ä¸ªå®Œæ•´çš„ç”µå•†APPã€‚ å‰ç«¯æ‰æ˜¯çœŸæ­£çš„è‰ºæœ¯ï¼Œå“ˆï¼ æ­£ç‰ˆè¯¾ç¨‹åœ°å€","categories":[{"name":"å‰ç«¯","slug":"big-front-end","permalink":"http://www.guofangchao.com/categories/big-front-end/"}],"tags":[{"name":"react-native","slug":"react-native","permalink":"http://www.guofangchao.com/tags/react-native/"}],"keywords":[{"name":"å‰ç«¯","slug":"big-front-end","permalink":"http://www.guofangchao.com/categories/big-front-end/"}]},{"title":"æˆå°±åŒ¹é…ç®—æ³•è§£æ","slug":"æˆå°±åŒ¹é…ç®—æ³•è§£æ","date":"2018-03-16T15:26:00.000Z","updated":"2018-03-20T06:35:03.829Z","comments":true,"path":"2018/03/16/æˆå°±åŒ¹é…ç®—æ³•è§£æ/","link":"","permalink":"http://www.guofangchao.com/2018/03/16/æˆå°±åŒ¹é…ç®—æ³•è§£æ/","excerpt":"","text":"ä»Šå¤©é‡åˆ°ä¸€ä¸ªé—®é¢˜ï¼š æœ‰4ä¸ªå›ºå®šçš„æˆå°±ï¼Œæ¯ä¸ªæˆå°±å¯¹åº”ä¸€ä¸ªæ•°å­—ã€‚ç”¨æˆ·çš„ç§¯åˆ†è¶…è¿‡è¿™ä¸ªæ•°å­—è‡ªåŠ¨è·å¾—è¿™ä¸ªæˆå°±å°†è¿™ä¸ªæ–¹æ³•ä½œä¸ºä¸€ä¸ªå…¬ç”¨çš„æ–¹æ³• è€ƒè™‘å¦‚ä¸‹ï¼š1.å¿…é¡»æ˜¯ä¸€ä¸ªå•ç‹¬çš„æ–¹æ³•ï¼ˆå¤šä½™ï¼‰2.è¾“å…¥å‚æ•°å›ºå®šä¸ºç§¯åˆ†æ•°é‡3.è¾“å‡ºå‚æ•°åŒ…æ‹¬å½“å‰æˆå°±åç§°ï¼Œåˆ°è¾¾ä¸‹ä¸€çº§éœ€è¦çš„ç§¯åˆ†ï¼Œä¸‹ä¸€çº§æˆå°±åç§°4.æ‰©å±•è¦å¥½ï¼Œä¸‹æ¬¡ä¿®æ”¹ä¸ç”¨æ”¹å¤ªå¤š5.æ€§èƒ½è¦å¥½ï¼Œä¸èƒ½å‡ºé—®é¢˜ ä»¥ä¸‹æ˜¯JavaScriptçš„å®ç°ç‰ˆæœ¬ã€‚ 123456789101112131415161718/***è¾“å…¥ç§¯åˆ†æ•°ï¼Œè¿”å›æˆå°±ä¿¡æ¯é›†ã€‚åŒ…å«ç§¯åˆ†+1æ“ä½œ*num &#123;Number&#125; å½“å‰ç§¯åˆ†æ•°é‡*return num &#123;Number&#125; è·ç¦»ä¸‹ä¸€çº§éœ€è¦çš„ç§¯åˆ†æ•°é‡*return type &#123;String&#125; å½“å‰è¾¾åˆ°çš„æˆå°±åç§°*return next &#123;String&#125; ä¸‹ä¸€çº§çš„æˆå°±åç§°*/function test(num)&#123; var score_list=[0,500,2000,7000,16999]; var type_list=[\"\",\"ä¸“è®¿\",\"ç™¾ç§‘\",\"ç¾¤å±•\",\"ä¸ªå±•\"]; var index=score_list.length-1; while(num&lt;score_list[index])index--; return &#123; num:score_list[index+1]-num, type:type_list[index], next:type_list[index+1] &#125;&#125; å¯ä»¥è€ƒè™‘å°†2ä¸ªæ•°ç»„æ”¾åœ¨å¤–é¢èŠ‚çº¦ä¸€ä¸‹ç©ºé—´ï¼Œæˆ‘è¿™è¾¹çš„å®é™…æƒ…å†µå°±ä¸éœ€è¦è€ƒè™‘äº†ã€‚","categories":[{"name":"å‰ç«¯","slug":"big-front-end","permalink":"http://www.guofangchao.com/categories/big-front-end/"}],"tags":[{"name":"ç®—æ³•","slug":"suanfa","permalink":"http://www.guofangchao.com/tags/suanfa/"}],"keywords":[{"name":"å‰ç«¯","slug":"big-front-end","permalink":"http://www.guofangchao.com/categories/big-front-end/"}]},{"title":"AppRegistryè¯¦ç»†è§£æ","slug":"AppRegistryè¯¦ç»†è§£æ","date":"2018-03-16T15:14:17.000Z","updated":"2018-03-16T15:16:28.673Z","comments":true,"path":"2018/03/16/AppRegistryè¯¦ç»†è§£æ/","link":"","permalink":"http://www.guofangchao.com/2018/03/16/AppRegistryè¯¦ç»†è§£æ/","excerpt":"","text":"åœ¨React-nativeä¸­æœ‰ä¸€ä¸ªapiå«AppRegistryã€‚è¿™æ˜¯RNä¸­çš„ä¸€ä¸ªé‡è¦apiã€‚ æ¥å£ä»‹ç» static registerComponent(appKey, componentProvider, section?)æ³¨å†Œç»„ä»¶ï¼Œjsä¸­éå¸¸é‡è¦çš„ä¸€æ­¥ï¼Œåªæœ‰è¿™é‡Œæ³¨å†Œäº†ï¼Œnative codeä¸­æ‰ä¼šæ‰¾åˆ°è¦æ‰§è¡Œçš„jsã€‚ static registerRunnable(appKey, run)æ³¨å†Œä¸€ä¸ªæ–°çš„çº¿ç¨‹ï¼Œé€šè¿‡ç¬¬ä¸€ä¸ªå‚æ•°æ¥åŒºåˆ†ï¼Œç¬¬äºŒä¸ªå‚æ•°æ˜¯ä¸€ä¸ªæ–¹æ³•ã€‚ static runApplication(appKey, appParameters) #æ ¹æ®keyæ¥æ‰§è¡Œå¯¹åº”çš„åº”ç”¨ï¼ˆä¾‹å¦‚ä½¿ç”¨Runableæ³¨å†Œçš„ï¼‰ã€‚å¦‚æœappKeyä¸å­˜åœ¨ä¼šæŠ¥é”™ã€‚ static getAppKeys()è·å–æ³¨å†Œçš„æ‰€æœ‰çº¿ç¨‹ã€‚å…¶ä¸­åŒ…æ‹¬ç¬¬ä¸€æ­¥æ³¨å†Œçš„Componentå’Œåé¢æ³¨å†Œçš„Runable static unmountApplicationComponentAtRootTag(rootTag)ç»“æŸåº”ç”¨ï¼Œä¸ä¼ å‚æ•°é»˜è®¤ç»“æŸappKeysä¸­çš„ç¬¬ä¸€ä¸ª static registerHeadlessTask(taskKey, task)åˆ›å»ºä¸€ä¸ªä»»åŠ¡ï¼Œè¿™ä¸ªçº¿ç¨‹ä¸æ”¯æŒUIã€‚ static startHeadlessTask(taskId, taskKey, data)æ‰§è¡Œå¯¹åº”çš„ä»»åŠ¡ã€‚ï¼ˆæš‚ä¸æ”¯æŒï¼‰ static registerSection(appKey, component)æ³¨å†Œä¸€ä¸ªåˆ‡ç‰‡ è§£é‡Š appKeyç”¨åˆ°è¿™ä¸ªå‚æ•°çš„åœ°æ–¹ï¼Œä½¿ç”¨æ–¹æ³•éƒ½ä¸€æ · registerHeadlessTaskè¿™ä¸ªæ–¹æ³•çš„ç¬¬äºŒä¸ªå‚æ•°æ˜¯ä¸€ä¸ªæ–¹æ³•ï¼Œè¦æ±‚è¿”å›çš„æ˜¯ä¸€ä¸ªPromiseå¯¹è±¡","categories":[],"tags":[],"keywords":[]},{"title":"04.åŸºç¡€-ç»„ä»¶å’Œå•†å“è¯¦æƒ…","slug":"04-åŸºç¡€-ç»„ä»¶å’Œå•†å“è¯¦æƒ…","date":"2018-03-14T14:40:00.000Z","updated":"2018-03-14T15:19:25.735Z","comments":true,"path":"2018/03/14/04-åŸºç¡€-ç»„ä»¶å’Œå•†å“è¯¦æƒ…/","link":"","permalink":"http://www.guofangchao.com/2018/03/14/04-åŸºç¡€-ç»„ä»¶å’Œå•†å“è¯¦æƒ…/","excerpt":"","text":"çŸ¥è¯†ç‚¹ï¼š1.ä½¿ç”¨è·¯ç”±è·³è½¬å†…é¡µ2.å¼€å‘å®Œæ•´çš„å•†å“è¯¦æƒ…é¡µ3.å¼¹å‡ºé€‰æ‹©æ•°é‡ å‰é¢çš„ä»£ç å·²ç»åŠ å…¥gitä»“åº“ï¼Œé“¾æ¥åœ°å€ã€‚è®²é¡¹ç›®æ”¾åœ¨æœ¬åœ°çš„åŒå­¦ä¹Ÿå¯ä»¥è¯•ç€å°†ä»£ç æ”¾åˆ°ä»“åº“é‡Œã€‚è¿™ä¸ªåœ°æ–¹å¯ä»¥ä½¿ç”¨å•ç‹¬çš„åˆ†æ”¯åˆå¹¶åˆ°masterï¼Œä¹Ÿå¯ä»¥ç›´æ¥è¦†ç›–å¸¦masteråˆ†æ”¯ã€‚ ä¸ºäº†èƒ½å¤Ÿæ›´ç›´è§‚çš„çœ‹åˆ°æ¯æ¬¡æäº¤çš„ä»£ç ï¼Œæˆ‘å°½é‡æŠŠæ¯ä¸€èŠ‚çš„å†…å®¹éƒ½åšä¸€æ¬¡æäº¤ï¼Œå¤‡æ³¨ä¹Ÿä¼šå†™çš„éå¸¸æ¸…æ¥š.å¦å¤–æˆ‘ä¹Ÿä¼šä¸å®šæ—¶çš„å¢åŠ å„ç§æ³¨é‡Šåˆ°ä»£ç é‡Œã€‚ä¸€èˆ¬æƒ…å†µåªéœ€è¦åˆ‡æ¢åˆ°ä¸åŒçš„æäº¤æ—¶é—´ç‚¹å³å¯çœ‹åˆ°å½“æ—¶ä½¿ç”¨çš„ä»£ç äº†ã€‚ æ·»åŠ é¡µé¢å’Œè·³è½¬åœ¨srcç›®å½•ä¸‹æ·»åŠ ä¸€ä¸ªæ–°çš„ç›®å½•detailï¼Œç”¨æ¥æ”¾æ–°åŠ å…¥çš„è¯¦æƒ…é¡µã€‚æ–°å»ºgoods.jsï¼Œå¹¶å†™å‡ è¡Œç®€å•çš„ä»£ç ã€‚ åœ¨srcä¸‹çš„index.jsä¸­ï¼Œå°†æ–°å»ºçš„é¡µé¢åŠ å…¥åˆ°è·¯ç”±é‡Œã€‚ è¿™æ ·æ–°å»ºçš„è¯¦æƒ…é¡µå°±åŠ å…¥äº†è·¯ç”±ç®¡ç†ï¼Œåªè¦åœ¨éœ€è¦è·³è½¬çš„æ—¶å€™æ‰§è¡Œä¼ å…¥è·¯ç”±çš„åå­—å°±å¯ä»¥äº†ã€‚è¿™é‡Œæ”¹é€ homeé¡µï¼Œå°†å‡ ä¸ªåœ°æ–¹çš„è·³è½¬æ”¹æˆåˆšæ‰çš„è·¯ç”±åç§°å°±å¯ä»¥äº†ã€‚ ç‚¹å‡»å•†å“å°±ä¼šå‘ç°å·²ç»å¯ä»¥è·³è½¬åˆ°è¯¦æƒ…é¡µäº†ï¼Œä½†æ˜¯ç°åœ¨è¯¦æƒ…é¡µä»€ä¹ˆéƒ½æ²¡æœ‰ã€‚åŒæ—¶ä¹Ÿä¸èƒ½è¿”å›åˆ°ä¸Šä¸€é¡µã€‚ è‡ªå®šä¹‰é¡¶éƒ¨åœ¨srcä¸‹æ–°å»ºä¸€ä¸ªcomponentç›®å½•ï¼Œç”¨æ¥å­˜æ”¾å¤´éƒ¨ç»„ä»¶ä»¥åŠä»¥åä¼šç”¨åˆ°çš„ä¸€äº›å…¶ä»–ç»„ä»¶ã€‚å°†ç»„ä»¶æŠ½æˆä¸€ä¸ªå…¬ç”¨çš„ç»„ä»¶æ˜¯ä¸€ä¸ªéå¸¸æ˜æ™ºçš„æ–¹æ³•ï¼Œå®ƒä¼šè®©ä½ çœä¸‹å¾ˆå¤šçš„æ—¶é—´ã€‚æœ€å¥½çš„åšæ³•å°±æ˜¯åšä¸€ä¸ªå…¼å®¹å¾ˆå¤šæƒ…å†µçš„ç»„ä»¶ï¼Œç„¶åä½¿ç”¨ç»§æ‰¿çš„æ–¹æ³•åšä¸€äº›å‚æ•°çš„é‡è½½ã€‚ æ”¹é€ è¿™ä¸ªç»„ä»¶ï¼Œè®©iosçš„é¡¶éƒ¨å’Œå®‰å“çš„é¡¶éƒ¨é«˜åº¦ä¸€è‡´ï¼ŒæŠŠiosé¡¶éƒ¨çš„ç³»ç»Ÿç»„ä»¶éœ²å‡ºæ¥ã€‚é»˜è®¤æƒ…å†µä¸‹iosé¡¶éƒ¨åœ¨å°å›¾æ ‡ä¸‹é¢ï¼Œå®‰å“åˆ™æœ‰ä¸€ä¸ªç³»ç»Ÿçš„é¡¶éƒ¨æ¨ªæ¡ï¼Œå°å›¾æ ‡ä¸å½±å“æ­£å¸¸çš„ç•Œé¢ã€‚ é¡¶éƒ¨ç»„ä»¶é»˜è®¤æœ‰ä¸€ä¸ªä¸­é—´çš„æ ‡é¢˜ï¼Œä¸‹é¢å†åŠ ä¸€ä¸ªé»˜è®¤çš„å·¦ä¾§è¿”å›é”®ã€‚è¿”å›é”®ä½¿ç”¨çš„æ˜¯è·¯ç”±ç»„ä»¶çš„gobanckæ–¹æ³•ã€‚å³ä¾§ç»™ä¸€ä¸ªè‡ªå®šä¹‰å³ä¾§æŒ‰é’®çš„æ–¹æ³•ã€‚ æŠŠè¿™ä¸ªè‡ªå®šä¹‰ç»„ä»¶æ”¾åœ¨è¯¦æƒ…é¡µï¼Œç„¶åç»™ä¸€ä¸ªtitleå€¼ã€‚ä¸€ä¸ªç®€å•çš„é¡¶éƒ¨ç»„ä»¶å°±åšå®Œäº†ã€‚ åˆ·æ–°é¡µé¢çœ‹æ•ˆæœï¼Œç‚¹å‡»ä¸€ä¸‹è¿”å›é”®ï¼Œçœ‹çœ‹æ˜¯ä¸æ˜¯å¯ä»¥ç”¨äº†ã€‚ è¯¦æƒ…é¡µé¡¶éƒ¨ä¸ŠåŠéƒ¨åˆ†åŒ…æ‹¬å¤´å›¾å’Œå‡ ä¸ªå±æ€§ä»‹ç»ã€‚ è¯¦æƒ…é¡µçš„æ‰€æœ‰å†…å®¹ä½¿ç”¨ScrollViewåŒ…è£¹ã€‚è¿™æ˜¯ä¸€ä¸ªæ¯”è¾ƒç®€å•çš„åˆ—è¡¨ç»„ä»¶ï¼Œä½¿ç”¨éå¸¸æ–¹ä¾¿ã€‚åœ¨åˆ—è¡¨ä¸é•¿çš„æƒ…å†µä¸‹è¯·å°½é‡ä½¿ç”¨è¿™ä¸ªç»„ä»¶ã€‚ å°†è·¯ç”±ä¼ è¿›æ¥çš„å‚æ•°ä¿å­˜åœ¨ç»„ä»¶çš„å˜é‡é‡Œã€‚ç”±äºä¼ å…¥çš„å‚æ•°æœ‰2ä¸ªï¼Œæ‰€æœ‰è¿™ä¸ªåœ°æ–¹ä½¿ç”¨äº†2ä¸ªå˜é‡ï¼ŒåŒæ—¶åé¢åšåˆ¤æ–­çš„æ—¶å€™ä¹Ÿè¦åˆ¤æ–­2æ¬¡ã€‚ åœ¨ç»„ä»¶åˆå§‹åŒ–ä¹‹åè°ƒç”¨æ¥å£ï¼Œå°†æ¥å£è¿”å›çš„æ•°æ®å­˜å…¥ç»„ä»¶çš„stateä¸­ã€‚è¿™é‡Œæ³¨æ„æŠŠstateä¸­çš„å˜é‡æå‰å†™å¥½ï¼Œå‡å°‘ä¸å¿…è¦çš„bugã€‚ åœ¨æœ€ä¸Šé¢æ·»åŠ ä¸€ä¸ªå•†å“å›¾ç‰‡ï¼Œç„¶åæ¥ç€æ·»åŠ ä»·æ ¼ç­‰ä¿¡æ¯ã€‚ åˆ°è¿™é‡Œï¼Œè¯¦æƒ…é¡µçš„ç®€å•ä¿¡æ¯å°±å®ç°äº†ã€‚åé¢å†æ·»åŠ ä¸€ä¸ªè¯¦ç»†çš„å•†å“ä¿¡æ¯å°±å¯ä»¥äº†ã€‚ è¿™é‡Œéœ€è¦æ³¨æ„çš„æ˜¯,æ¥å£è¿”å›çš„å›¾ç‰‡æœ‰å¤§æœ‰å°ï¼Œè¿™é‡Œåšäº†ä¸€ä¸ªå¤„ç†,å›¾ç‰‡å¤ªå¤§çš„è¯å°±ç¼©å°ä¸€äº›ã€‚ æœ€ç»ˆæ•ˆæœå’Œæ­£å¸¸çš„ç”µå•†APPå°±å¾ˆç›¸ä¼¼äº†ã€‚å¦‚æœæœ‰ç‰¹æ®Šçš„æ ·å¼è¿˜å¯ä»¥å†è‡ªå·±è°ƒæ•´ã€‚ ä¸Šé¢çš„å¼€å‘å®Œæˆä¹‹åå›¾ç‰‡æ˜¯åŒæ—¶åŠ è½½çš„ï¼Œå¯¼è‡´æœ‰æ—¶å€™ä¸Šéƒ¨åˆ†çš„å›¾ç‰‡æ˜¾ç¤ºå»¶è¿Ÿï¼Œåé¢ä¼˜åŒ–çš„æ—¶å€™ä¼šä¼˜åŒ–è¿™ç§æƒ…å†µã€‚ è´­ä¹°å’ŒåŠ å…¥è´­ç‰©è½¦å±•ç¤ºçš„ç•Œé¢æœ‰äº†ï¼Œä¸‹é¢å†åŠ ä¸ŠåŠ å…¥è´­ç‰©è½¦ã€è´­ä¹°ç­‰æŒ‰é’®å°±å¯ä»¥äº†ã€‚ æŒ‰é’®è¦æ±‚æ‚¬æµ®åœ¨ç•Œé¢çš„æœ€ä¸‹æ–¹ï¼Œæ‰€ä»¥è¦å°†è¿™å‡ ä¸ªæŒ‰é’®æ”¾åœ¨ScrollViewçš„åé¢ã€‚æ”¾åœ¨é‡Œé¢è™½ç„¶ä¹Ÿå¯ä»¥åšåˆ°ï¼Œä½†æ˜¯éå¸¸ä¸æ¨èï¼Œè¿™æ ·ä¼šå¢åŠ æ¸²æŸ“éš¾åº¦ã€‚ è¿™é‡Œæœ‰3ä¸ªæŒ‰é’®ï¼Œåˆ†åˆ«æ˜¯è´­ç‰©è½¦ã€ç«‹å³è´­ä¹°å’Œåˆ†äº«å•†å“ã€‚ è´­ä¹°å¼¹å‡ºå±‚ç‚¹å‡»ç«‹å³è´­ä¹°æŒ‰é’®ä¸ä¼šç›´æ¥è·³è½¬åˆ°ä¸‹å•é¡µï¼Œè¿™é‡Œä¼šå¼¹å‡ºä¸€ä¸ªç®€å•çš„é€‰æ‹©æ•°é‡çš„é¡µé¢ã€‚åœ¨RNä¸­å¦‚æœéœ€è¦ä½¿ç”¨è¿™æ ·çš„ä¸€ä¸ªå±‚å°±éœ€è¦ç”¨Modalç»„ä»¶æ¥åšã€‚Modalåœ¨RNä¸­æ˜¯ä¸€ä¸ªå•ç‹¬çš„viewå±‚ï¼Œé»˜è®¤è¦†ç›–åœ¨æ‰€æœ‰çš„é¡µé¢ä¸Šé¢ã€‚ è¿™é‡Œè®¾ç½®Modalä¸ä½¿ç”¨é»˜è®¤çš„åŠ¨ç”»ã€å…¨å®Œé€æ˜ï¼Œç»™onRequestCloseæ·»åŠ ä¸€ä¸ªé»˜è®¤çš„æ–¹æ³•ï¼Œä¸ç„¶ä¼šåœ¨æ‰‹æœºä¸ŠæŠ¥é”™ã€‚ é¦–å…ˆç»™ModalåŠ ä¸€ä¸ªå†…å®¹å±‚ã€‚è¿™ä¸€å±‚çš„ä¸»è¦ä½œç”¨æ˜¯è‡ªå·±åšé®ç½©çš„æ ·å¼ã€‚è¿™é‡Œæ˜¯ä¸€ä¸ªåŠé€æ˜çš„é»‘è‰²é®ç½©ã€‚å†…éƒ¨åŠ ä¸€å±‚ç‚¹å‡»åŒºåŸŸï¼Œæ•ˆæœç­‰äºå†ç‚¹å‡»é»‘è‰²é€æ˜å±‚çš„æ—¶å€™èƒ½å¤Ÿå…³æ‰å¼¹å‡ºå±‚ã€‚123456 &lt;View style=&#123;SpecificationsStyle.warp&#125;&gt; &lt;TouchableOpacity activeOpacity=&#123;0.9&#125; style=&#123;&#123; width: px(750), flex: 1 &#125;&#125; onPress=&#123;() =&gt; this.setState(&#123; priceBoxStatus: false &#125;)&#125;&gt;&lt;/TouchableOpacity&gt;&lt;/View&gt; æ¥ä¸‹æ¥å¼€å§‹å†™å•†å“ç®€ç•¥ä¿¡æ¯ï¼ŒåŒ…æ‹¬å•†å“å°å›¾ã€ä»·æ ¼ã€‚ ä¸‹é¢å†åŠ ä¸€å±‚ç”¨æ¥æ”¾é€‰æ‹©å•†å“æ•°é‡å’Œè´­ä¹°æŒ‰é’®ã€‚ æœ€åæŠŠå‡ ä¸ªäº‹ä»¶å®ç°ä¸€ä¸‹ã€‚123456789101112131415161718192021222324252627282930313233343536373839//è´­ä¹°æ–¹æ³• openbuy() &#123; this.setState(&#123; priceBoxStatus: true &#125;) &#125; //æ•°é‡å‡å°‘ reduce() &#123; if (this.state.buyNumber == 1) return; let buyNumber = Number(this.state.buyNumber) || 2; if (isNaN(buyNumber)) buyNumber = 2; this.setState(&#123; buyNumber: --buyNumber &#125;) &#125; //æ”¹æ•°é‡ changeNumber(num) &#123; num = Number(num); if (isNaN(num)) num = 1; if (num &gt; this.state.limitStock) &#123; num = 1 toast(`åº“å­˜ä¸è¶³`); &#125; this.setState(&#123; buyNumber: num &#125;); &#125; //å¢åŠ æ•°é‡ plus() &#123; if (this.state.isBuyLimit == 1 &amp;&amp; this.state.buyNumber &gt;= this.state.buyLimitNum) &#123; toast(`è¯¥å•†å“ä¸ºé™è´­å•†å“,$&#123;this.state.buyLimitMsg&#125;`); return; &#125; if (this.state.buyNumber &gt;= this.state.limitStock) &#123; toast(`åº“å­˜ä»…å‰©$&#123;this.state.limitStock&#125;ä»¶`); return; &#125; let qty = this.state.buyNumber || 1; if (isNaN(qty)) qty = 1; this.setState(&#123; buyNumber: ++qty &#125;) &#125; æœ€ç»ˆæ•ˆæœå¦‚å›¾ã€‚ç‚¹å‡»ç«‹å³è´­ä¹°æŒ‰é’®å³å¯å¼¹å‡ºè¿™ä¸€ä¸ªå¼¹å‡ºå±‚ã€‚å¼¹å‡ºå±‚å¯ä»¥é€‰æ‹©æ•°é‡ï¼Œé»˜è®¤ä¿æŒæ•°é‡ä¸º1ï¼Œå—åº“å­˜ä»¥åŠæœ€å¤§å¯é€‰æ‹©çš„æ•°é‡å½±å“ã€‚ä¹Ÿå¯ä»¥ç›´æ¥ç‚¹å‡»æŒ‰é’®è·³è½¬åˆ°è´­ä¹°é¡µã€‚","categories":[{"name":"å‰ç«¯","slug":"big-front-end","permalink":"http://www.guofangchao.com/categories/big-front-end/"}],"tags":[{"name":"react-native","slug":"react-native","permalink":"http://www.guofangchao.com/tags/react-native/"}],"keywords":[{"name":"å‰ç«¯","slug":"big-front-end","permalink":"http://www.guofangchao.com/categories/big-front-end/"}]},{"title":"03.åŸºç¡€-é¦–é¡µæ¨¡æ¿å’Œå•†å“åˆ—è¡¨","slug":"03-åŸºç¡€-é¦–é¡µæ¨¡æ¿å’Œå•†å“åˆ—è¡¨","date":"2018-03-14T14:39:00.000Z","updated":"2018-03-14T14:39:49.655Z","comments":true,"path":"2018/03/14/03-åŸºç¡€-é¦–é¡µæ¨¡æ¿å’Œå•†å“åˆ—è¡¨/","link":"","permalink":"http://www.guofangchao.com/2018/03/14/03-åŸºç¡€-é¦–é¡µæ¨¡æ¿å’Œå•†å“åˆ—è¡¨/","excerpt":"","text":"çŸ¥è¯†ç‚¹ï¼š1.ç»™é¦–é¡µæ·»åŠ banner2.ç»™é¦–é¡µæ·»åŠ è¿è¥æ¨¡æ¿3.è·å–æ¥å£çš„å•†å“4.ç»™é¡¶éƒ¨åŠ ä¸€ä¸ªæœç´¢æ¡ ä»è¿™ç« å¼€å§‹æˆ‘ä»¬æ­£å¼å¼€å§‹æ¡ˆä¾‹çš„å¼€å‘ã€‚gitä»“åº“çš„åœ°å€ä¼šæ”¾åˆ°ä¸‹ä¸€ç« æ˜¾ç¤ºï¼Œéœ€è¦çš„åŒå­¦å¯ä»¥ç›´æ¥å»gitä¸Šçœ‹æ¯ä¸€æ¬¡æäº¤çš„ä»£ç ã€‚ æœ¬æ–‡å…ˆä»æœ€æ—©çš„ä»£ç å½¢å¼å¼€å§‹ä¸€æ­¥ä¸€æ­¥çš„è®²ä¸‹å»ï¼Œå¼€å§‹å¼€å‘çš„appä¼šåœ¨æŸäº›æƒ…å†µä¸‹å¾ˆå¡ï¼Œåé¢ä¼šå°†ä¼˜åŒ–éœ€è¦åšçš„ä¸œè¥¿è®²å‡ºæ¥ã€‚è¿™é‡Œå…ˆä»ç®€å•çš„å®ç°appç•Œé¢å¼€å§‹è®²ï¼Œå¦‚æœä½ è§‰å¾—æ‰‹æœºååº”æ…¢ï¼Œè¯·çœ‹åé¢çš„ä¼˜åŒ–éƒ¨åˆ†ã€‚ é¦–é¡µå®¹å™¨ä¿®æ”¹é¦–é¡µindex.jsæ–‡ä»¶,åˆ›å»ºä¸€ä¸ªå®¹å™¨,ç”¨æ¥æ”¾ç½®åé¢è¦æ·»åŠ çš„å„ç§ç»„ä»¶ã€‚ Bannerå’Œå¿«æ·å…¥å£è¿™é‡Œçš„Bannerç”¨åˆ°äº†ä¸€ä¸ªè½®æ’­å›¾ç»„ä»¶ã€‚æ ¹ç›®å½•ä¸‹æ‰§è¡Œnpm i --save react-native-swiperå®‰è£…æ–°çš„ç»„ä»¶ã€‚ åˆ›å»ºä¸€ä¸ªç»„ä»¶ï¼Œè¿™ä¸ªç»„ä»¶ç”¨æ¥æ”¾Bannerå’Œå¿«æ·å…¥å£ã€‚ è¿™é‡Œåˆ›å»ºstateä¸­å˜é‡ï¼Œbannersç”¨æ¥å­˜å‚¨banneråˆ—è¡¨ï¼Œquicksç”¨æ¥å­˜å‚¨å¿«æ·å…¥å£çš„åˆ—è¡¨ã€‚ è¯·æ±‚è¿œç¨‹æ¥å£ï¼Œå°†è¿”å›çš„æ•°æ®æ”¾å…¥stateä¸­ã€‚ å°†banneræ¸²æŸ“å†é¡µé¢ä¸Šã€‚è¿™é‡Œæœ‰ä¸€ä¸ªå°æŠ€å·§ï¼Œå¦‚æœåªæœ‰ä¸€å¼ å›¾ç‰‡å°±ä¸å†ä½¿ç”¨è½®æ’­å›¾ã€‚ æ¥ä¸‹æ¥å°±æ˜¯å¿«æ·å…¥å£ï¼Œç”±äºå¿«æ·å…¥å£ç”¨åˆ°äº†gifå›¾ã€‚æ‰€ä»¥è¿™é‡Œæ·»åŠ ä¸€ä¸ªç¬¬ä¸‰æ–¹çš„ç»„ä»¶react-native-fast-imageã€‚åœ¨çº¿çš„é¡¹ç›®ä½¿ç”¨çš„æ˜¯å®˜æ–¹æ¨èçš„è®¾ç½®æ–¹æ³•ï¼Œè®©RNçš„imageç»„ä»¶æ”¯æŒçš„gifã€‚ æ‰§è¡Œnpm i --save react-native-fast-imageï¼Œç„¶åä½¿ç”¨linkå‘½ä»¤å°†ç»„ä»¶åŠ å…¥åˆ°åŸç”Ÿä»£ç é‡Œã€‚react-native link react-native-fast-imageï¼Œæ‰§è¡Œå®Œæ¯•é‡æ–°è¿è¡Œæ¨¡æ‹Ÿå™¨react-native run-iosã€‚ å°†stateä¸­çš„æ•°æ®æ¸²æŸ“åœ¨bannerçš„ä¸‹é¢ã€‚è¿™é‡Œç”¨åˆ°äº†å‡ ä¸ªç»„ä»¶å’Œä¸€ä¸ªæ–°çš„å›¾ç‰‡ï¼Œéœ€è¦å•ç‹¬æ·»åŠ ã€‚ImageBackgroundæ˜¯RNåœ¨0.47ä¹‹åçš„ç‰ˆæœ¬åŠ å…¥çš„ç»„ä»¶ï¼Œå®ƒå¯ä»¥å°†ä¸€ä¸ªå›¾ç‰‡å½“åšèƒŒæ™¯æ¥ä½¿ç”¨ã€‚è¿™é‡Œæ¨èåœ¨0.50ä¹‹åçš„ç‰ˆæœ¬ä¸­ä½¿ç”¨ã€‚ åˆ·æ–°æ¨¡æ‹Ÿå™¨çœ‹çœ‹æ•ˆæœã€‚ä¸€ä¸ªç®€å•çš„banner+å…¥å£çš„ç•Œé¢å°±æ˜¾ç¤ºå‡ºæ¥äº†ã€‚æ˜¯ä¸æ˜¯éå¸¸ç®€å•ï¼ è‡ªå®šä¹‰æ¨¡æ¿ä»å…¥å£ä¸‹é¢å¼€å§‹å°±æ˜¯ä¸€ä¸ªè‡ªå®šä¹‰çš„æ¨¡æ¿ã€‚è¿™é‡Œä½¿ç”¨ç°æˆçš„æ¥å£ï¼Œç°æˆçš„è®¾è®¡æ¥åšæ¨¡æ¿ã€‚è¿è¥äººå‘˜ä¼šåœ¨åç«¯ä¼ å…¥å›¾ç‰‡å¹¶è®¾ç½®è·³è½¬é“¾æ¥ã€‚appæ ¹æ®è®¾è®¡å¥½çš„æ ·å¼æ¸²æŸ“æ¨¡æ¿ç»“æœã€‚ç›®å‰æœ‰8ä¸ªæ¨¡æ¿åœ¨ä½¿ç”¨ï¼Œåé¢å¯èƒ½ä¼šæ·»åŠ æ›´å¤šã€‚è¿™é‡Œå…ˆä¸ç®¡åé¢çš„æ–°æ¨¡æ¿ã€‚ åœ¨homeä¸‹æ–°å»ºä¸€ä¸ªfloor_modules.jsæ–‡ä»¶ã€‚è‡ªå®šä¹‰æ¨¡æ¿å•ç‹¬æ”¾åœ¨è¿™é‡Œå¤„ç†ã€‚è¿™é‡Œç”±äºä»£ç æ¯”è¾ƒé•¿å°±ä¸è´´å‡ºæ¥äº†ï¼Œæœ‰æƒ³çœ‹å…·ä½“æƒ…å†µçš„å¯ä»¥å»gitä»“åº“çœ‹ã€‚ åˆ°ç›®å‰ä¸ºæ­¢ä½¿ç”¨è¿˜æ˜¯Viewç»„ä»¶ã€‚è¿™ä¸ªç»„ä»¶æ˜¯ä¸æ”¯æŒæ»‘åŠ¨çš„ï¼Œè¦æƒ³åˆ—è¡¨å¯ä»¥æ»‘åŠ¨ï¼Œéœ€è¦å°†æ¸²æŸ“ç»“æœæ”¾åœ¨ä¸“é—¨çš„åˆ—è¡¨ç»„ä»¶ä¸­æ‰è¡Œã€‚è¿™é‡Œä¸é€‚ç”¨ScrollViewçš„åŸå› æ˜¯ï¼ŒFlatListå¯ä»¥åœ¨æ»šåŠ¨çš„æ—¶å€™éšè—å±å¹•å¤–çš„æ— ç”¨èŠ‚ç‚¹ã€‚å¯ä»¥æé«˜åˆ—è¡¨æ€§èƒ½ï¼Œå°¤å…¶æ˜¯åˆ—è¡¨éå¸¸é•¿çš„æ—¶å€™ã€‚ æŠŠåˆšæ‰å†™çš„2ä¸ªç»„ä»¶æ”¾åˆ°Flatlistä¸­çš„headerç»„ä»¶ä¸­ListHeaderComponentã€‚ ä½¿ç”¨numColumnsè®¾ç½®åˆ—è¡¨ä¸ºåŒåˆ—ã€‚ ä½¿ç”¨refreshingä¼ å…¥ä¸‹æ‹‰åˆ·æ–°ä½¿ç”¨åˆ°çš„å˜é‡ã€‚ ä½¿ç”¨onRefreshåœ¨ä¸‹æ‹‰åˆ·æ–°çš„æ—¶å€™é‡æ–°è·å–åˆ—è¡¨æ•°æ® ä½¿ç”¨onEndReachedåœ¨æ»‘åŠ¨åˆ°åˆ—è¡¨åº•éƒ¨çš„æ—¶å€™åŠ è½½ä¸‹ä¸€é¡µ ä½¿ç”¨ListHeaderComponentæ¸²æŸ“åˆ—è¡¨çš„å¤´ ä½¿ç”¨renderItemæ¸²æŸ“åˆ—è¡¨é¡¹ã€‚ ä½¿ç”¨ListFooterComponentè®¾ç½®åº•éƒ¨çš„æ–‡å­—ï¼Œä¸€èˆ¬å¯ä»¥ç»™åŠ è½½ä¸‹ä¸€é¡µå±•ç¤ºåŠ è½½çš„çŠ¶æ€ã€æ–‡å­—ã€‚ ä½¿ç”¨onScrollåœ¨æ»‘åŠ¨çš„æ—¶å€™è§¦å‘è‡ªå·±çš„äº‹ä»¶ã€‚è¿™é‡Œä½¿ç”¨scrollEventThrottleæ§åˆ¶è§¦å‘çš„é¢‘ç‡ï¼Œå†…éƒ¨çš„æ•°å­—å°±æ˜¯1000æ¯«ç§’å†…è§¦å‘çš„æ¬¡æ•°ï¼Œæ•°å­—è¶Šå¤§è§¦å‘è¶Šå°‘ã€‚ ä½¿ç”¨keyExtractorè®¾ç½®åˆ—è¡¨æ¯ä¸ªé¡¹çš„keyã€‚åœ¨åˆ—è¡¨åˆ¤æ–­åˆ—è¡¨é¡¹çš„æ—¶å€™ä¼šä½¿ç”¨è¿™ä¸ªè¿”å›çš„idä½œä¸ºkeyã€‚æ³¨æ„ï¼Œè¿™é‡Œè¿”å›çš„å€¼ä¸èƒ½é‡å¤ã€‚ ä½¿ç”¨dataè®¾ç½®å•†å“çš„é¡¹ï¼Œå¿…é¡»æ˜¯æ•°ç»„ã€‚ å•†å“åˆ—è¡¨é¦–å…ˆç»™ä¸Šé¢çš„2ä¸ªç»„ä»¶æ·»åŠ ä¸€ä¸ªåå­—ï¼Œç„¶ååœ¨åˆ·æ–°æ–¹æ³•é‡Œè°ƒç”¨ä»–ä»¬çš„åˆ·æ–°æ–¹æ³•ã€‚è¿™æ ·å°±å¯ä»¥åšåˆ°åœ¨ä¸‹æ‹‰åˆ·æ–°çš„æ—¶å€™åŒæ—¶å¯ä»¥åˆ·æ–°å‰é¢2ä¸ªç»„ä»¶ã€‚ æ·»åŠ ä¸€ä¸ªè¯·æ±‚æ•°æ®çš„æ–¹æ³•å¹¶åœ¨ç»„ä»¶åˆå§‹åŒ–ç»“æŸä¹‹åè°ƒç”¨æ–¹æ³•ã€‚è¿™é‡Œä½¿ç”¨awaitæ¥è¾¾åˆ°åŒæ­¥ç­‰å¾…è¯·æ±‚ç»“æœçš„æ•ˆæœã€‚æ³¨æ„ï¼Œå¿…é¡»ä½¿ç”¨tryæ¥åŒ…è£¹è¿™ä¸ªæ–¹æ³•ã€‚å¦åˆ™åœ¨è¿”å›é”™è¯¯ä¿¡æ¯çš„æ—¶å€™ä¼šå‘ç”Ÿappå¥”æºƒçš„æ•ˆæœã€‚ è¿™é‡Œè®¾ç½®äº†ä¸€ä¸ªstartå˜é‡æ¥å­˜å‚¨é¡µç ã€‚è¿™é‡Œæ³¨æ„ä¸€ä¸‹ï¼Œåªæœ‰éœ€è¦æ”¹å˜UIçš„å˜é‡æ‰éœ€è¦æ”¾åˆ°stateé‡Œé¢ï¼Œå…¶ä»–çš„å°½é‡æ”¾åˆ°ç»„ä»¶è‡ªèº«ä¸Šé¢æˆ–è€…å…¶ä»–åœ°æ–¹ã€‚å¦åœ¨åœ¨æ”¹å˜ä¸€äº›æ— æ„ä¹‰çš„æ•°æ®çš„æ—¶å€™ä¹Ÿä¼šè§¦å‘ç•Œé¢åˆ·æ–°ã€‚ è¿™é‡ŒæŠŠåŠ è½½ä¸‹ä¸€é¡µå•ç‹¬å†™æˆä¸€ä¸ªæ–¹æ³•äº†ã€‚æœ‰çš„æ‰‹æœºåœ¨åˆå§‹åŒ–åˆ—è¡¨çš„æ—¶å€™ä¸ä»…ä¼šè°ƒç”¨ä¸€æ¬¡è·å–ç¬¬ä¸€é¡µçš„æ–¹æ³•ï¼ŒåŒæ—¶ä¹Ÿä¼šè°ƒç”¨ä¸€æ¬¡ä¸‹ä¸€é¡µçš„æ–¹æ³•ã€‚ æ–°å»ºå•†å“åˆ—è¡¨ç»„ä»¶GoodItemï¼Œä¿®æ”¹Flatlistç»„ä»¶ï¼ŒæŠŠGoodItemæ”¾åˆ°å†…å®¹æ¸²æŸ“æ–¹æ³•é‡Œã€‚ è¿™é‡Œå°†æ•°ç»„åºå·ä¹Ÿä¼ å…¥ç»„ä»¶ï¼Œç›®çš„æ˜¯ç»™å•†å“åˆ—è¡¨çš„æ¯ä¸€é¡¹æ·»åŠ ä¸€ä¸ªä¸ä¸€æ ·çš„æ ·å¼ã€‚è¿™é‡Œè®¾ç½®çš„æ ·å¼åœ¨å®‰å“å’Œiosä¸Šä¼šæœ‰ä¸åŒçš„æ•ˆæœ é€šè¿‡å–ä½™æ–¹æ³•å³å¯å®Œæˆæ¯è¡Œæœ‰2ä¸­ä¸åŒçš„æ ·å¼ã€‚è¿™åœ¨åŒåˆ—çš„åˆ—è¡¨ä¸­éå¸¸çš„å¸¸ç”¨ã€‚ é¦–é¡µåˆ—è¡¨ä¸­çš„è¿™ä¸ªå¤§å—å¤´éƒ¨ç»„ä»¶å’Œåˆ—è¡¨ä¸­çš„éå¸¸å¤šå¾—å•†å“é¡¹ä¼šæš´éœ²å‡ºå¾ˆå¤šé—®é¢˜ã€‚åé¢ä¼šæŠŠè¿™ä¸€å—ä¼˜åŒ–ï¼Œä»¥è¾¾åˆ°å’ŒåŸç”Ÿä¸€æ ·çš„æ•ˆæœã€‚ å¤´éƒ¨ç»„ä»¶åˆæ­¥å¼€å‘å·²ç»å®Œæˆäº†ã€‚ä½†æ˜¯æˆ‘ä»¬è¿˜éœ€è¦åœ¨è¿™ä¸ªçš„åŸºç¡€ä¸Šå†åŠ ä¸Šå¤´éƒ¨ç»„ä»¶ï¼Œè¿™ä¸ªç»„ä»¶è´Ÿè´£æ˜¾ç¤ºç”¨çš„ä¸€äº›ä¿¡æ¯å’Œä¸€ä¸ªå‡çš„æœç´¢æ¡ã€‚è¿™æ ·æ‰æ˜¯ä¸€ä¸ªå®Œæ•´çš„APPè¯¥æœ‰çš„æ ·å­ã€‚ æ·»åŠ ä¸€ä¸ªSearchHeaderç»„ä»¶ï¼Œç”¨æ¥åšå•†å“åˆ—è¡¨é¡µçš„é¡¶éƒ¨ã€‚1234567//é¡¶éƒ¨æœç´¢æ¡ç»„ä»¶class SearchHeader extends React.Component&#123; render()&#123; //è¿™é‡Œå…ˆä¸å»ç®¡å…·ä½“çš„å†…å®¹ return &lt;View&gt;&lt;/View&gt; &#125;&#125; å°†ç»„ä»¶æ”¾åœ¨æœ€å¤–å±‚ï¼ŒåŒæ—¶ä½¿ç”¨ç»å¯¹å®šä½å°†é¡¶éƒ¨æµ®åŠ¨åœ¨æ‰€æœ‰ç»„ä»¶çš„æœ€å‰é¢ã€‚è¿™é‡Œå…ˆä¸è®²åŠ¨ç”»ï¼Œçœ‹ç€éš¾å—çš„åŒå­¦å¯ä»¥å…ˆæŠŠæµ®åŠ¨çš„ç»„ä»¶æ”¹æˆæ™®é€šçš„ç»„ä»¶ã€‚ 123456789101112131415161718const styles = StyleSheet.create(&#123; headerView: &#123; position: \"absolute\", left: 0, right: 0, top: 0, zIndex: 100, &#125;, pageView: &#123; flex: 1, width: deviceWidth, &#125;, loading: &#123; textAlign: 'center', fontSize: px(28), color: \"#ccc\" &#125;,&#125;) é¡¶éƒ¨æ·»åŠ ä¸€ä¸ªå¤´åƒæ˜¾ç¤ºç»„ä»¶ï¼Œä¸­é—´æ·»åŠ ä¸€ä¸ªè¾“å…¥æ¡†ã€‚è¿™é‡Œçš„è¾“å…¥æ¡†æ²¡æœ‰å®é™…çš„åŠŸèƒ½ï¼Œä¸»è¦æ˜¯ä¸ºäº†è·³è½¬åˆ°çœŸæ­£çš„æœç´¢é¡µçš„ã€‚ åˆ°è¿™é‡ŒåŸºæœ¬å°±å¼€å‘å®Œäº†ã€‚å°†å®ƒä»¬ç»„åˆåœ¨ä¸€èµ·ç„¶ååˆ·æ–°é¡µé¢ã€‚ å®Œæˆåˆ°è¿™é‡Œå°±å®Œæˆäº†åŸºç¡€çš„é¦–é¡µå¼€å‘ã€‚ä¸€ä¸ªç®€å•çš„é¦–é¡µå°±å‘ˆç°åœ¨å¤–é¢çš„é¢å‰ã€‚å¦‚æœæ‡‚æ‰“åŒ…çš„åŒå­¦å·²ç»å¯ä»¥é©¬ä¸Šæ‰“ä¸€ä¸ªapkæ–‡ä»¶äº†ã€‚è¿™é‡Œç¨å¾®æ³¨æ„ä¸€ä¸‹ï¼Œæ¨¡æ‹Ÿå™¨ä½¿ç”¨çš„æ˜¯iosï¼Œæ‰“åŒ…æœ€æ–¹ä¾¿çš„è¿˜æ˜¯å®‰å“ï¼Œä½†æ˜¯ioså’Œå®‰å“åœ¨æŸäº›æƒ…å†µä¸‹ä¼šæœ‰ä¸€äº›åŒºåˆ«ã€‚æ¯”å¦‚æ ·å¼ä¸Šä¼šæ ¹æ®æ‰‹æœºçš„ä¸åŒæœ‰ä¸€äº›ä¸ä¸€æ ·çš„æ•ˆæœï¼Œæœ‰äº›ç»„ä»¶ç”šè‡³åªæ”¯æŒiosã€‚ åœ¨æµè§ˆçš„æ—¶å€™ä¹Ÿä¼šçœ‹åˆ°æ»‘åŠ¨ä¼šæœ‰ä¸€äº›ç”Ÿæ¶©ï¼Œç‚¹å‡»è·³è½¬ä¹Ÿæ²¡æœ‰åšã€‚é¡¶éƒ¨æœ€å¥½æœ‰ä¸€äº›åŠ¨ç”»ç­‰ç­‰ã€‚è¿™äº›åœ¨åé¢éƒ½ä¼šæœ‰æ¶‰åŠã€‚å›¾ä¸­å°±æ˜¯åœ¨è¯´åˆ—è¡¨å¤ªé•¿å¯¼è‡´æ›´æ–°å¾ˆæ…¢ï¼ŒåŒæ—¶è¿˜æé†’å¼€å‘è€…ä½¿ç”¨PureComponentæ¥ä¼˜åŒ–æ€§èƒ½ã€‚åé¢ä¼šæ•™å¤§å®¶æ€æ ·ä½¿ç”¨purComponentå’ŒshouldComponentUpdateæ¥ä¼˜åŒ–æ€§èƒ½ã€‚","categories":[{"name":"å‰ç«¯","slug":"big-front-end","permalink":"http://www.guofangchao.com/categories/big-front-end/"}],"tags":[{"name":"react-native","slug":"react-native","permalink":"http://www.guofangchao.com/tags/react-native/"}],"keywords":[{"name":"å‰ç«¯","slug":"big-front-end","permalink":"http://www.guofangchao.com/categories/big-front-end/"}]},{"title":"02.åŸºç¡€-å°è£…è‡ªå·±çš„åº“","slug":"02-åŸºç¡€-å°è£…è‡ªå·±çš„åº“","date":"2018-03-14T14:38:00.000Z","updated":"2018-03-14T14:38:48.692Z","comments":true,"path":"2018/03/14/02-åŸºç¡€-å°è£…è‡ªå·±çš„åº“/","link":"","permalink":"http://www.guofangchao.com/2018/03/14/02-åŸºç¡€-å°è£…è‡ªå·±çš„åº“/","excerpt":"","text":"çŸ¥è¯†ç‚¹ï¼š1.å°è£…ä¸€ä¸ªè‡ªå·±çš„æ—¥å¿—ï¼Œä»£æ›¿åŸç”Ÿçš„console2.å°è£…ä¸€ä¸ªè‡ªå·±çš„è¯·æ±‚åº“ï¼Œä»£æ›¿åŸç”Ÿçš„fetch3.è‡ªé€‚åº”æ–¹æ³•ï¼Œå…¼å®¹å„ç§æ‰‹æœºå±å¹•4.å°è£…ä¸€ä¸ªæœ¬åœ°å­˜å‚¨5.é›†æˆtoastå¼¹å‡ºæç¤º6.è®©iOSæ”¯æŒhttpåœ°å€7.å®‰å“éœ€è¦è¯ä¹¦æ‰èƒ½ç¼–è¯‘ åœ¨æ­£å¼å¼€å§‹ä¹‹å‰ï¼Œæˆ‘ä»¬å…ˆå°è£…å‡ ä¸ªè¦ç”¨åˆ°çš„åº“ã€‚ è‡ªå®šä¹‰æœ¬åœ°æ—¥å¿—è‡ªå®šä¹‰æ—¥å¿—çš„ä¸€ä¸ªå¥½å¤„å°±æ˜¯çœçš„æ¯æ¬¡éƒ½è¦æ‰‹åŠ¨æ³¨é‡Šconsoleã€‚è€Œä¸”è¿˜å¯ä»¥åŒæ—¶å°†æ—¥å¿—å­˜åœ¨æœ¬åœ°ï¼Œæˆ–è€…å‘åˆ°æ—¥å¿—æœåŠ¡å™¨ã€‚ä¸€ä¸ªæ–¹æ³•å°±ä¸€ä¸¾å¤šå¾—äº†ã€‚ åœ¨srcç›®å½•ä¸‹æ–°å»ºä¸€ä¸ªutilsæ–‡ä»¶å¤¹ã€‚æˆ‘ä»¬å°è£…ä¸€ä¸ªæ—¥å¿—è¾“å‡ºç±»ã€‚å¼€å‘æ¨¡å¼ä¸‹ä½¿ç”¨console.logå‘½ä»¤ã€‚æ­£å¼æƒ…å†µä¸‹è®°å½•åœ¨å˜é‡ä¸­ï¼Œæ–¹ä¾¿åœ¨æ‰‹æœºä¸ŠæŸ¥çœ‹æ—¥å¿—ã€‚ æ–°å»ºä¸€ä¸ªlog.jsæ–‡ä»¶ã€‚è·¯å¾„ä¸ºæ ¹ç›®å½•/src/utils/log.jsã€‚ æ–°å»ºä¸€ä¸ªæ•°ç»„å˜é‡logsï¼Œç”¨æ¥ä¸´æ—¶å­˜æ”¾æ—¥å¿—ä¿¡æ¯ã€‚ å°†æ—¥å¿—åˆ†æˆä¿¡æ¯ã€è­¦å‘Šå’Œé”™è¯¯3ç§ï¼Œåˆ†åˆ«ç»™å‡º3ä¸ªå¯è°ƒç”¨çš„æ–¹æ³•ã€‚åŒæ—¶ç»™ç¬¬ä¸€ä¸ªå‚æ•°åŠ ä¸€ä¸ªå¥½çœ‹çš„é¢œè‰²ã€‚ åœ¨indexä¸­å¼•å…¥æ—¥å¿—ç»„ä»¶ï¼Œå†™å‡ ä¸ªæ–¹æ³•çœ‹çœ‹è°ƒç”¨çš„ç»“æœã€‚ è¿™é‡Œç¨å¾®å®šä¹‰ä¸€ä¸‹æ—¥å¿—çš„è¦æ±‚ã€‚å‚æ•°0ï¼Œå­—ç¬¦ä¸²ã€‚å‚æ•°1ï¼Œå¯¹è±¡ã€‚å‚æ•°2ï¼Œå­—ç¬¦ä¸²ã€‚ è‡ªå®šä¹‰è¯·æ±‚RNé»˜è®¤æä¾›äº†fetchæ–¹æ³•å»è¯·æ±‚è¿œç¨‹æ•°æ®ã€‚æˆ‘ä»¬å†å°è£…ä¸€æ¬¡ï¼Œå°†è¿™ä¸ªæ–¹æ³•å°†ä¼šé’ˆå¯¹ç°æœ‰çš„é¡¹ç›®åšå°è£…ï¼Œåœ¨ä½¿ç”¨è¯·æ±‚çš„æ—¶å€™èƒ½å¤Ÿæ›´é€‚åˆã€æ›´æ–¹ä¾¿ã€‚è¿™é‡Œä½¿ç”¨headerä¿å­˜äº†ä¸€äº›ä¸´æ—¶çš„å˜é‡ï¼Œç®—æ˜¯ä¸€ä¸ªå°å°çš„å…¨å±€ç¼“å­˜å§ã€‚ åˆ›å»ºrequest.jsæ–‡ä»¶ï¼Œç›®å½•ï¼šæ ¹ç›®å½•/src/utils/request.jsã€‚ å°†è¯·æ±‚headeré‡Œçš„ä¿¡æ¯å•ç‹¬å‡ºæ¥ï¼Œæ¯æ¬¡è¯·æ±‚éƒ½éœ€è¦å¸¦ä¸Šè¿™ä¸ªå…±äº«headeræ•°æ®ã€‚ åˆ›å»ºä¸€ä¸ªRequestç±»,å¹¶å°†è¿™ä¸ªç±»å¯¹å¤–å…¬å¼€ã€‚è¿™é‡Œè®²è¯·æ±‚åˆå§‹åŒ–ä¸€æ¬¡ï¼Œä»¥åç”¨åˆ°åˆ«çš„è¯·æ±‚çš„æ—¶å€™ä¹Ÿå¯ä»¥å•ç‹¬å®ä¾‹åŒ–ä¸€æ¬¡ã€‚123456/** * è¯·æ±‚åº“ */class Request &#123;&#125;export default new Request(); æ¯æ¬¡è¯·æ±‚éƒ½å°†headerä¸­çš„å†…å®¹å¸¦å…¥è¯·æ±‚ä¸­ï¼Œå•ç‹¬æ£€æµ‹httpcodeå’Œåç«¯è¿”å›çš„codeå€¼ã€‚è¿™é‡Œå¯ä»¥ç›´æ¥åšæƒé™æ£€æµ‹ï¼Œåœ¨éœ€è¦çš„æ—¶å€™è·³è½¬åˆ°ç™»å½•é¡µã€‚12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758596061626364656667686970717273747576777879808182838485868788/** * è¯·æ±‚åº“ */class Request &#123; /** * æ£€æµ‹è¿”å›çŠ¶æ€ç  * @param &#123;*&#125; status * @param &#123;*&#125; res */ async _checkStatus(status, res, url) &#123; if (status !== 200) &#123; logWarm('è¯·æ±‚å¤±è´¥å‚æ•°', await res.text(), url, headers); throw new Error('ç½‘ç»œè¿æ¥å¤±è´¥ï¼Œè¯·æ£€æŸ¥ç½‘ç»œ'); &#125; &#125; /** * æ£€æŸ¥åç«¯è¿”å›çš„çŠ¶æ€ç  * @param &#123;*&#125; status */ _checkAppStatus(json, url) &#123; if (json.status != 0) &#123; logWarm('è¿”å›çŠ¶æ€æŠ¥é”™', json, url); throw new Error(`$&#123;json.errorMsg&#125;`); &#125; &#125; /** * å†…éƒ¨å®ç°ç½‘ç»œè¯·æ±‚ * @param &#123;*&#125; url * @param &#123;*&#125; options */ async _request(url, options, type) &#123; url = url.indexOf('http') == 0 ? url : url.indexOf('/api') == 0 ? domain + url : baseUrl + url; let res = await fetch(url, options); this._checkStatus(res.status, res, url) if (type === 'json') return await this._jsonFactory(res, url, options) return await this._jsonFactory(res, url, options) &#125; /** * å¤„ç†jsonæ•°æ® * @param &#123;*&#125; res * @param &#123;*&#125; url */ async _jsonFactory(res, url, options) &#123; let json; let txt = ''; try &#123; txt = await res.text(); &#125; catch (e) &#123; log('æœªæ‹¿åˆ°è¿”å›å­—ç¬¦ä¸²', &#123; url: url, txt: txt &#125;); throw new Error('æ•°æ®æ ¼å¼é”™è¯¯'); &#125; try &#123; json = JSON.parse(txt); &#125; catch (e) &#123; logErr('è¿”å›æ•°æ®æ ¼å¼é”™è¯¯', &#123; url: url, txt: txt &#125;); throw new Error('æ•°æ®æ ¼å¼é”™è¯¯'); &#125; this._checkAppStatus(json, url) log(\"è¯·æ±‚è¿”å›\", json, url, options); return json.data; &#125; /** * getè¯·æ±‚ * @param &#123;*&#125; url */ async get(url, data) &#123; if (data) data = urlEncoded(data); if (url.indexOf('?') &lt; 0 &amp;&amp; data) url += '?' + data; return this._request(url, &#123; method: 'GET', headers: headers, timeout: 10000 &#125;, 'json') &#125; /** * postè¯·æ±‚ * @param &#123;*&#125; url * @param &#123;*&#125; data */ async post(url, data) &#123; return this._request(url, &#123; method: 'POST', headers: Object.assign(headers, &#123; 'Content-Type': 'application/x-www-form-urlencoded' &#125;), timeout: 10000, body: urlEncoded(data) &#125;, 'json') &#125;&#125; è°ƒç”¨ä¸€æ¬¡è¿œç¨‹ç«¯å£å¹¶æŸ¥çœ‹æ—¥å¿—è¾“å‡ºã€‚è¿™é‡Œè°ƒç”¨çš„ä¹Ÿæ˜¯æ¡ˆä¾‹ä¸­è¦ä½¿ç”¨åˆ°çš„è·å–bannerçš„æ¥å£ã€‚è¿™ä¸ªæ¥å£ä¸éœ€è¦ç”¨æˆ·æƒé™ï¼Œåé¢è¿˜ä¼šé‡åˆ°éœ€è¦ç”¨æˆ·æƒé™çš„æ¥å£ã€‚ è‡ªé€‚åº”æ–¹æ³•è¿™é‡Œæ¨èä¸€ç§è‡ªé€‚åº”çš„æ–¹æ³•ã€‚åŒæ—¶ä¹Ÿæ˜¯å‰ç«¯åœ¨å¼€å‘ç§»åŠ¨ç«¯é¡µé¢çš„æ—¶å€™å¸¸ç”¨çš„æ–¹æ³•ã€‚å°†æ‰‹æœºå±å¹•å®½åº¦é»˜è®¤ä¸º750åƒç´ ï¼Œç„¶åå°†æ‰€æœ‰çš„å®½é«˜æŒ‰ç…§è¿™ä¸ªæ¯”ä¾‹å»ç¼©æ”¾ã€‚è¿™è¦æ±‚è®¾è®¡å‡ºçš„è®¾è®¡ç¨¿ä¹Ÿè¦å®½åº¦æ˜¯750ã€‚ åœ¨utilsä¸‹æ–°å»ºä¸€ä¸ªpx.jsæ–‡ä»¶ã€‚æŒ‰ç…§å‡ºå…¥çš„å¤§å°æ ¹æ®å½“å‰å±å¹•çš„å®½åº¦è·å–åˆ°ç¼©æ”¾çš„æ¯”ä¾‹å¹¶è¿”å›ç»“æœã€‚ åœ¨é¦–é¡µå¼•å…¥pxæ–¹æ³•ï¼ŒæŸ¥çœ‹ä½¿ç”¨pxä¹‹åçš„æ•ˆæœã€‚ å¯ä»¥çœ‹åˆ°ä½¿ç”¨pxå°†500åƒç´ ç¼©æ”¾ä¹‹åçš„æ•ˆæœå’Œæœ€å¼€å§‹è®¾ç½®çš„çº¯æ•°å­—200æ•ˆæœæ˜¯ä¸€è‡´çš„ã€‚è¿™é‡Œä½¿ç”¨çš„æ˜¯iosæ¨¡æ‹Ÿå™¨ï¼ŒçœŸå®çš„å±å¹•å®½æ˜¯375ï¼ŒæŒ‰ç…§750å®½å»ç®—çš„è¯ä¼šæŠŠä¼ å…¥çš„å‚æ•°ç»Ÿç»Ÿé™¤ä»¥2ã€‚ å°è£…æœ¬åœ°å­˜å‚¨RNæä¾›çš„AsyncStorageå¯ä»¥æ ¹æ®keyå­˜å‚¨ç›¸åº”çš„å­—ç¬¦ä¸²ã€‚æˆ‘ä»¬è¿™é‡Œæ”¹è¿›ä¸€ä¸‹ï¼Œè®©å®ƒå¯ä»¥å­˜å‚¨æ‰€æœ‰ç±»å‹çš„å­—æ®µã€‚åˆ©ç”¨çš„æ˜¯å°†ä¼ å…¥çš„å‚æ•°æ”¹é€ æˆå¯¹è±¡ï¼Œç„¶åä½¿ç”¨JSONçš„æ–¹æ³•å°†å¯¹è±¡è½¬åŒ–æˆä¸€ä¸ªå¯ä»¥å­˜å‚¨çš„å­—ç¬¦ä¸²ã€‚ åœ¨utilsä¸‹æ–°å»ºä¸€ä¸ªStorage.jsã€‚ å°†ä¼ å…¥çš„å¯¹è±¡è½¬åŒ–ä¸ºå­—ç¬¦ä¸²å¹¶å­˜å…¥AsyncStorageã€‚123456789101112131415161718192021222324252627282930313233343536373839'use strict';import &#123; AsyncStorage &#125; from 'react-native';/** * è·å–å­˜å‚¨çš„æ•°æ® * @param &#123;*&#125; key */exports.getItem = async (key) =&gt; &#123; let item = await AsyncStorage.getItem(key); if (!item) &#123; return null; &#125; return JSON.parse(item).v || null;&#125;/** * å­˜å…¥æ•°æ® * @param &#123;*&#125; key * @param &#123;*&#125; value */exports.setItem = (key, value) =&gt; AsyncStorage.setItem(key, JSON.stringify(&#123; v: value&#125;));/** * åˆ é™¤å·²ç»å­˜åœ¨çš„æ•°æ® * @param &#123;*&#125; key */exports.removeItem = (key) =&gt; AsyncStorage.removeItem(key);/** * æ¸…é™¤æ‰€æœ‰ */exports.clear = () =&gt; AsyncStorage.clear();/** * è·å–æ‰€æœ‰çš„key */exports.getAllKeys = () =&gt; AsyncStorage.getAllKeys(); åœ¨é¦–é¡µä½¿ç”¨setItemå­˜å…¥æ•°æ®,ç„¶åç¬¬äºŒæ¬¡è¿›å…¥é¡µé¢å†ä½¿ç”¨getItemè·å–æ•°æ®ã€‚ è¿™é‡Œç”¨åˆ°äº†componentDidMountè¿™ä¸ªæ–¹æ³•ã€‚è¿™ä¸ªæ–¹æ³•æ˜¯åœ¨ç»„ä»¶ç”Ÿå‘½å‘¨æœŸä¸­çš„åˆå§‹åŒ–å®Œæˆä¹‹åæ‰§è¡Œçš„ã€‚ æ·»åŠ å¼¹å‡ºtoastä¹‹å‰å…¬å¸ä½¿ç”¨çš„æ˜¯è‡ªå·±å¼€å‘çš„æç¤ºæ–¹æ³•ï¼Œè¿™ä¸ªæ–¹æ³•éœ€è¦æ”¹å˜åŸç”Ÿä»£ç ï¼Œéå¸¸çš„ä¸æ–¹ä¾¿ã€‚è¿™é‡Œæ¨èä½¿ç”¨ç¬¬ä¸‰æ–¹çš„å¼€æºç»„ä»¶react-native-root-toastã€‚åªéœ€è¦å®‰è£…ä¸€ä¸‹å°±å¥½äº†ã€‚ æ‰§è¡Œå‘½ä»¤ï¼Œå®‰è£…toastã€‚npm i --save react-native-root-toastã€‚ åœ¨utilsç›®å½•ä¸‹æ–°å»ºtoast.jsæ–‡ä»¶ã€‚æ·»åŠ toastçš„é»˜è®¤æ–¹æ³•å¹¶å¡«å…¥é»˜è®¤å‚æ•°ã€‚è¿™é‡Œè®¾ç½®æ˜¾ç¤ºæ—¶é—´ä¸º1000æ¯«ç§’ï¼ŒèƒŒæ™¯é¢œè‰²æ˜¯ä¸€ä¸ªåŠé€æ˜çš„é»‘è‰²ã€‚è¿™é‡Œä¹Ÿæ˜¯ä¸ºäº†æ–¹ä¾¿è°ƒç”¨ï¼Œå¦‚æœéœ€è¦å¤šç§æ•ˆæœçš„å°±å®šä¹‰å¤šä¸ªå§ã€‚ åœ¨é¦–é¡µå¼•å…¥toastå¹¶çœ‹çœ‹å®é™…çš„æ•ˆæœã€‚ è®©iOSæ”¯æŒhttpåè®®è‹¹æœä¹‹å‰æ¨èä½¿ç”¨httpsåè®®,ç°åœ¨é»˜è®¤æ˜¯ä¸æ”¯æŒhttpçš„ã€‚å¦‚æœéœ€è¦æ”¯æŒhttpéœ€è¦å•ç‹¬è®¾ç½®ã€‚æ¡ˆä¾‹ä¸­çš„é¡¹ç›®ä¹Ÿç”¨åˆ°äº†httpï¼Œæ‰€ä»¥éœ€è¦ä¿®æ”¹info.plistæ–‡ä»¶ï¼Œè®©iOSå¯ä»¥è®¿é—®httpçš„åœ°å€ã€‚ ä½¿ç”¨xcodeé€‰æ‹©æ‰“å¼€å…¶ä»–é¡¹ç›®ã€‚ æ‰“å¼€é¡¹ç›®ä¸‹çš„iOSæ–‡ä»¶å¤¹ï¼Œé€‰æ‹©é¡¹ç›®æ–‡ä»¶å¹¶æ‰“å¼€ã€‚ é€‰æ‹©info.plistæ–‡ä»¶ï¼Œå†å³è¾¹é€‰æ‹©ç¬¬ä¸€è¡Œå¹¶ç‚¹å‡»+å·æ·»åŠ ä¸€é¡¹ã€‚ é€‰æ‹©App Transport Security Settingè¿™ä¸€é¡¹ï¼Œä¼šå¼¹å‡ºæç¤ºã€‚ç‚¹å‡»ç¡®å®šå³å¯è‡ªåŠ¨åˆ·æ–°ã€‚ åœ¨ä¸Šé¢æ·»åŠ çš„æ–°é…ç½®ä¸­æ·»åŠ ä¸€ä¸ªæ–°çš„é…ç½®Allow Arbitrary Loadsï¼ŒåŒæ—¶è®¾ç½®ä¸ºYESã€‚ æ”¹å®Œé…ç½®è¿˜éœ€è¦ç¼–è¯‘ä¸€æ¬¡ã€‚ç‚¹å‡»å·¦ä¸Šè§’çš„ä¸‰è§’å½¢æˆ–è€…èœå•ä¸­productä¸‹çš„buildé€‰é¡¹ã€‚ è¿™é‡Œæˆ‘ä½¿ç”¨çš„æ˜¯xcodeä¿®æ”¹é…ç½®æ–‡ä»¶ï¼Œå¦‚æœä½ å‘ç°é…ç½®æ–‡ä»¶æ²¡æœ‰å˜åŒ–ï¼Œä¹Ÿå¯ä»¥è‡ªå·±æ”¹info.plistæ–‡ä»¶çš„å†…å®¹ã€‚ ç¼–è¯‘å®‰å“å®¢æˆ·ç«¯ä½¿ç”¨android studioæ‰“å¼€æ ¹é¡¹ç›®ä¸‹çš„androidç›®å½•ã€‚æ‰“å¼€build.gradleæ–‡ä»¶ã€‚è¿™ä¸ªå°±æ˜¯é¡¹ç›®çš„gradleé…ç½®æ–‡ä»¶ï¼Œé€šå¸¸ä½¿ç”¨è¿™ä¸ªæ–‡ä»¶å¯¹æ•´ä¸ªé¡¹ç›®è¿›è¡Œæè¿°ã€‚ ç»è¿‡ä¸€å®šæ—¶é—´çš„ç­‰å¾…ï¼ŒIDEå°±ä¼šåˆå§‹åŒ–æ•´ä¸ªé¡¹ç›®ã€‚å¦‚æœæœ‰ä¸€äº›éœ€è¦ä¸‹è½½çš„æ–‡ä»¶ä¹Ÿä¼šåœ¨è¿™ä¸ªæ—¶é—´é€šçŸ¥ä¸‹è½½ã€‚ ç‚¹å‡»èœå•build/gennerate signed apkã€‚è¿™ä¸ªå°±æ˜¯ç¼–è¯‘ä¸€ä¸ªå¯ä»¥å®‰è£…åœ¨å®‰å“æ‰‹æœºä¸Šçš„å®‰è£…åŒ…ã€‚ä¹Ÿå¯ä»¥é€šè¿‡ç‚¹å‡»make projectæ¥çœ‹çœ‹é¡¹ç›®æ˜¯å¦å¯ä»¥ç¼–è¯‘é€šè¿‡ã€‚ ç‚¹å‡»nextï¼ŒIDEä¼šæç¤ºéœ€è¦é€‰æ‹©ä¸€ä¸ªè¯ä¹¦ã€‚è¿™é‡Œå¯ä»¥é€‰æ‹©ä¸€ä¸ªå·²æœ‰çš„å¹¶è¾“å…¥å¯†ç ï¼Œä¹Ÿå¯ä»¥é€šè¿‡ç‚¹å‡»create newæ¥åˆ›å»ºä¸€ä¸ªã€‚åé¢ä¸€ç›´ç‚¹å‡»nextå°±å¯ä»¥äº†ï¼ŒIDEä¼šåœ¨ç”Ÿæˆapkä¹‹åå¼¹å‡ºé€šçŸ¥ã€‚ é€‰æ‹©åˆ›å»ºä¸€ä¸ªæ–°çš„è¯ä¹¦ã€‚æ ¹æ®æç¤ºå¡«å…¥ç›¸åº”çš„å†…å®¹ï¼Œä¹‹åç‚¹å‡»okå³å¯ç”Ÿæˆã€‚è®°å¾—é€‰æ‹©remember passwordï¼Œä¸‹æ¬¡ç›´æ¥å¡«å…¥å¯†ç ã€‚ ç»è¿‡ä¸€æ•´æœºå™¨èºåŠ¨ä¹‹åï¼ŒIDEå¼¹å‡ºç¼–è¯‘ç»“æœã€‚ç‚¹å‡»è“è‰²å­—å¯ä»¥å¿«é€Ÿæ‰“å¼€apkçš„åœ°å€ã€‚ å°†apkæ–‡ä»¶å‘é€åˆ°æ‰‹æœºä¸Šå®‰è£…å³å¯ã€‚ä¸€ä¸ªä½ è‡ªå·±å¼€å‘çš„appå°±å®‰è£…å¥½äº†ã€‚ è¿™é‡Œè¦æ³¨æ„ï¼Œåœ¨æ‰“åŒ…ä¹‹å‰è¦æŠŠRNæ‰“åŒ…ç”Ÿæˆçš„bundleæ–‡ä»¶æ”¾å…¥androidæ–‡ä»¶ä¸‹çš„assetsç›®å½•ä¸­ã€‚å¦åˆ™å®‰å“ä¼šå› ä¸ºæ‰¾ä¸åˆ°å¯åŠ¨æ–‡ä»¶è€ŒæŠ¥é”™ã€‚","categories":[{"name":"å‰ç«¯","slug":"big-front-end","permalink":"http://www.guofangchao.com/categories/big-front-end/"}],"tags":[{"name":"react-native","slug":"react-native","permalink":"http://www.guofangchao.com/tags/react-native/"}],"keywords":[{"name":"å‰ç«¯","slug":"big-front-end","permalink":"http://www.guofangchao.com/categories/big-front-end/"}]},{"title":"01.åŸºç¡€-é¡¹ç›®åˆå§‹åŒ–","slug":"01-åŸºç¡€-é¡¹ç›®åˆå§‹åŒ–","date":"2018-03-14T14:12:00.000Z","updated":"2018-03-14T14:39:05.931Z","comments":true,"path":"2018/03/14/01-åŸºç¡€-é¡¹ç›®åˆå§‹åŒ–/","link":"","permalink":"http://www.guofangchao.com/2018/03/14/01-åŸºç¡€-é¡¹ç›®åˆå§‹åŒ–/","excerpt":"","text":"çŸ¥è¯†ç‚¹ï¼š1.å¿«é€Ÿåˆ›å»ºRNé¡¹ç›®2.æ·»åŠ ä½¿ç”¨è·¯ç”±åŠŸèƒ½3.ä¸è¦åœ¨RNä¸­ä½¿ç”¨çš„åŠŸèƒ½ ä»è¿™é‡Œå¼€å§‹ï¼Œæˆ‘ä»¬å°†ä¸€æ­¥ä¸€æ­¥çš„åˆ›å»ºä¸€ä¸ªå¯ä»¥çœŸæ­£çš„ä½¿ç”¨çš„appã€‚ç¬¬ä¸€éƒ¨åˆ†è®²è¿°å¼€å‘ä¸€ä¸ªappçš„å¤§è‡´è¿‡ç¨‹ï¼Œç¬¬äºŒéƒ¨åˆ†å°†å¼€å§‹ä¼˜åŒ–æ€§èƒ½ã€å¼€å‘æ•ˆç‡ç­‰ï¼Œç¬¬ä¸‰éƒ¨åˆ†æ•™å¤§å®¶æ·»åŠ çƒ­æ›´æ–°ã€æ”¯ä»˜ã€åˆ†äº«è¿™äº›åŠŸèƒ½ã€‚å¤§å¤šæ•°ç¬¬ä¸‰æ–¹ç»„ä»¶å¯ä»¥å¾ˆæ–¹ä¾¿çš„linkåˆ°é¡¹ç›®é‡Œï¼Œéƒ¨åˆ†éœ€è¦æ‰‹åŠ¨å¯¼å…¥ç”šè‡³ä¸»åŠ¨å¼€å‘ä¸€äº›ä¸œè¥¿ï¼Œè¿™é‡Œä¹Ÿä¼šåœ¨ç”¨åˆ°çš„æ—¶å€™è®²å‡ºæ¥ã€‚ åˆ›å»ºé¡¹ç›®çš„å‰ææ¡ä»¶Â·ä½¿ç”¨react-nativeåˆ›å»ºä¸€ä¸ªæ–°çš„é¡¹ç›®è¯·ç¡®ä¿ä½ çš„ç”µè„‘ä¸Šå·²ç»æ»¡è¶³ä¸‹é¢çš„è¿™äº›æ¡ä»¶ã€‚ nodejsã€‚RNçš„æ‰€æœ‰åº“éƒ½æ˜¯ä»npmä¸Šå®‰è£…çš„ã€‚è¯·ç¡®ä¿ä½ çš„ç”µè„‘ä¸Šå·²ç»å®‰è£…äº†npmã€‚å¯ä»¥ä½¿ç”¨npm -væ¥æŸ¥çœ‹å½“å‰æ˜¯å¦å®‰è£…äº†npmã€‚å½“å‰é¡¹ç›®ä½¿ç”¨çš„nodeç‰ˆæœ¬æ˜¯8.9.3ï¼Œnpmçš„ç‰ˆæœ¬æ˜¯5.5.3ã€‚ react-native-cliã€‚è¿™ä¸ªé€šå¸¸ç”¨ä½œRNçš„åˆå§‹åŒ–å’Œå¯åŠ¨æ¨¡æ‹Ÿå™¨ç­‰ï¼Œæ˜¯ç”¨npmå¯ä»¥å®‰è£…åˆ°ç”µè„‘ä¸Šã€‚ pythonã€‚RNé‡Œé¢æœ‰äº›è„šæœ¬æ˜¯ä½¿ç”¨pythonå†™çš„ã€‚è¯·ç¡®ä¿ç”µè„‘ä¸Šå·²ç»å®‰è£…äº†python2.7ä»¥ä¸Šçš„ç‰ˆæœ¬ã€‚ jdk1.8ã€‚å®‰å“é¡¹ç›®éœ€è¦ä½¿ç”¨jdk1.8ï¼Œè¯·åœ¨ç”µè„‘ä¸Šå®‰è£…å¥½jdk1.8ã€‚å®‰è£…çš„æ•™ç¨‹å¯ä»¥æ–¹ä¾¿ä»ç½‘ä¸Šæœç´¢åˆ°ã€‚ Android Studioã€‚è°ƒè¯•ä»¥åŠç¼–è¯‘å®‰å“ä»£ç éœ€è¦ä½¿ç”¨åˆ°ã€‚è¯·åœ¨å®‰è£…Android Studioä¹‹åå®‰è£…å¥½Android SDKä»¥åŠæ¨¡æ‹Ÿå™¨ã€‚æ¨¡æ‹Ÿå™¨å¯ä»¥ä½¿ç”¨å¸‚é¢ä¸Šçš„å®‰å“æ¨¡æ‹Ÿå™¨ï¼Œå®ƒä»¬æ™®éæ¯”è‡ªå¸¦çš„æ¨¡æ‹Ÿå™¨è¦å¿«ã€‚é—²éº»çƒ¦çš„åŒå­¦å¯ä»¥ç›´æ¥è¿æ¥æ‰‹æœºè°ƒè¯•ã€‚åœ¨å®‰è£…å¥½IEDä¹‹åè¯·ä¸‹è½½å¥½éœ€è¦ä½¿ç”¨åˆ°çš„androidSDKã€‚ä¸‹è½½SDKéœ€è¦ç§‘å­¦ä¸Šç½‘æˆ–è€…æŠŠä¸‹è½½åœ°å€æ›¿æ¢æˆå›½å†…çš„å‡ ä¸ªä¸‹è½½æºã€‚ gitã€‚åé¢çš„é¡¹ç›®ä¼šåŠ å…¥åˆ°gitä¸­ï¼Œä½¿ç”¨gitåšç‰ˆæœ¬ç®¡ç†çš„å¥½å¤„ä¸è¨€è€Œå–»ã€‚ Xcodeï¼ˆä»…iosé¡¹ç›®ä¸­ï¼‰ã€‚å®‰è£…äº†Xcodeæ‰èƒ½ä½¿ç”¨iOSæ¨¡æ‹Ÿå™¨ã€‚iosæ¨¡æ‹Ÿå™¨ä¸‹çš„å¼€å‘é€Ÿåº¦è¦æ˜æ˜¾ä¼˜äºå®‰å“ä¸‹ï¼Œåé¢çš„å¼€å‘è¿‡ç¨‹å¤§å¤šæ•°ä¹Ÿæ˜¯åœ¨iosæ¨¡æ‹Ÿå™¨ä¸­è¿›è¡Œçš„ã€‚åœ¨æ¨¡æ‹Ÿå™¨ä¸­çš„è¡¨ç°éƒ½å·®ä¸å¤šï¼Œæœ‰äº›ä¸ä¸€æ ·çš„æ•ˆæœå¯ä»¥åœ¨çœ‹åˆ°çš„æ—¶å€™å•ç‹¬è°ƒè¯•ã€‚ Watchmanï¼ˆä»…macç³»ç»Ÿç”¨åˆ°ï¼‰ã€‚Watchmanç”¨æ¥ç›‘å¬æ–‡ä»¶å˜åŠ¨ç­‰ã€‚macä¸‹å¿…é¡»å®‰è£…Watchmanã€‚ vscodeã€‚æ–‡ä¸­æ¼”ç¤ºé¡¹ç›®ä½¿ç”¨çš„ç¼–è¾‘å™¨æ˜¯vscodeã€‚è¿™é‡Œä¹Ÿæ¨èä½¿ç”¨vscodeå¼€å‘å‰ç«¯é¡¹ç›®ã€‚ åˆ›å»ºé¡¹ç›®æˆ‘ä»¬å…ˆåœ¨æœ¬åœ°åˆ›å»ºä¸€ä¸ªå¯è¿è¡Œçš„é¡¹ç›®ï¼ŒåŒæ—¶è¿™ä¸ªé¡¹ç›®ä¼šåŠ å…¥åˆ°gitçš„ç‰ˆæœ¬ç®¡ç†ä¸­ã€‚ æ‰§è¡Œreact-native init anxintao --version 0.53.0ã€‚å›¾ä¸­1ä»£è¡¨ä¹‹å‰å®‰è£…çš„react-native-cliçš„å‘½ä»¤ã€‚å›¾ä¸­2ä»£è¡¨åˆå§‹åŒ–å‘½ä»¤ã€‚å›¾ä¸­3ä»£è¡¨é¡¹ç›®çš„åç§°ï¼Œè¿™é‡Œæ˜¯anxintaoã€‚å›¾ä¸­4ä»£è¡¨æŒ‡å®šRNçš„ç‰ˆæœ¬å·ï¼Œè¿™ä¸ªå‚æ•°ä¸ä¼ é»˜è®¤ä½¿ç”¨æœ€æ–°ç‰ˆã€‚å›¾ä¸­5ä»£è¡¨RNå…·ä½“ä½¿ç”¨çš„ç‰ˆæœ¬å·ã€‚ ä½¿ç”¨vscodeæ‰“å¼€é¡¹ç›®ï¼Œåœ¨é¡¹ç›®æ ¹ç›®å½•ä¸‹æ‰§è¡Œå‘½ä»¤å¯åŠ¨åˆå§‹åŒ–ä¹‹åçš„é¡¹ç›®ï¼Œmacä¸‹æ¨èreact-native run-iosï¼Œwindowä¸‹æ¨èreact-native run-androidå¯åŠ¨é»˜è®¤çš„é¡¹ç›®ã€‚å¦‚æœèƒ½å¯åŠ¨è¯´æ˜é¡¹ç›®åˆå§‹åŒ–å®Œæˆï¼Œå¦åˆ™è¯´æ˜é¡¹ç›®çš„æŸäº›ä¸œè¥¿æ²¡æœ‰å®‰è£…å¥½ã€‚è¿™é‡Œæ¨èæŠŠå¯åŠ¨çš„å‘½ä»¤å†™å…¥åˆ°package.jsonæ–‡ä»¶ä¸­ã€‚æ¯”å¦‚:è¾“å…¥npm run ioså³å¯ä»£æ›¿åŸæ¥çš„react-native run-iosï¼Œè¾“å…¥å‘½ä»¤çš„é€Ÿåº¦å¿«äº†ä¸å°‘ã€‚ä¹Ÿå¯ä»¥ç»™vscodeå®‰è£…ä¸€ä¸ªå¯åŠ¨RNçš„æ’ä»¶ï¼Œä¸è¿‡æ•ˆæœè·Ÿè¾“å‘½ä»¤å·®ä¸å¤šï¼Œå…·ä½“è¦çœ‹ä¸ªäººä¹ æƒ¯äº†ã€‚ åˆ°è¿™é‡Œå°±è¯´æ˜é¡¹ç›®åˆ›å»ºæˆåŠŸäº†ã€‚è¿™ä¸ªé¡¹ç›®ç°åœ¨è¿˜å¾ˆç®€å•ï¼Œå®ƒçš„åŸç”Ÿéƒ¨åˆ†åªæœ‰ä¸€ä¸ªç®€å•çš„ç©ºå£³ã€‚è¿™ä¸ªç©ºå£³ä»…ä»…æ˜¯åˆå§‹åŒ–äº†ä¸€ä¸ªRNçš„activityï¼Œæ‰€æœ‰çš„jséƒ½æ˜¯è¿è¡Œåœ¨æ ¹è§†å›¾ä¸Šçš„ã€‚ è¿™é‡Œæ³¨æ„ä¸€ä¸‹ï¼Œæ–°å»ºçš„é¡¹ç›®æç¤ºäº†æŒ‰é”®å¯ä»¥åˆ·æ–°é¡µé¢æˆ–è€…è°ƒå‡ºèœå•ã€‚è¿™æ˜¾ç¤ºçš„æ˜¯iosæ¨¡æ‹Ÿå™¨ï¼ŒæŒ‰é”®ä¸ºcommand Råˆ·æ–°å’Œcommand Dè°ƒå‡ºèœå•ã€‚ æ·»åŠ è·¯ç”±ä¸€ä¸ªå®Œæ•´çš„é¡¹ç›®ä¸èƒ½æ²¡æœ‰è·¯ç”±ã€‚è¿™é‡Œæˆ‘ä»¬ä½¿ç”¨React Navigationã€‚ åœ¨å†™æ–‡ç« çš„æ—¶å€™å·²ç»æœ‰ä¸€ä¸ªè·¯ç”±ç»„ä»¶react-native-navigationçƒ­åº¦è¶…è¿‡äº†react-navigationã€‚å®ƒæ›´å¤šçš„ä½¿ç”¨çš„æ˜¯åŸç”Ÿçš„è·¯ç”±åˆ‡æ¢ï¼Œæ•ˆæœæ›´å¥½ã€‚æƒ³ç”¨çš„åŒå­¦å¯ä»¥å»å°è¯•ä¸€ä¸‹ã€‚ å®‰è£…è·¯ç”±ã€‚åœ¨æ ¹ç›®å½•ä¸‹æ‰§è¡Œnpm install --save react-navigationã€‚ åœ¨æ ¹ç›®å½•ä¸‹æ–°å»ºsrcç›®å½•ã€‚æ‰€æœ‰é¡µé¢æ”¾å…¥è¿™ä¸ªæ–‡ä»¶å¤¹ä¸‹ã€‚ æ–°å»ºä¸€ä¸ªé¦–é¡µï¼Œç»™åé¢çš„è·¯ç”±è°ƒç”¨ã€‚é¡µé¢è·¯å¾„ä¸º:æ ¹ç›®å½•/src/home/index.js 12345678910111213141516'use strict';import React from 'react';import &#123; StyleSheet, View, Text&#125; from 'react-native';export default class extends React.Component &#123; render() &#123; return &lt;View style=&#123;&#123; marginTop: 200 &#125;&#125;&gt; &lt;Text&gt;è¿™æ˜¯é¦–é¡µ&lt;/Text&gt; &lt;/View&gt; &#125;&#125; ä¿®æ”¹æ ¹ç›®å½•ä¸‹çš„index.jsã€‚æ·»åŠ æ•´ä¸ªé¡¹ç›®çš„è·¯ç”±ã€‚ 1234import &#123; AppRegistry &#125; from 'react-native';import Pages from './src';//å¯åŠ¨AppRegistry.registerComponent('anxintao', () =&gt; Pages); 5.åœ¨srcç›®å½•ä¸‹æ–°å»ºindex.jsæ–‡ä»¶ã€‚åœ¨è¿™ä¸ªæ–‡ä»¶é‡Œæ·»åŠ è·¯ç”±ã€‚æˆ‘ä»¬ä»ç®€å•çš„ä¸€ä¸ªé¡µé¢å¼€å§‹ã€‚ 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354'use strict';import React from 'react';import &#123; StyleSheet&#125; from 'react-native';//æ·»åŠ è·¯ç”±ç»„ä»¶import Navigation from 'react-navigation';//æ·»åŠ å±•ç¤ºç”¨çš„é¦–é¡µimport Home from './home/index'//åˆ›å»ºè·¯ç”±const Pages = Navigation.StackNavigator(&#123; 'Home': &#123; screen: Home &#125;&#125;, &#123; //è¿™é‡Œåšäº†ä¸€ä¸ªé¡µé¢è·³è½¬çš„åŠ¨ç”» transitionConfig: () =&gt; (&#123; screenInterpolator: sceneProps =&gt; &#123; const &#123; layout, position, scene &#125; = sceneProps; const &#123; index &#125; = scene; //è®¾ç½®é¡µé¢è·³è½¬çš„åŠ¨ç”» const translateX = position.interpolate(&#123; inputRange: [index - 1, index, index + 1], outputRange: [layout.initWidth, 0, 0] &#125;); const opacity = position.interpolate(&#123; inputRange: [index - 1, index - 0.99, index, index + 0.99, index + 1], outputRange: [0, 1, 1, 0.3, 0] &#125;); return &#123; opacity, transform: [&#123; translateX &#125;] &#125;; &#125; &#125;), navigationOptions: &#123; header: null &#125;&#125;);//åˆ›å»ºä¸€ä¸ªè‡ªå·±çš„å®¹å™¨,æ–¹ä¾¿ä»¥åå¯¹è·¯ç”±åšä¸€äº›å¤„ç†export default class extends React.Component&#123; constructor(props) &#123; super(props); &#125; render() &#123; return &lt;Pages onNavigationStateChange=&#123;this.listenChange.bind(this)&#125;&gt;&lt;/Pages&gt;; &#125; //ç›‘å¬è·¯ç”±çš„è·³è½¬ listenChange(state1, state2, action) &#123; &#125;&#125; 6.æ·»åŠ å®Œæˆä¹‹ååˆ é™¤æ‰åˆå§‹åŒ–é¡¹ç›®ä¹‹åçš„App.jsã€‚è¿™ä¸ªæ—¶å€™åœ¨æ¨¡æ‹Ÿå™¨ä¸­ä½¿ç”¨å¿«æ·é”®command+Rå³å¯åˆ·æ–°åˆ·æ–°é¡µé¢ã€‚7.è‡³æ­¤å°±å®Œæˆäº†ç®€å•çš„è·¯ç”±è®¾ç½®ã€‚ä¹‹ååªéœ€è¦æ·»åŠ é¡µé¢å¹¶åœ¨è·¯ç”±ä¸­æ³¨å†Œå³å¯ä½¿ç”¨ã€‚ è·¯ç”±å‡çº§ç‰ˆç®€å•çš„è·¯ç”±å¹¶ä¸èƒ½èµ·åˆ°å¾ˆå¥½çš„ä½œç”¨ï¼Œæˆ‘ä»¬è¿˜æ˜¯åˆ›å»ºä¸€ä¸ªæ›´å®ç”¨çš„è·¯ç”±å§ã€‚æ¯”å¦‚å¸¦3ä¸ªtabåˆ‡æ¢çš„é¦–é¡µï¼Œè¿™ä¹Ÿæ˜¯å¤§å¤šæ•°appä½¿ç”¨å¥—è·¯ã€‚ æ·»åŠ 4ä¸ªtabåˆ‡æ¢é¡µã€‚æˆ‘ä»¬å‡å®šæœªæ¥éœ€è¦4ä¸ªåˆ‡æ¢é¡µï¼Œåˆ†åˆ«æ˜¯é¦–é¡µã€åˆ†ç±»é¡µã€è´­ç‰©è½¦ã€ä¸ªäººä¸­å¿ƒã€‚åœ¨homeä¸‹åˆ†åˆ«åˆ›å»ºä»–ä»¬ã€‚ ä¿®æ”¹è·¯ç”±æ‰€åœ¨çš„indexæ–‡ä»¶ã€‚å¼•å…¥ä¸‹é¢è¦ç”¨åˆ°çš„å‡ ä¸ªç»„ä»¶å’Œé¡µé¢ æ·»åŠ æ–°åŠ å…¥çš„é¡µé¢123456789101112import React from 'react';import &#123; StyleSheet, Image&#125; from 'react-native';//æ·»åŠ è·¯ç”±ç»„ä»¶import Navigation from 'react-navigation';//æ·»åŠ å±•ç¤ºç”¨çš„é¦–é¡µimport Home from './home/index'import Products from './home/products'import Shop_Cart from './home/shop_cart'import My from './home/my' åˆ›å»ºåº•éƒ¨çš„æ ·å¼123456789101112131415//åˆ›å»ºtabé¡µçš„é¡¶éƒ¨æ ·å¼const styles = StyleSheet.create(&#123; tab: &#123; height: 40, backgroundColor: '#fbfafc', borderTopColor: '#efefef' &#125;, tabIcon: &#123; width: 20, height: 20 &#125;, tabLabel: &#123; marginBottom: 4 &#125;&#125;) åˆ›å»ºä¸€ä¸ªtabè·¯ç”±ï¼Œä¸ºäº†ç®€å•è¿™é‡Œåªå±•ç¤º2ä¸ªé¡µé¢çš„ã€‚å…·ä½“çš„ä»£ç å¯ä»¥å»gitä»“åº“æŸ¥çœ‹ã€‚1234567891011121314151617181920212223242526272829303132333435363738394041//åˆ›å»ºé¦–é¡µçš„tabé¡µconst Tabs = Navigation.TabNavigator(&#123; 'Home': &#123; screen: Home, navigationOptions: (&#123; navigation, screenProps &#125;) =&gt; &#123; return &#123; tabBarLabel: 'é¦–é¡µ', tabBarIcon: (opt) =&gt; &#123; if (opt.focused) return &lt;Image source=&#123;&#123; uri: require('./images/tab-home-active') &#125;&#125; style=&#123;styles.tabIcon&#125;&gt;&lt;/Image&gt;; return &lt;Image source=&#123;&#123; uri: require('./images/tab-home') &#125;&#125; style=&#123;styles.tabIcon&#125;&gt;&lt;/Image&gt;; &#125; &#125; &#125; &#125;, 'Products': &#123; screen: Products, navigationOptions: (&#123; navigation, screenProps &#125;) =&gt; &#123; return &#123; tabBarLabel: 'äº§å“åˆ†ç±»', tabBarIcon: (opt) =&gt; &#123; if (opt.focused) return &lt;Image source=&#123;&#123; uri: require('./images/tab-products-active') &#125;&#125; style=&#123;styles.tabIcon&#125;&gt;&lt;/Image&gt;; return &lt;Image source=&#123;&#123; uri: require('./images/tab-products') &#125;&#125; style=&#123;styles.tabIcon&#125;&gt;&lt;/Image&gt;; &#125; &#125; &#125; &#125;,&#125;, &#123; //è®¾ç½®tabä½¿ç”¨çš„ç»„ä»¶ tabBarComponent: Navigation.TabBarBottom, //ç‚¹å‡»å“ªä¸ªæ‰åŠ è½½å“ªä¸ªtabé‡Œçš„é¡µé¢ lazy: true, //è®¾ç½®tabæ”¾åœ¨ç•Œé¢çš„åº•éƒ¨ tabBarPosition: 'bottom', //è®¾ç½®tabé‡Œé¢çš„æ ·å¼ tabBarOptions: &#123; style: styles.tab, labelStyle: styles.tabLabel, activeTintColor: '#d0648f' &#125;&#125;); æ›¿æ¢Pagesé‡Œçš„ç¬¬ä¸€ä¸ªé¡µé¢ä¸ºåˆšæ‰åˆ›å»ºçš„Tabè·¯ç”±ã€‚ç”±äºé»˜è®¤åŠ è½½ç¬¬ä¸€ä¸ªï¼Œæ‰€ä»¥éœ€è¦å°†ç¬¬ä¸€ä¸ªè®¾ç½®æˆtabé¡µã€‚123'Tabs': &#123; screen: Tabs &#125; 3.ç°åœ¨å†åˆ·æ–°æ¨¡æ‹Ÿå™¨,å°±ä¼šå‘ç°åº•éƒ¨çš„Tabåˆ‡æ¢å·²ç»å¥½äº†ã€‚ç‚¹å‡»å¯ä»¥åˆ‡æ¢ä¸åŒçš„é¡µé¢ã€‚ 4.è¿™é‡Œæˆ‘å°†å›¾ç‰‡è½¬åŒ–æˆbase64çš„æ–¹å¼å†å¼•å…¥åˆ°å›¾ç‰‡ç»„ä»¶ä¸­ã€‚å¥½å¤„æ˜¯æ‰“åŒ…ä¹‹åä¼šå˜æˆä¸€ä¸ªæ•´ä½“ã€‚åå¤„æ˜¯æ‰“åŒ…ä¹‹åçš„bundleæ–‡ä»¶ä¼šå˜å¤§ï¼Œåšå¢é‡æ›´æ–°ä¹Ÿæ¯”è¾ƒéº»çƒ¦ã€‚ ä¸æ¨èä½¿ç”¨çš„ä¸œè¥¿ æŠ•å½±ã€‚å®‰å“ä¸æ”¯æŒæŠ•å½±ï¼Œåœ¨å¼€å‘çš„æ—¶å€™å¦‚æœæ²¡æœ‰å¿…è¦å°±ä½¿ç”¨åˆ«çš„æ–¹å¼ä»£æ›¿å§ã€‚æ¯”å¦‚ä½¿ç”¨å›¾ç‰‡ä»£æ›¿æŠ•å½±ã€‚ è¾¹æ¡†è‰²ã€‚åœ¨é•¿åˆ—è¡¨ä¸­å°½é‡ä¸è¦ä½¿ç”¨è¾¹æ¡†è‰²ï¼Œåœ¨æŸäº›å®‰å“æ‰‹æœºä¸‹ä¼šé—ªé€€ã€‚ ä½¿ç”¨äº†åœ†è§’çš„æƒ…å†µå†ä½¿ç”¨èƒŒæ™¯è‰²ã€‚iosæ‰‹æœºä¼šå‡ºç°è¾¹æ¡†é¢œè‰²å¼‚å¸¸æˆ–è€…å¼‚å¸¸è‰²å—ã€‚å»æ‰èƒŒæ™¯å³å¯ã€‚ è¿‡äºæ·±å±‚æ¬¡çš„ç»“æ„ è¿‡äºé¢‘ç¹çš„åˆ·æ–°state","categories":[{"name":"å‰ç«¯","slug":"big-front-end","permalink":"http://www.guofangchao.com/categories/big-front-end/"}],"tags":[{"name":"react-native","slug":"react-native","permalink":"http://www.guofangchao.com/tags/react-native/"}],"keywords":[{"name":"å‰ç«¯","slug":"big-front-end","permalink":"http://www.guofangchao.com/categories/big-front-end/"}]},{"title":"00.ä¸ºä»€ä¹ˆæˆ‘é€‰æ‹©react-native","slug":"00-ä¸ºä»€ä¹ˆæˆ‘é€‰æ‹©react-native","date":"2018-03-14T14:10:00.000Z","updated":"2018-03-14T14:15:33.879Z","comments":true,"path":"2018/03/14/00-ä¸ºä»€ä¹ˆæˆ‘é€‰æ‹©react-native/","link":"","permalink":"http://www.guofangchao.com/2018/03/14/00-ä¸ºä»€ä¹ˆæˆ‘é€‰æ‹©react-native/","excerpt":"","text":"åœ¨æ‰€æœ‰çš„æŠ€æœ¯é€‰å‹ä¹‹å‰éƒ½æœ‰ä¸€ä¸ªä¸ºä»€ä¹ˆã€‚ ä¸ºä»€ä¹ˆæˆ‘é€‰æ‹©äº†React-nativeï¼Ÿé€‰æ‹©è¿™ä¸ªæŠ€æœ¯åˆ°åº•ç»™æˆ‘å¸¦æ¥äº†ä»€ä¹ˆæ ·çš„æŠ€æœ¯ç¦åˆ©ï¼Ÿå¦‚æœä½ æ­£åœ¨è€ƒè™‘RNï¼Œæˆ–è€…è¿˜åœ¨ç ”ç©¶é€‰æ‹©ä»€ä¹ˆæ ·çš„æŠ€æœ¯å®ç°è‡ªå®¶çš„APPã€‚ä¸å¦¨çœ‹çœ‹æˆ‘çš„è¯¾ç¨‹ï¼Œè¯´ä¸å®šä½ å°±æœ‰äº†ä¸ä¸€æ ·çš„æ„Ÿå—ã€‚ æ³¨ï¼šreact-nativeä»¥ä¸‹ä¼šç®€ç§°RNã€‚ æˆ‘æ³¨æ„çš„ä¼˜ç‚¹é€‰æ‹©RNä¹‹å‰æˆ‘ä¹Ÿçœ‹è¿‡äº†å…¶ä»–çš„å‡ ç§æŠ€æœ¯ï¼Œæ—©ä¸€ç‚¹çš„æ—¶å€™æˆ‘ä¹Ÿä½¿ç”¨è¿‡å…¶ä»–çš„æŠ€æœ¯åšAPPã€‚æ¯”å¦‚HBuilderçš„æ¡†æ¶ï¼Œéå¸¸çš„æ–¹ä¾¿ã€éå¸¸çš„å¥½ç”¨ã€ä»€ä¹ˆéƒ½ä¸éœ€è¦ç®¡ã€‚ä½†æ˜¯å¼€å‘å®Œä¹‹åå‘ç°æ€§èƒ½å¾ˆå·®ï¼Œåšä¸€ä¸ªç¨å¾®å¤æ‚ç‚¹çš„é¡¹ç›®å°±éå¸¸ä¸Šç«ã€‚åæ¥åˆ‡äº†åŸç”Ÿï¼Œä½†æ˜¯ä½¿ç”¨javaåšå¼€å‘ä¹Ÿæœ‰éå¸¸å¤šå¾—é—®é¢˜ï¼Œå¼€å‘æ•ˆç‡å¾ˆä½ã€‚ åæ¥æˆ‘é€‰æ‹©äº†RNï¼Œå®ƒä½¿ç”¨jsæ›´æ–°è™šæ‹Ÿdomï¼Œé€šè¿‡ä¸€ä¸ªæ¡¥æ¥å™¨å°†éœ€è¦æ›´æ–°çš„ç»“æœé€šçŸ¥åˆ°UIå±‚ï¼Œè®©nativeæ‰§è¡ŒUIçš„æ”¹å˜ã€‚ç®€å•æ¥è¯´ï¼Œå°±æ˜¯ç”¨jsåšé©±åŠ¨å¼€å‘ä¸€ä¸ªç±»åŸç”Ÿçš„APPã€‚æ‰€æœ‰çš„æ¸²æŸ“éƒ½æ˜¯å’ŒåŸç”Ÿä¸€æ ·çš„ï¼Œä¸€ä¸‹å­å°±è®²åŸç”Ÿå¼€å‘å’Œjså¼€å‘è¿æ¥èµ·æ¥ã€‚é€šè¿‡è¿™ä¹ˆä¸€ä¸ªæ¨¡å¼ï¼Œå°†ä¼ ç»Ÿçš„javaæˆ–è€…ocå¼€å‘è½¬å˜æˆäº†ç®€å•æ˜“æ‡‚çš„å‰ç«¯jså¼€å‘ã€‚è¿™æ˜¯ç§»åŠ¨å¼€å‘çš„ä¸€å¤§è¿›æ­¥ï¼Œé¿å…äº†ä¸€ä¸ªAPPå¤šä¸ªå¹³å°å¤šå¥—ä»£ç çš„å°´å°¬ï¼ŒåŒæ—¶æå‡äº†å¼€å‘æ•ˆç‡ï¼Œå°†ç§»åŠ¨å¼€å‘å¸¦å…¥äº†ä¸€ä¸ªæ–°çš„å±‚é¢ã€‚ æ€§èƒ½ç›¸ä¼¼å¾ˆå¤šäººè¯´RNçš„æ€§èƒ½æ¯”ä¸ä¸ŠåŸç”Ÿçš„APPã€‚è¿™ä¸ªè¯´æ³•æ˜¯è¦çœ‹å…·ä½“çš„åœºæ™¯ä¸‹çš„ã€‚ åœ¨ä¸€èˆ¬çš„åº”ç”¨åœºæ™¯ä¸‹RNçš„è¡¨ç°å’ŒåŸç”ŸAPPæ˜¯æ²¡æœ‰å¤ªå¤§çš„å·®åˆ«çš„ã€‚ä¸€ä¸ªAPPä¹Ÿä¸ä¼šæ˜¯åˆ°å¤„éƒ½æ˜¯å¤æ‚çš„äº¤äº’æ•ˆæœã€‚ä¸€äº›ç®€å•çš„ç‚¹ç¼€åŠ¨ç”»å†åŠ ä¸Šåˆ—è¡¨å›¾ç‰‡ç­‰æ‰æ˜¯ä¸€ä¸ªAPPæœ€å¸¸è§çš„å†…å®¹ã€‚è¿™ç§æƒ…å†µä¸‹å®ƒä»¬ä¹‹é—´çš„è¡¨ç°æ˜¯ä¸€æ ·çš„ã€‚ RNæœ¬èº«åªæ˜¯ä½¿ç”¨jså¤„ç†äº†UIæ¸²æŸ“ä¹‹å‰çš„ä¸€äº›é€»è¾‘ï¼Œåœ¨æœ€ç»ˆçš„æ¸²æŸ“ä¸Šå…¶å®ä½¿ç”¨çš„è¿˜æ˜¯åŸç”Ÿçš„é€»è¾‘ã€‚å°¤å…¶æ˜¯æ¸²æŸ“å®Œæˆä¹‹åæ›´æ˜¯å’ŒåŸç”Ÿçš„æ²¡æœ‰åŠç‚¹åŒºåˆ«ã€‚ æˆ‘ä»¬çš„æ¡ˆä¾‹æ˜¯ä¸€ä¸ªç”µå•†é¡¹ç›®ï¼Œä¸»è¦æ¸²æŸ“é€»è¾‘æ˜¯é¦–é¡µçš„è‡ªå®šä¹‰æ¨¡æ¿ã€æ— é™åŠ è½½çš„åˆ—è¡¨ç­‰ã€‚ç›®å‰æœ€å¤§çš„æ€§èƒ½ç“¶é¢ˆå…¶å®æ˜¯åœ¨äº‹ä»¶çš„ä¼˜åŒ–ä¸Šï¼Œä¼˜åŒ–ä¹‹åç”¨æˆ·å·²ç»æ„ŸçŸ¥ä¸åˆ°å’ŒåŸç”Ÿçš„åŒºåˆ«äº†ã€‚æˆ‘ä»¬ä¼šåœ¨åé¢çš„éƒ¨åˆ†æåˆ°æ€§èƒ½ä¼˜åŒ–ï¼Œå°†ä¸€ä¸ªç²—ç³™çš„appé€šè¿‡ç®€å•çš„æ–¹æ³•æé«˜10å€æ€§èƒ½ï¼Œå†é€šè¿‡å¦å¤–ä¸€ä¸ªç¨å¾®å¤æ‚çš„æ–¹æ³•å‡ä½å†…å­˜å ç”¨ã€‚ å¼€å‘æ•ˆç‡é«˜é€šå¸¸æƒ…å†µå¼€å‘ä¸€æ¬¾APPéœ€è¦å‘å¸ƒåœ¨å®‰å“å’ŒiOSä¸¤ä¸ªå¹³å°ï¼Œå¯¼è‡´çš„ç»“æœå°±æ˜¯ä¸€ä¸ªAPPä¸¤ä¸ªå›¢é˜Ÿä¸¤å¥—ä»£ç ã€‚ç•Œé¢å‡ ä¹ä¸€æ ·ï¼Œä¸ºä»€ä¹ˆä¸èƒ½ä½¿ç”¨ä¸€å¥—ä»£ç å‘¢ï¼Ÿä¹‹å‰ä¹Ÿæœ‰å¤§ç¥ä½¿ç”¨å„ç§æ‰‹æ®µè¾¾æˆè¿™ä¸ªç›®æ ‡ï¼Œä½†æ˜¯å¹¶ä¸æ˜¯å¾ˆç†æƒ³ã€‚ ç”±äºä½¿ç”¨ç†Ÿæ‚‰çš„reactå’Œjsxçš„æ¨¡å¼ï¼Œå¼€å‘è€…åªéœ€è¦æœ‰å‰ç«¯çŸ¥è¯†å°±å¯ä»¥å¾ˆè¿…é€Ÿçš„ä¸Šæ‰‹ä¸€ä¸ªRNé¡¹ç›®ã€‚å¦‚æœå†å­¦ä¸€äº›å®æˆ˜çš„ä¾‹å­ï¼Œç¨å¾®å¤æ‚ä¸€äº›çš„é¡¹ç›®ä¹Ÿéš¾ä¸å€’å„ä½å‰ç«¯å¼€å‘è€…ã€‚ debugè¶…çº§æ–¹ä¾¿ï¼Œä¸€è¾¹å¼€å‘ä¸€è¾¹çœ‹æ•ˆæœå†ä¹Ÿä¸æ˜¯æ¢¦ã€‚ å¿«é€Ÿçƒ­æ›´æ–°RNç”Ÿæˆçš„jsæ–‡ä»¶ï¼Œåªè¦ä¸æ¶‰åŠåŸç”ŸåŠŸèƒ½çš„å¢å‡ï¼Œå·²ç»å‘å¸ƒçš„APPå®Œå…¨ä¸éœ€è¦é‡æ–°å®‰è£…å³å¯å®Œæˆæ–°ç‰ˆåŠŸèƒ½çš„ä¸Šçº¿ã€‚ç”¨æˆ·åªéœ€æ‰“å¼€APPå°±èƒ½ä½“éªŒåˆ°æœ€æ–°çš„APPï¼Œçœå»äº†ä¸‹è½½é‡è£…çš„å„ç§éº»çƒ¦ã€‚æŠŠappçš„æ›´æ–°åšåˆ°äº†å’Œç½‘é¡µæ›´æ–°ä¸€æ ·çš„æ–¹ä¾¿å¿«æ·ã€‚ ä½¿ç”¨RNå°±èƒ½è¾¾åˆ°æ—¢æœ‰åŸç”Ÿçš„æ‰€æœ‰èƒ½åŠ›ï¼Œåˆæœ‰ç±»ä¼¼æµè§ˆå™¨ä¸Šçš„å¿«é€Ÿæ›´æ–°èƒ½åŠ›ã€‚åŒæ—¶è¿˜å¯ä»¥æ¥å…¥å„ç§å®šåˆ¶å¥½çš„ç½‘é¡µï¼Œå°†APPçš„è‡ªç”±åº¦æé«˜åˆ°ä¸€ä¸ªéå¸¸é«˜çš„åœ°æ­¥ã€‚ å¤§å…¬å¸èƒŒä¹¦RNçš„å¼€å‘è€…æ˜¯facebookï¼ŒèƒŒé å¤§æ ‘å¥½ä¹˜å‡‰ï¼Œç¤¾åŒºæ›´ç–¯ç‹‚ã€‚FBæœ¬èº«ä¹Ÿåœ¨å°è¯•ä½¿ç”¨RNæŠ€æœ¯å¼€å‘è‡ªå·±çš„APPï¼ŒRNä¸€å®šä¼šè¶Šæ¥è¶Šå®Œå–„ã€‚æˆªæ­¢å†™è¿™ç¯‡æ–‡ç« çš„æ—¶å€™RNå·²ç»æ›´æ–°åˆ°äº†0.53.0ã€‚ RNæœ¬èº«ä¹Ÿæ˜¯å¼€æºçš„ï¼Œæ‰€æœ‰çš„æºä»£ç éƒ½æ˜¯å¯ä»¥çœ‹åˆ°çš„ã€‚ç¤¾åŒºçš„è®¨è®ºä¹Ÿæ˜¯æ¯”è¾ƒçƒ­çƒˆçš„ã€‚ç°åœ¨å¯èƒ½ä¸­æ–‡æ–‡æ¡£è¿˜æ¯”è¾ƒå°‘ï¼Œæœªæ¥éšç€å¼€å‘è€…çš„åŠªåŠ›ï¼Œè¿™äº›å‘éƒ½ä¼šå¡«èµ·æ¥çš„ã€‚ å…¶å®æœ€å¼€å§‹çš„æ—¶å€™ä¹Ÿæ²¡æœ‰æƒ³å¾ˆå¤šï¼Œä»…ä»…æ˜¯å†²ç€RNå¯ä»¥å¿«é€Ÿå¼€å‘ï¼Œä¸Šçº¿å¿«ä½“éªŒå¥½ã€‚ç»è¿‡äº†è¿™ä¹ˆé•¿æ—¶é—´çš„å¼€å‘ï¼Œæˆ‘æ›´åŠ å–œæ¬¢RNçš„è¿™ç§å¼€å‘æ–¹å¼ï¼Œé¡¹ç›®ä¸­ä¹Ÿå¡«äº†å„ç§å„æ ·çš„å‘ã€‚åé¢å°±ç”¨ä¸€ä¸ªå®é™…çš„ä¾‹å­æ¥å±•ç¤ºRNæ˜¯æ€æ ·å¼€å‘çš„å§ã€‚ RNçš„ç¼ºç‚¹å‡çº§å¿«RNæœ¬èº«å…¶å®è¿˜å¤„äºæµ‹è¯•ç‰ˆï¼Œå¼€å‘ç»„ç»å¸¸ä¼šå‡çº§RNï¼Œè§£å†³ä¸€äº›é—ç•™æˆ–è€…éšè—çš„bugã€‚åœ¨è¿™ä¸ªçš„è¿‡ç¨‹ä¸­å°±å¯¼è‡´äº†RNæœ¬èº«å‡çº§éå¸¸å¿«ï¼Œå¼€å‘è€…åœ¨ä½¿ç”¨RNå¼€å‘APPçš„è¿‡ç¨‹ä¸­åº”è¯¥å°½é‡æé«˜è‡ªå·±çš„ç‰ˆæœ¬ï¼Œä¸éœ€è¦ä¸€ç›´æ˜¯æœ€æ–°çš„ï¼Œåªè¦èƒ½å¤Ÿè·Ÿçš„ä¸ŠFBçš„èŠ‚å¥å³å¯ã€‚ è‡ªå·±æå®šçš„é—®é¢˜ä¹Ÿæ˜¯å¯ä»¥åˆå¹¶å…¥RNçš„æºä»£ç é‡Œçš„ã€‚ä¸è¦ä¸€å‘³çš„ç­‰RNæ›´æ–°ï¼Œæœ‰äº›é—®é¢˜è‡ªå·±è§£å†³æ›´æ–¹ä¾¿ã€‚å»ºè®®ä¼šAndroidæˆ–è€…iosåŒå­¦è‡ªå·±åŠ¨æ‰‹ã€‚ åŠ¨ç”»éš¾è¿™é‡Œçš„éš¾æŒ‡çš„æ˜¯å¤æ‚çš„åŠ¨ç”»åœ¨å¼€å‘ä¸­å¾ˆéš¾å»ä¼˜åŒ–ã€‚å°¤å…¶æ˜¯å¼€å‘è€…æ‡‚å‰ç«¯ä½†æ˜¯ä¸æ‡‚åŸç”Ÿçš„æƒ…å†µä¸‹ã€‚å¥½åœ¨å¸¸è§çš„APPä¹Ÿä¸éœ€è¦å¤šä¹ˆå¤æ‚çš„åŠ¨ç”»ã€‚ä¸€èˆ¬ä½¿ç”¨ä½ç§»å˜æ¢å°±è¶³å¤Ÿäº†ï¼Œå¤ªå¤æ‚çš„åŠ¨ç”»å»ºè®®ä½¿ç”¨RNçš„svgç»„ä»¶æ¥åšã€‚ webviewéš¾ç”¨RNè‡ªå¸¦çš„webviewè·Ÿæµè§ˆå™¨æœ‰ä¸€å®šçš„å·®åˆ«ã€‚APPç»å¸¸è¦æ‰“å¼€ä¸€äº›ç½‘é¡µï¼Œå¯èƒ½åœ¨å¼€å‘çš„æ—¶å€™ä¸€åˆ‡æ­£å¸¸ï¼Œä½†æ˜¯åˆ°äº†RNé‡Œé¢å°±ä¼šæœ‰ä¸€äº›å¥‡æ€ªçš„é—®é¢˜ï¼Œä¸»è¦è¿˜æ˜¯å—åˆ°ç³»ç»Ÿæµè§ˆå™¨çš„å½±å“ï¼Œä¼šæœ‰ä¸€äº›å…¼å®¹æ–¹é¢çš„é—®é¢˜ã€‚è¿™ç§æƒ…å†µä¸‹ä¸å¦‚å¾®ä¿¡ä½¿ç”¨è‡ªå·±ç ”å‘çš„æµè§ˆå™¨ï¼Œå¯ä»¥ç•…å¿«çš„ä½¿ç”¨ES6ä¹‹ç±»çš„æ–°æŠ€æœ¯ã€‚ éœ€è¦åŸç”Ÿæ”¯æŒç®€å•çš„ä¸œè¥¿å’Œç•Œé¢çš„å±•ç°å·²ç»å®Œå…¨æ”¾æ‰‹ç»™äº†å¼€å‘è€…ã€‚ä½†æ˜¯è¿˜æ˜¯æœ‰ä¸€äº›åŠŸèƒ½åªèƒ½åŸç”Ÿå»å®ç°ï¼Œå¦‚æœåŸç”Ÿéƒ¨åˆ†çš„å¼€å‘è€…å¯¹RNä¸å¤ªäº†è§£å¯èƒ½ä¼šç»™APPå¸¦æ¥ä¸å¯é¢„çŸ¥çš„bugã€‚å¥½åœ¨å¤§å¤šæ•°å¼€æºçœ‹åªéœ€è¦æ‰§è¡Œlinkå‘½ä»¤å°±å¯ä»¥æŠŠåŸç”Ÿéƒ¨åˆ†ä¹Ÿå®‰è£…å¥½ã€‚ æŠ€æœ¯éƒ½ä¼šæœ‰ä¼˜ç‚¹å’Œç¼ºç‚¹ã€‚é€‰æ‹©åˆé€‚çš„æŠ€æœ¯æ‰èƒ½ç»™é¡¹ç›®å¸¦æ¥é•¿ä¹…çš„ç”Ÿå‘½åŠ›ã€‚ å…¶ä»–æŠ€æœ¯weexæ ¸å¿ƒæ€æƒ³ä¸Šï¼Œè¿™ä¸¤å®¶å…¶å®å¹¶æ²¡æœ‰ä»€ä¹ˆåŒºåˆ«ã€‚weexä¹Ÿå¯ä»¥ç®—æ˜¯ç«™åœ¨RNçš„è‚©è†€ä¸Šèµ·æ­¥çš„ã€‚ç›®å‰æ´»è·ƒåº¦ä¸é«˜ï¼Œå¤§å¤šæ•°æ˜¯åœ¨è§‚æœ›ä¸­ã€‚ å¼€å‘æ¡†æ¶weexä½¿ç”¨vueã€‚ç†Ÿæ‚‰vueçš„å¼€å‘è€…å¯èƒ½ä¼šæ›´ç†Ÿæ‚‰ã€‚ RNä½¿ç”¨reactã€‚éƒ½æ˜¯facebookå‡ºå“ï¼Œæ¡†æ¶èåˆä¸Šä¼šæ›´æ–¹ä¾¿ä¸€äº›ã€‚ å®ƒä»¬éƒ½æ˜¯ç»„ä»¶åŒ–å¼€å‘ï¼Œéƒ½è¾“æ•°æ®ç»‘å®šï¼Œéƒ½æœ‰è™šæ‹Ÿdomã€‚ç¤¾åŒºåŒæ ·æ´»è·ƒï¼Œä½¿ç”¨äººæ•°ä¹Ÿéƒ½éå¸¸å¤šã€‚ å­¦ä¹ æˆæœ¬reactçš„jsxåˆæœŸä¼šæ¯”è¾ƒéš¾ä¸Šæ‰‹ï¼Œcssçš„å†™æ³•ä¹Ÿè·Ÿå‰ç«¯çš„æ ·å¼å†™æ³•ä¸ä¸€æ ·ã€‚weexä½¿ç”¨æ¨¡æ¿çš„å½¢å¼ï¼Œç›´æ¥html+csså¼€å‘ã€‚ä¸Šæ‰‹ä¼šç¨å¾®ç®€å•ä¸€äº›ã€‚ å¼‚æ­¥weexåªæ”¯æŒcallbackçš„å½¢å¼ã€‚RNæ”¯æŒpromiseçš„å½¢å¼ã€‚ è¿™äº›éƒ½æ˜¯å¯ä»¥è§£å†³çš„ã€‚ä¸æ˜¯ä»€ä¹ˆé—®é¢˜ã€‚ ç¤¾åŒºRNå¼€æºæ—©ï¼Œæœ‰facebookæ”¯æŒã€‚ç¤¾åŒºçš„ç»„ä»¶åº“å·²ç»æ¯”è¾ƒä¸°å¯Œï¼Œç¤¾åŒºæ´»è·ƒåº¦æ¯”è¾ƒé«˜ã€‚weexå¼€æºæ™šï¼Œç¤¾åŒºæ´»è·ƒä¸é«˜ï¼Œä»¥é˜¿é‡Œç³»æ¯”è¾ƒå¤šã€‚ FlutterFlutter æ˜¯Googleæ¨å‡ºçš„ä¸€ä¸ªè·¨å¹³å°ï¼ˆAndroid å’Œ iOSï¼‰ç§»åŠ¨å¼€å‘æ¡†æ¶ï¼Œä½¿ç”¨çš„æ˜¯ Dart è¯­è¨€ã€‚ Flutter çš„ç›®æ ‡æ˜¯ç”¨æ¥åˆ›å»ºé«˜æ€§èƒ½ã€é«˜ç¨³å®šæ€§ã€é«˜å¸§ç‡ã€ä½å»¶è¿Ÿçš„ Android å’Œ iOS åº”ç”¨ã€‚å¹¶ä¸”å¼€å‘å‡ºæ¥çš„åº”ç”¨åœ¨ä¸åŒçš„å¹³å°ç”¨èµ·æ¥è·ŸåŸç”Ÿåº”ç”¨å…·æœ‰ä¸€æ ·çš„ä½“éªŒã€‚ä¸åŒçš„å¹³å°çš„åŸç”Ÿä½“éªŒåº”è¯¥å¾—åˆ°ä¿ç•™ï¼Œè®©è¯¥åº”ç”¨çœ‹èµ·æ¥åŒæ•´ä¸ªç³»ç»Ÿæ›´åŠ åè°ƒã€‚ä¸åŒå¹³å°çš„æ»šåŠ¨æ“ä½œã€å­—ä½“ã€å›¾æ ‡ ç­‰ç‰¹æ®Šçš„ç‰¹æ€§ åº”è¯¥å’Œè¯¥å¹³å°ä¸Šçš„å…¶ä»–åº”ç”¨ä¿æŒä¸€è‡´ï¼Œè®©ç”¨æˆ·æ„Ÿè§‰å°±åƒæ“ä½œåŸç”Ÿåº”ç”¨ä¸€æ ·ã€‚æ¯”å¦‚ï¼Œè¿”å›å›¾æ ‡ Android å’Œ iOS æ˜¯ä¸ä¸€æ ·çš„ï¼›æ»šåŠ¨å†…å®¹æ»šåŠ¨åˆ°åº•çš„åé¦ˆä¹Ÿæ˜¯ä¸ä¸€æ ·çš„ã€‚ å…¼å®¹Flutterä¸ä½¿ç”¨ç³»ç»Ÿæä¾›çš„ç»„ä»¶ï¼Œè‡ªå·±å®ç°äº†ä¸€å¥—æ¸²æŸ“æœºåˆ¶ï¼Œæ‰€ä»¥åœ¨æ€§èƒ½ä¼˜åŒ–ã€è·¨å¹³å°æ–¹é¢è¡¨ç°ä¼˜ç§€ã€‚å®é™…ä½“éªŒä¸Šï¼Œæ€§èƒ½æ¯”RNè¦é«˜ä¸å°‘ã€‚ RNæœ€ç»ˆè°ƒç”¨çš„è¿˜æ˜¯ç³»ç»Ÿçš„ç»„ä»¶ï¼Œè™½ç„¶FBå·²ç»å¾ˆåŠªåŠ›äº†ï¼Œä½†æ˜¯åœ¨æŸäº›æ—¶å€™è¿˜æ˜¯ä¼šæœ‰å…¼å®¹æ€§éœ€è¦å¤„ç†ã€‚ ç»„ä»¶Flutter å†…ç½®äº†å¯¹Material Designçš„æ”¯æŒï¼Œç»™å¼€å‘è€…æä¾›äº†ä¸°å¯Œçš„ UI æ§ä»¶åº“é€‰æ‹©ã€‚åŒæ—¶æ‰€æœ‰çš„ç»„ä»¶éƒ½æœ‰æ‰©å±•ï¼Œä¿æŒäº†å¾ˆé«˜çš„çµæ´»æ€§ã€‚ RNé€šè¿‡reactä¹Ÿåšåˆ°äº†ç»„ä»¶å¼å¼€å‘ï¼Œè·ŸFlutterç›¸æ¯”ï¼Œå¤šäº†ä¸€ä¸ªæ¡¥æ¥å™¨çš„è½¬æ¢ï¼Œæ€§èƒ½ä¸Šè‚¯å®šä¸å¦‚Flutterã€‚ å¼€å‘è¯­è¨€Flutterä½¿ç”¨Dartå®ç°ã€‚Dartå·ç§°è¦å®Œå…¨å–ä»£jsï¼Œä¸è¿‡ç›®å‰ç¦»è¿™ä¸ªç›®æ ‡è¿˜éå¸¸è¿œã€‚åˆæœŸä¸Šæ‰‹è¿˜æ˜¯æœ‰ä¸€äº›éš¾åº¦çš„ã€‚ RNä½¿ç”¨jså¼€å‘ï¼Œåšè¿‡å‰ç«¯çš„éƒ½éå¸¸ç†Ÿæ‚‰ï¼Œä¸Šæ‰‹å¾ˆå®¹æ˜“ã€‚ Flutterç°åœ¨è¿˜åœ¨å®éªŒé˜¶æ®µï¼Œä¸æ’é™¤googleä½¿ç”¨åˆ«çš„æ¡†æ¶æ›¿æ¢å®ƒçš„å¯èƒ½æ€§ã€‚Dartè¯­è¨€ä¹Ÿå¤„äºæˆé•¿é˜¶æ®µï¼Œåªæœ‰googleçš„æµè§ˆå™¨åœ¨æ”¯æŒã€‚æˆ–è®¸åœ¨FlutteræŒç»­å‘å±•åˆ°ä¸€ä¸ªé˜¶æ®µä¹‹åï¼Œæ‰ä¼šæœ‰å¾ˆå¤šæ”¯æŒè€…ã€‚ åœ¨å†™æ–‡ç« çš„æ—¶å€™googleæ”¾å‡ºäº†ç¬¬ä¸€ä¸ªæµ‹è¯•ç‰ˆï¼Œæ„Ÿå…´è¶£çš„åŒå­¦å¯ä»¥ä¸‹è½½ä¸‹æ¥ç©ç©ã€‚ ç›¸æ¯”äºå…¶ä»–å‡ ç§æŠ€æœ¯ï¼ŒRNæ˜¯ç›®å‰ç¤¾åŒºæœ€æ´»è·ƒï¼Œå¼€å‘æ•ˆç‡æœ€é«˜çš„ä¸€ç§é€‰æ‹©ã€‚é€‰æ‹©RNä¹Ÿæ˜¯éœ€è¦åœ¨ä¸€ä¸ªæ¯”è¾ƒçŸ­çš„æ—¶é—´å†…èƒ½å¤Ÿå®ŒæˆAPPçš„å¼€å‘ã€‚å°¤å…¶ç°åœ¨å‰ç«¯å¼€å‘è€…å¯ä»¥éå¸¸å®¹æ˜“çš„ä»ç½‘é¡µå¼€å‘è½¬åˆ°APPå¼€å‘ä¸Šã€‚å¯¹äºæˆ‘ä»¬åŒ…å«APPã€å¾®ä¿¡ã€å°ç¨‹åºè¿™æ ·çš„ä¸‰ä¸ªå¹³å°æ›´æ˜¯éœ€è¦RNè¿™æ ·çš„æŠ€æœ¯ï¼Œä¸€ä¸ªå›¢é˜Ÿå°±å¯ä»¥ç»´æŠ¤é¡¹ç›®çš„æŒç»­å¢é•¿ã€‚ å¦‚æœä½ éœ€è¦RNæ¥å¼€å‘è‡ªå·±çš„é¡¹ç›®ï¼Œé‚£å°±çœ‹ä¸‹å»å§ã€‚æˆ‘ä»¬å°†ä»ç®€å•çš„ç•Œé¢å¼€å‘ï¼Œæ•°æ®æ›´æ–°ç­‰å¼€å§‹é€æ­¥æ·±å…¥ã€‚åé¢æ¶‰åŠåˆ°æ€§èƒ½ä¼˜åŒ–ã€è‡ªå®šä¹‰åŸç”Ÿéƒ¨åˆ†ç­‰ã€‚","categories":[{"name":"å‰ç«¯","slug":"big-front-end","permalink":"http://www.guofangchao.com/categories/big-front-end/"}],"tags":[{"name":"react-native","slug":"react-native","permalink":"http://www.guofangchao.com/tags/react-native/"}],"keywords":[{"name":"å‰ç«¯","slug":"big-front-end","permalink":"http://www.guofangchao.com/categories/big-front-end/"}]}]}